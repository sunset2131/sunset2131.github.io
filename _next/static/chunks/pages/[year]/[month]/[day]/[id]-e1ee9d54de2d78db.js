(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{2969:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(7876),a=r(8230),n=r.n(a),i=r(8318),l=r(7328),o=r.n(l);function d(){let e=new Date().getFullYear();return(0,s.jsx)("footer",{className:"w-full py-6 mt-12",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Copyright \xa9 ",e," Sunset."]})})})}function c(e){let{children:t,home:r,post:a}=e;return(0,s.jsxs)("div",{className:"text-gray-700 flex flex-col min-h-screen",children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("link",{rel:"icon",href:"/images/logo.png"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center",children:r?(0,s.jsxs)("header",{className:"flex flex-col items-center justify-center mt-12",children:[(0,s.jsx)("img",{src:"/images/logo.png",alt:"Sunset",className:"size-20 rounded-full md:size-35"}),(0,s.jsx)("h1",{className:"md:text-3xl text-xl font-[MesloLGL] font-extrabold text-red-700 mt-6",children:"Sunset's Blog"}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-2 mt-2 font-[MesloLGL]",children:[(0,s.jsx)(i.$,{variant:"ghost",children:(0,s.jsx)(n(),{href:"/",children:"Home"})}),(0,s.jsx)(i.$,{variant:"ghost",children:(0,s.jsx)(n(),{href:"/writing",children:"Writing"})}),(0,s.jsx)(i.$,{variant:"ghost",children:(0,s.jsx)(n(),{href:"/about",children:"About"})}),(0,s.jsx)(i.$,{variant:"ghost",children:(0,s.jsx)(n(),{href:"/search",children:"Search"})})]})]}):a?(0,s.jsxs)("header",{className:"flex justify-center md:mt-12 mt-5",children:[(0,s.jsx)("img",{src:"/images/logo.png",alt:"Sunset",className:"md:size-18 md:block hidden rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-center md:justify-start",children:[(0,s.jsx)("img",{src:"/images/logo.png",alt:"Sunset",className:"size-10 rounded-xl md:hidden"}),(0,s.jsx)("h1",{className:"md:text-3xl text-xl font-[MesloLGL] font-extrabold text-red-700 ml-4",children:"Sunset's Blog"})]}),(0,s.jsxs)("div",{className:"mt-2 font-[MesloLGL] grid grid-cols-4",children:[(0,s.jsx)(i.$,{variant:"ghost",className:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",children:(0,s.jsx)(n(),{href:"/",children:"Home"})}),(0,s.jsx)(i.$,{variant:"ghost",className:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",children:(0,s.jsx)(n(),{href:"/writing",children:"Writing"})}),(0,s.jsx)(i.$,{variant:"ghost",className:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",children:(0,s.jsx)(n(),{href:"/about",children:"About"})}),(0,s.jsx)(i.$,{variant:"ghost",className:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",children:(0,s.jsx)(n(),{href:"/search",children:"Search"})})]})]})]}):(0,s.jsx)("header",{className:"flex flex-col items-center justify-center mt-12",children:(0,s.jsx)("h1",{className:"text-3xl font-[MesloLGL] font-extrabold text-red-700 mt-6",children:"Sunset's Blog"})})}),(0,s.jsx)("main",{className:"flex justify-center flex-grow",children:t}),(0,s.jsx)(d,{})]})}},8318:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var s=r(7876);r(4232);var a=r(1138),n=r(9518),i=r(8773);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:r,size:n,asChild:o=!1,...d}=e,c=o?a.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:r,size:n,className:t})),...d})}},8773:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(9241),a=r(9573);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},9173:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__N_SSG:()=>y,default:()=>j});var s=r(7876),a=r(2969),n=r(4232),i=r(1138),l=r(9518),o=r(8773);let d=(0,l.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,asChild:a=!1,...n}=e,l=a?i.DX:"span";return(0,s.jsx)(l,{"data-slot":"badge",className:(0,o.cn)(d({variant:r}),t),...n})}var x=r(7328),u=r.n(x),h=r(8741);function m(e){let{contentSelector:t="article"}=e,[r,a]=(0,n.useState)([]),[i,l]=(0,n.useState)("");if((0,n.useEffect)(()=>{let e=document.querySelector(t);if(!e)return;let r=Array.from(e.querySelectorAll("h1, h2, h3"));a(r.map((e,t)=>(e.id||(e.textContent.trim()?e.id="heading-".concat(t,"-").concat(encodeURIComponent(e.textContent.trim()).replace(/%/g,"").substring(0,50)):e.id="heading-".concat(t)),{id:e.id,text:e.textContent,level:parseInt(e.tagName.substring(1))})));let s=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&l(e.target.id)})},{rootMargin:"-20% 0% -80% 0%",threshold:0});return r.forEach(e=>{s.observe(e)}),()=>{s.disconnect()}},[t]),0===r.length)return null;let o={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.3,ease:[.22,1,.36,1]}}};return(0,s.jsx)("div",{children:(0,s.jsx)(h.P.nav,{className:"p-3 pr-15 m-3 rounded-2xl backdrop-blur-sm md:shadow-[0_0_35px_rgba(0,0,0,0.1)] flex flex-col min-w-[200px] font-[PingFang]",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.1}}},children:r.map((e,t)=>{let r=2===e.level?" # ":3===e.level?" ## ":"",a=2===e.level?"text-green-500":3===e.level?"text-blue-500":"text-gray-700 text-xl";return e.level,(0,s.jsxs)(h.P.a,{href:"#".concat(e.id),className:"hover:text-red-700 ".concat(a," ").concat(i===e.id?"font-bold":""),onClick:t=>{var r;t.preventDefault(),null==(r=document.getElementById(e.id))||r.scrollIntoView({behavior:"smooth"})},variants:o,custom:t,style:{marginLeft:"".concat((e.level-1)*1,"rem"),transition:"all 0.2s ease"},children:[r," ",e.text]},e.id)})})})}function g(e){let{contentSelector:t=".markdown-body"}=e,[r,a]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!1),[o,d]=(0,n.useState)(0),[c,x]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=0,t=()=>{let t=window.scrollY;t<e&&t>300?a(!0):(t>e||t<100)&&(a(!1),l(!1)),e=t};return window.addEventListener("scroll",t,{passive:!0}),()=>window.removeEventListener("scroll",t)},[]),(0,n.useEffect)(()=>{let e=()=>{d(e=>e+1),setTimeout(()=>{let e=document.querySelector(t);e&&e.querySelectorAll("h1, h2, h3").length>0?x(!0):x(!1)},100)};return window.addEventListener("content-rendered",e),setTimeout(()=>{e()},500),()=>{window.removeEventListener("content-rendered",e)}},[t]),(0,s.jsxs)(s.Fragment,{children:[c&&(0,s.jsx)(h.P.div,{className:"hidden md:block md:fixed right-4 lg:right-8 xl:right-12 top-24",initial:"hidden",animate:"visible",exit:"exit",variants:{hidden:{opacity:0,x:20},visible:{opacity:1,x:0,transition:{duration:.5,ease:[.22,1,.36,1]}},exit:{opacity:0,x:20,transition:{duration:.3}}},children:(0,s.jsx)(m,{contentSelector:t})},o),r&&c&&(0,s.jsx)(h.P.button,{className:"md:hidden fixed bottom-6 right-6 z-50 w-12 h-12 rounded-full bg-red-700 text-white shadow-lg flex items-center justify-center",onClick:()=>l(!i),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})})}),i&&c&&(0,s.jsx)(h.P.div,{className:"md:hidden fixed bottom-20 right-4 z-50 backdrop-blur-lg rounded-lg shadow-xl max-w-[80vw] max-h-[60vh] overflow-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},children:(0,s.jsx)(m,{contentSelector:t},o)})]})}var v=r(9784);let f=e=>{let{html:t}=e,r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{r.current&&t&&r.current.querySelectorAll("table").forEach(e=>{if(e.parentElement&&!e.parentElement.classList.contains("table-container")){let t=document.createElement("div");t.className="table-container",e.parentNode.insertBefore(t,e),t.appendChild(e)}})},[t]),(0,s.jsx)("div",{ref:r,className:"markdown-body",dangerouslySetInnerHTML:{__html:t}})},p="article_password",b=e=>{let{content:t,correctPassword:r,onDecrypted:a}=e,[i,l]=(0,n.useState)(""),[o,d]=(0,n.useState)(!1),[c,x]=(0,n.useState)(""),[u,m]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=localStorage.getItem(p);e&&(e===r?(d(!0),m(!0),a&&a(!0)):localStorage.removeItem(p))},[r,a]),(0,n.useEffect)(()=>{a&&a(o)},[o,a]),(0,s.jsx)("div",{className:"my-8",children:o?(0,s.jsxs)("div",{children:[(0,s.jsx)(f,{html:t}),(0,s.jsx)("button",{onClick:()=>{d(!1),u&&(localStorage.removeItem(p),m(!1)),l("")},className:"mt-4 text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:"重新锁定内容"})]}):(0,s.jsx)(v.F,{children:(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-gray-200",children:"\uD83D\uDD12 加密内容"}),(0,s.jsx)("p",{className:"mb-4 text-gray-600 dark:text-gray-400",children:"一个文章被加密了QWQ"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i===r?(d(!0),x(""),window.confirm("是否保存密码以便下次访问？")&&(localStorage.setItem(p,i),m(!0))):(x("密码不正确，请重试"),l(""))},className:"space-y-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"password",value:i,onChange:e=>l(e.target.value),placeholder:"输入密码 OR 联系我",className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",autoFocus:!0})}),c&&(0,s.jsx)(h.P.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 dark:text-red-400 text-sm",children:c}),(0,s.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors",children:"芝麻开门"})]})]})})})};var y=!0;function j(e){var t;let{postData:r}=e,[i,l]=(0,n.useState)(!1),[o,d]=(0,n.useState)(!1);(0,n.useEffect)(()=>{l(!0);let e=setTimeout(()=>{window.dispatchEvent(new Event("content-rendered"))},500);return()=>clearTimeout(e)},[]),(0,n.useEffect)(()=>{if(o){let e=setTimeout(()=>{window.dispatchEvent(new Event("content-rendered"))},500);return()=>clearTimeout(e)}},[o]);let x=(t=r.tags)&&t.some(e=>e.toLowerCase().includes("encrypt")||e.toLowerCase().includes("加密"));return(0,s.jsxs)(a.A,{post:!0,children:[(0,s.jsx)(u(),{children:(0,s.jsx)("title",{children:r.title})}),(0,s.jsxs)("div",{className:"w-full relative",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)("article",{className:"w-full md:w-3xl px-3 mt-5 md:mt-15",children:[(0,s.jsx)("h1",{className:"font-[MesloLGL] text-xl md:text-2xl font-bold text-red-700",children:r.title}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex text-sm mt-1",children:[(0,s.jsx)("p",{className:"font-bold text-gray-600 font-[MesloLGL] md:text-base",children:"SUNSET"}),(0,s.jsx)("p",{className:"font-thin text-gray-600 font-[MesloLGL] ml-2 md:text-base",children:r.date}),(0,s.jsxs)("p",{className:"font-thin text-gray-600 font-[MesloLGL] ml-2 md:text-base",children:["(Updated:",r.updated,")"]})]}),(0,s.jsxs)("div",{className:"flex text-sm mt-1",children:[(0,s.jsx)("p",{className:"font-bold text-gray-600 font-[MesloLGL] md:text-base",children:"Category:"}),(0,s.jsx)(c,{variant:"secondary",className:"ml-2 md:text-sm text-gray-700 font-[MesloLGL]",children:r.categories})]}),(0,s.jsxs)("div",{className:"flex flex-wrap text-sm mt-1",children:[(0,s.jsx)("p",{className:"font-bold text-gray-600 font-[MesloLGL] md:text-base",children:"Tags:"}),r.tags.map(e=>(0,s.jsx)(c,{variant:"secondary",className:"ml-2 md:text-sm text-gray-700 font-[MesloLGL]",children:e},e))]})]}),i?x?(0,s.jsx)(b,{content:r.contentHtml,correctPassword:"sunset666",onDecrypted:e=>{d(e)}}):(0,s.jsx)(f,{html:r.contentHtml}):(0,s.jsx)("div",{className:"my-8 text-center",children:"加载中..."})]})}),i&&(0,s.jsx)(g,{contentSelector:".markdown-body"})]})]})}},9784:(e,t,r)=>{"use strict";r.d(t,{_:()=>n,F:()=>i});var s=r(7876),a=r(8741);let n=e=>{let{children:t,delay:r=0,duration:n=.5,className:i=""}=e;return(0,s.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:r,duration:n,ease:"easeInOut"},className:i,children:t})},i=e=>{let{children:t,direction:r="up",delay:n=0,duration:i=.5,className:l=""}=e,o=()=>({y:0,x:0,opacity:1});return(0,s.jsx)(a.P.div,{initial:(()=>{switch(r){case"up":default:return{y:50,opacity:0};case"down":return{y:-50,opacity:0};case"left":return{x:50,opacity:0};case"right":return{x:-50,opacity:0}}})(),animate:o(),whileInView:o(),viewport:{once:!0},transition:{delay:n,duration:i,ease:[.25,.1,.25,1]},className:l,children:t})}},9918:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/[year]/[month]/[day]/[id]",function(){return r(9173)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[999,636,593,792],()=>t(9918)),_N_E=e.O()}]);